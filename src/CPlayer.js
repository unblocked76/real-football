"use strict";var CPlayer=Actor.extend({m_PlayerName:null,m_myTeam:null,m_opTeam:null,m_Number:gloft.casttoint(null),m_Number_in_team:gloft.casttoint(null),m_role:gloft.casttoint(null),m_isPlayerInScreen:gloft.casttoboolean(null),m_PlayerInScreenTime:gloft.casttoint(null),m_evaluation:gloft.casttoint(null),m_tackleTime:gloft.casttoint(null),m_successTackleTime:gloft.casttoint(null),m_successFeintTime:gloft.casttoint(null),m_passTime:gloft.casttoint(null),m_successPassTime:gloft.casttoint(null),m_saveTime:gloft.casttoint(null),m_successSaveTime:gloft.casttoint(null),m_shootTime:gloft.casttoint(null),m_shootOnTargetTime:gloft.casttoint(null),m_goalTime:gloft.casttoint(null),m_asistTime:gloft.casttoint(null),m_getBallTime:gloft.casttoint(null),m_runDis:gloft.casttoint(null),m_successInterceptTime:gloft.casttoint(null),m_startTime:gloft.casttoint(null),m_foulOutTime:gloft.casttoint(null),m_speed:gloft.casttoint(null),m_speedWithBall:gloft.casttoint(null),m_speedMove:gloft.casttoint(null),m_speedFast:gloft.casttoint(null),m_speedFastWithBall:gloft.casttoint(null),m_reaction:gloft.casttoint(null),m_inaccuracy:gloft.casttoint(null),m_controlRange:gloft.casttoint(null),m_card:gloft.casttoint(null),m_showCard:gloft.casttoint(null),m_isMarked:gloft.casttoboolean(null),m_isInSelfDefZone:gloft.casttoboolean(null),m_isCloseDown:gloft.casttoboolean(null),m_isPressed:gloft.casttoboolean(null),m_isGoForBall:gloft.casttoboolean(null),m_character:gloft.casttoint(null),m_body:gloft.casttoint(null),m_def:gloft.casttoint(null),m_spd:gloft.casttoint(null),m_dribble:gloft.casttoint(null),m_tech:gloft.casttoint(null),m_attackValue:gloft.casttoint(null),m_defenceValue:gloft.casttoint(null),m_pass:gloft.casttoint(null),m_shoot:gloft.casttoint(null),m_starAbility:gloft.casttobyte(null),m_court:gloft.casttoint(null),m_dirToBall:gloft.casttoint(null),m_disToBall:gloft.casttoint(null),m_beShoved:gloft.casttoboolean(null),m_lastBeShoved:gloft.casttoboolean(null),m_shoveTick:gloft.casttoint(null),m_PlayerTouchRect:null,m_playerTouchRectCount:gloft.casttoint(null),m_lastAbilityAtt:gloft.casttoint(null),m_lastAbilityDef:gloft.casttoint(null),m_lastAbilitySpd:gloft.casttoint(null),m_lastAbilityTech:gloft.casttoint(null),m_lastAbilityPow:gloft.casttoint(null),m_curAbilityAtt:gloft.casttoint(null),m_curAbilityDef:gloft.casttoint(null),m_curAbilitySpd:gloft.casttoint(null),m_curAbilityTech:gloft.casttoint(null),m_curAbilityPow:gloft.casttoint(null),m_curAbilitySta:gloft.casttoint(null),m_curAbilitySht:gloft.casttoint(null),m_curAbilityOne:gloft.casttoint(null),m_curAbilityRea:gloft.casttoint(null),m_curAbilityHan:gloft.casttoint(null),m_curAbilityRush:gloft.casttoint(null),m_curAbilityDri:gloft.casttoint(null),m_fatigue:gloft.casttoint(null),m_baseFatigue:gloft.casttoint(null),m_timeFatigue:gloft.casttoint(null),m_stamina:gloft.casttoint(null),m_lastTimeFatigue:gloft.casttoint(null),m_roleFatigue:gloft.casttoint(null),m_side:gloft.casttoint(null),m_destReached:gloft.casttoboolean(null),m_destChanged:gloft.casttoboolean(null),m_destRangeRadius:gloft.casttoint(null),m_waitEndsTick:gloft.casttolong(null),m_inertiaEndsTick:gloft.casttolong(null),m_currState:gloft.casttoint(null),m_nextState:gloft.casttoint(null),m_currDir:gloft.casttoint(null),m_currDirForFastRun:gloft.casttoint(null),m_nextDir:gloft.casttoint(null),m_param1:gloft.casttoint(null),m_param2:gloft.casttoint(null),m_param3:gloft.casttoint(null),m_idea:gloft.casttoint(null),m_ideaParam1:gloft.casttoint(null),m_preState:gloft.casttoint(null),m_preDir:gloft.casttoint(null),m_preDirForFastRun:gloft.casttoint(null),m_preParam1:gloft.casttoint(null),m_preParam2:gloft.casttoint(null),m_preParam3:gloft.casttoint(null),m_preFastRun:gloft.casttoboolean(null),m_isFastRun:gloft.casttoboolean(null),m_fast2Fast:gloft.casttoboolean(null),m_isFeint:gloft.casttoboolean(null),m_doHumanWallJump:gloft.casttoboolean(null),m_protectTick:gloft.casttolong(null),m_bInAccelerating:gloft.casttoboolean(null),m_accFrameIndex:gloft.casttoint(null),m_accStepIndex:gloft.casttoint(null),m_accFrames:gloft.casttoint(null),ACCELERATE_STEP:gloft.casttoint(null),m_vXToGet:gloft.casttoint(null),m_vYToGet:gloft.casttoint(null),m_runningTick:gloft.casttoint(null),m_turnFastDelay:null,m_foolEndsTick:gloft.casttolong(null),m_foolAnimationEndsTick:gloft.casttolong(null),m_feint:gloft.casttoint(null),m_feintEndsTick:gloft.casttolong(null),m_outBallParam1:gloft.casttoint(null),m_outBallParam2:gloft.casttoint(null),m_outBallParam3:gloft.casttoint(null),m_outBallParam4:gloft.casttoint(null),m_isStronger:gloft.casttoboolean(null),m_isWeaker:gloft.casttoboolean(null),m_lastBCTime:gloft.casttolong(null),m_continuousBCTime:gloft.casttoint(null),m_bcValue:gloft.casttoint(null),m_reducedVX:gloft.casttoint(null),m_reducedVY:gloft.casttoint(null),focusScore:gloft.casttoint(null),focusScoreX:gloft.casttoint(null),focusScoreY:gloft.casttoint(null),focusScoreFrontMiddle:gloft.casttoint(null),m_isFocus:gloft.casttoboolean(null),m_isControl:gloft.casttoboolean(null),m_whichPlayer:gloft.casttoint(null),m_dribbleState:gloft.casttoint(null),m_fastrun:gloft.casttoboolean(null),m_steponball:gloft.casttoboolean(null),m_withBall:gloft.casttoboolean(null),m_isBallReceiver:gloft.casttoboolean(null),m_ballReceiverState:gloft.casttoint(null),m_ballReceiverParam:gloft.casttoint(null),m_canHead:gloft.casttoboolean(null),m_mustChangeAction:gloft.casttoboolean(null),m_behavior:gloft.casttoint(null),m_gridX:gloft.casttoint(null),m_gridY:gloft.casttoint(null),m_GridOffsetX:gloft.casttoint(null),m_defaultGridX:gloft.casttoint(null),m_defaultGridY:gloft.casttoint(null),m_formationGridX:gloft.casttoint(null),m_formationGridY:gloft.casttoint(null),m_destGridX:gloft.casttoint(null),m_destGridY:gloft.casttoint(null),m_tacState:gloft.casttoint(null),m_coachSetTacState:gloft.casttoint(null),m_coachSetDestGridX:gloft.casttoint(null),m_coachSetDestGridY:gloft.casttoint(null),m_coachSetMarkID:gloft.casttoint(null),m_markID:gloft.casttoint(null),m_inDefendZone:null,m_defendDecideScore:null,m_pressID:gloft.casttoint(null),m_markerID:gloft.casttoint(null),m_presserID:gloft.casttoint(null),m_coachSetPresserID:gloft.casttoint(null),m_attackGridX:gloft.casttoint(null),m_defendGridX:gloft.casttoint(null),m_startToRunFor12:gloft.casttoboolean(null),m_playerEffects:null,m_effectIndex:gloft.casttoint(null),m_ctrRainEffect:gloft.casttoint(null),m_slideTraceEffect:gloft.casttoboolean(null),m_slideTraceID:gloft.casttoint(null),m_referee_ID:gloft.casttobyte(null),m_refereeArrive:gloft.casttoboolean(null),m_refereeLastX:gloft.casttoint(null),ctor:function(){Actor.prototype.ctor.call(this);this.m_isPlayerInScreen=false;this.m_PlayerInScreenTime=0;this.m_starAbility=0;this.m_PlayerTouchRect=gloft.ArrayCreation([10],gloft.casttoint(null));this.m_playerTouchRectCount=0;this.m_idea=-1;this.m_preDir=-1;this.m_preDirForFastRun=-1;this.m_bInAccelerating=false;this.m_accFrameIndex=0;this.m_accStepIndex=0;this.ACCELERATE_STEP=4;this.m_turnFastDelay=gloft.ArrayCreation([6],gloft.casttoint(null));this.m_feint=-1;this.m_feintEndsTick=0;this.focusScore=0;this.focusScoreX=0;this.focusScoreY=0;this.focusScoreFrontMiddle=0;this.m_whichPlayer=-1;this.m_dribbleState=0;this.m_inDefendZone=gloft.ArrayCreation([2],gloft.casttoint(null));this.m_defendDecideScore=gloft.ArrayCreation([2],gloft.casttoint(null));this.m_playerEffects=gloft.ArrayCreation([32],gloft.casttobyte(null));this.m_refereeArrive=false},addTouchRectToPlayer:function(a,b){this.m_PlayerTouchRect[this.m_playerTouchRectCount%5*2]=a;this.m_PlayerTouchRect[this.m_playerTouchRectCount%5*2+1]=b;++this.m_playerTouchRectCount},initProperties_dup_Z:function(a){this.m_playerTouchRectCount=0;this.initProperties_dup_IZ(-1,a)},saveStatisticsToArray:function(c){var b=0;var a=cGame.getCurrMatchTime();if(a>120){a=120}if(this.m_foulOutTime!=0){a=this.m_foulOutTime}c[b++]=gloft.casttobyte((a-this.m_startTime));c[b++]=gloft.casttobyte((gloft.casttoint(gloft.casttoint((this.m_runDis>>5)*5/cGame.getCurDuration())/1000)));c[b++]=gloft.casttobyte(cGame.limit(this.m_getBallTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_successInterceptTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_tackleTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_successTackleTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_passTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_successPassTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_asistTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_shootTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_shootOnTargetTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_goalTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_saveTime,0,99));c[b++]=gloft.casttobyte(cGame.limit(this.m_successSaveTime,0,99))},clearPlayerStatistics:function(){this.m_successFeintTime=0;this.m_passTime=0;this.m_successPassTime=0;this.m_saveTime=0;this.m_successSaveTime=0;this.m_tackleTime=0;this.m_successTackleTime=0;this.m_goalTime=0;this.m_asistTime=0;this.m_evaluation=60;this.m_getBallTime=0;this.m_runDis=0;this.m_successInterceptTime=0;this.m_shootTime=0;this.m_shootOnTargetTime=0;cGame.m_successPenaltySave=0},getPlayerEvaluation:function(a){var e=0;var c=gloft.casttoint(gloft.casttoint((this.m_runDis>>3)/cGame.getMatchTime())/1000);var b=cGame.getCurrMatchTime();if(this.m_foulOutTime!=0){b=this.m_foulOutTime}var d=b-this.m_startTime;if(this.m_role==3){if(c>=80){e+=10}else{if(c<50&&d>=80){e-=10}}}else{if(this.m_role==2){if(c>=100){e+=10}else{if(c<60&&d>=80){e-=10}}}else{if(this.m_role==1){if(c>=80){e+=10}else{if(c<50&&d>=80){e-=10}}}else{if(this.m_successSaveTime>0){e+=5}}}}e+=gloft.casttoint((this.m_getBallTime*5+(this.m_tackleTime+this.m_successInterceptTime)*20-(this.m_tackleTime-this.m_successTackleTime)*10+this.m_passTime*15-(this.m_passTime-this.m_successPassTime)*7+this.m_shootOnTargetTime*20+this.m_successSaveTime*30)/(12*a));return e},initProperties_dup_IZ:function(c,b){var a=(c==-1)?this.m_Number:c;this.m_Number_in_team=a;var d=this.m_myTeam.m_ID*1260+a*42;this.m_curAbilitySpd=7-cGame.convertPlayerValue(cGame.s_playerData[d+7]);this.m_curAbilityTech=7-cGame.convertPlayerValue(cGame.s_playerData[d+2])>>1;if(((cGame.s_playerData[d+34]&7)==0&&this.m_Number==0)||((cGame.s_playerData[d+34]&7)!=0&&this.m_Number!=0)){this.m_curAbilityAtt=7-cGame.convertPlayerValue(cGame.s_playerData[d+0])>>1}else{this.m_curAbilityAtt=7-cGame.convertPlayerValue(50)}this.m_curAbilityDef=7-cGame.convertPlayerValue(cGame.s_playerData[d+1])>>1;this.m_curAbilityPow=7-cGame.convertPlayerValue(cGame.s_playerData[d+10])>>1;this.m_curAbilitySta=7-cGame.convertPlayerValue(cGame.s_playerData[d+12])>>1;this.m_curAbilityDri=7-cGame.convertPlayerValue(cGame.s_playerData[d+3])>>1;this.m_curAbilitySht=7-cGame.convertPlayerValue(cGame.s_playerData[d+5])>>1;this.m_character=cGame.s_playerData[d+29];this.m_stamina=cGame.s_playerData[d+12];this.m_pass=cGame.s_playerData[d+4];this.m_starAbility=gloft.casttobyte((cGame.s_playerData[d+32]&127));this.m_body=cGame.s_playerData[d+11];this.m_def=cGame.s_playerData[d+1];this.m_spd=cGame.s_playerData[d+7];this.m_dribble=cGame.s_playerData[d+3];this.m_tech=cGame.s_playerData[d+2];this.m_attackValue=gloft.casttoint((this.m_dribble*2+this.m_body*2+this.m_spd)/5);this.m_defenceValue=gloft.casttoint((this.m_def*2+this.m_body*2+this.m_spd)/5);this.m_curAbilityOne=7-cGame.convertPlayerValue(cGame.s_playerData[d+19]);this.m_curAbilityRea=7-cGame.convertPlayerValue(cGame.s_playerData[d+9]);this.m_curAbilityHan=7-cGame.convertPlayerValue(cGame.s_playerData[d+21]);this.m_curAbilityRush=7-cGame.convertPlayerValue(cGame.s_playerData[d+20]);if(!b){this.m_startTime=0;this.m_foulOutTime=0;this.clearPlayerStatistics()}this.m_bInAccelerating=false;cGame.playerNameInMatch[this.m_Number]=cGame.playerName[0][a];if(cGame.s_playerData[d+31]==0){this.updateProperties(0)}else{if(cGame.s_playerData[d+31]==2){this.updateProperties(0)}else{if(cGame.s_playerData[d+31]==3){this.updateProperties(0)}else{this.updateProperties(0)}}}if(this.m_Number!=0&&(cGame.s_playerData[d+20]&1<<this.m_role-1)==0){this.updateProperties(0)}if(cGame.s_matchDifficult==5&&this.m_myTeam.m_type==1){this.updateProperties(cGame.s_game_HellPropertiesAdded);this.m_curAbilityDef=this.m_lastAbilityDef}if(cGame.s_matchDifficult<2&&this.m_myTeam.m_type==1&&(cGame.s_aiMode!=13||this.m_myTeam.m_ID==1)){this.updateProperties(-4+cGame.s_matchDifficult);this.m_curAbilityDef=this.m_lastAbilityDef}this.m_lastAbilitySpd=this.m_curAbilitySpd;this.m_lastAbilityTech=this.m_curAbilityTech;this.m_lastAbilityAtt=this.m_curAbilityAtt;this.m_lastAbilityDef=this.m_curAbilityDef;this.m_lastAbilityPow=this.m_curAbilityPow},getProperties:function(){CPlayer.s_tempAbility[0]=3-this.m_curAbilityAtt;CPlayer.s_tempAbility[1]=3-this.m_curAbilityDef;CPlayer.s_tempAbility[2]=3-this.m_curAbilityTech;CPlayer.s_tempAbility[3]=7-this.m_curAbilitySpd;CPlayer.s_tempAbility[4]=3-this.m_curAbilitySta;CPlayer.s_tempAbility[5]=3-this.m_curAbilityPow},setProperties:function(){this.m_curAbilityAtt=3-CPlayer.s_tempAbility[0];this.m_curAbilityDef=3-CPlayer.s_tempAbility[1];this.m_curAbilityTech=3-CPlayer.s_tempAbility[2];this.m_curAbilitySpd=7-CPlayer.s_tempAbility[3];this.m_curAbilitySta=3-CPlayer.s_tempAbility[4];this.m_curAbilityPow=3-CPlayer.s_tempAbility[5]},updateProperties:function(a){this.m_lastAbilitySpd=this.m_curAbilitySpd;this.m_lastAbilityTech=this.m_curAbilityTech;this.m_lastAbilityAtt=this.m_curAbilityAtt;this.m_lastAbilityDef=this.m_curAbilityDef;this.m_lastAbilityPow=this.m_curAbilityPow;this.m_curAbilityAtt-=a;this.m_curAbilityDef-=a;this.m_curAbilitySpd-=a;this.m_curAbilityTech-=a;this.m_curAbilityPow-=a;this.m_curAbilitySht-=a;this.m_curAbilityAtt=cGame.limit(this.m_curAbilityAtt,0,3);this.m_curAbilityDef=cGame.limit(this.m_curAbilityDef,0,3);this.m_curAbilitySpd=cGame.limit(this.m_curAbilitySpd,0,7);this.m_curAbilityTech=cGame.limit(this.m_curAbilityTech,0,3);this.m_curAbilityPow=cGame.limit(this.m_curAbilityPow,0,3);this.m_curAbilitySht=cGame.limit(this.m_curAbilitySht,0,3);this.m_speed=gloft.casttoint(CPlayer.SPEED_VAR[this.m_curAbilitySpd]*1/1);this.m_destRangeRadius=this.m_speed;this.m_speedWithBall=this.m_speed-CPlayer.WASTING_SPEED;this.m_speedMove=((this.m_Number==0)?((cGame.s_matchDifficult>1)?(gloft.casttoint((this.m_speed<<2)/5)):(gloft.casttoint((this.m_speed>>1)/3))):(gloft.casttoint(this.m_speed*4/5)));this.m_speedFast=this.m_speed*CPlayer.FAST_SPEED_MULTIPLIER>>4;this.m_speedFastWithBall=gloft.casttoint(this.m_speedFast*4/5);this.m_reaction=2+this.m_curAbilityDef*2;this.m_pass+=a*6;this.m_body+=a*6;this.m_def+=a*6;this.m_spd+=a*6;this.m_pass=cGame.limit(this.m_pass,55,90);this.m_body=cGame.limit(this.m_body,55,90);this.m_def=cGame.limit(this.m_def,55,90);this.m_spd=cGame.limit(this.m_spd,55,90);if(this.m_dribble<95){this.m_dribble+=a*6;this.m_dribble=cGame.limit(this.m_dribble,55,90)}this.m_attackValue=gloft.casttoint((this.m_dribble*2+this.m_body*2+this.m_spd)/5);this.m_defenceValue=gloft.casttoint((this.m_def*2+this.m_body*2+this.m_spd)/5);if(this.m_Number==0){this.m_inaccuracy=2560-(this.m_curAbilityRea*384-(7-this.m_curAbilityHan)*64);this.m_controlRange=256-((3-this.m_curAbilityDef)*256+(this.m_curAbilityHan-4)*64)}else{this.m_inaccuracy=256+this.m_curAbilityAtt*768;this.m_controlRange=3840+(3-this.m_curAbilityDef)*512}},updateSpeedVar:function(){this.m_speed=CPlayer.SPEED_VAR[this.m_curAbilitySpd];this.m_destRangeRadius=this.m_speed;this.m_speedWithBall=this.m_speed-CPlayer.WASTING_SPEED;this.m_speedMove=((this.m_Number==0)?((cGame.s_matchDifficult>1)?(gloft.casttoint((this.m_speed<<2)/5)):(gloft.casttoint((this.m_speed>>1)/3))):(gloft.casttoint(this.m_speed/3)));this.m_speedFast=this.m_speed*CPlayer.FAST_SPEED_MULTIPLIER>>4;this.m_speedFastWithBall=this.m_speedFast-CPlayer.WASTING_SPEED},restoreProperties:function(){this.updateProperties(-1)},initFatigue:function(a){this.m_fatigue=0;if(cGame.s_matchMode==0){this.m_baseFatigue=0}else{this.m_baseFatigue=a*10}this.m_timeFatigue=0;if((this.m_starAbility&64)!=0){this.m_roleFatigue=30}},getFatigue:function(a){var c=gloft.casttoint(this.m_stamina/10);var b=(c>5)?(15-c):10;if((this.m_starAbility&64)!=0){--b}return gloft.casttoint(a*b/25000)},updateFatigue:function(){this.updateBalFatigue()},updateBalFatigue:function(){if(this.m_court==1){return}this.m_timeFatigue=this.getBalFatigue()*10;this.m_fatigue=this.m_timeFatigue+this.m_baseFatigue;this.m_fatigue=cGame.limit(this.m_fatigue,0,990);if(this.m_lastTimeFatigue!=this.m_timeFatigue){this.m_lastTimeFatigue=this.m_timeFatigue;if(this.m_fatigue>900){this.updateProperties(-2)}else{if(this.m_fatigue>700){this.updateProperties(-1)}}}var a=this.m_myTeam.m_fatigue;var b=this.m_myTeam;a[CTeam.m_playerID_in_default_order[this.m_Number]]=this.m_fatigue},getBalFatigue:function(){var e=gloft.casttoint(gloft.casttoint((this.m_runDis>>5)*5/cGame.getCurDuration())/100);var d=cGame.limit(this.m_tackleTime,0,99);var c=cGame.limit(this.m_passTime,0,99);var a=cGame.limit(this.m_shootTime,0,99);if(cGame.s_balFatigue==null){GLLib.Pack_Open("/2");cGame.s_balFatigue=GLLib.Pack_ReadArray(26);GLLib.Pack_Close()}var b=gloft.casttoint(e*cGame.s_balFatigue[0][0]/(this.m_stamina+cGame.s_balFatigue[0][1]))+gloft.casttoint((d*cGame.s_balFatigue[0][2]+(c+a)*cGame.s_balFatigue[0][3])/cGame.getCurDuration());return b},addFatigue:function(a){},deFatigue:function(a){},getPlayerData:function(a){var d=this.m_myTeam.m_ID;var e=cGame.s_subs_N[d][this.m_Number];if(e>10){var c=this.m_myTeam;e=CTeam.m_playerID_in_default_order[this.m_Number]}var b=e%cGame.s_teamPlayerNum[d];return cGame.s_playerData[d*1260+b*42+a]},getFormationPos:function(){if(this.m_role==3){return 4}if(this.m_role==2){if(this.m_side==1||this.m_side==4){return 3}return 2}else{if(this.m_role!=1){return 5}if(this.m_side==1||this.m_side==4){return 1}return 0}},haveCommandFinished:function(){return this.m_currState!=10&&this.m_currDir==this.m_nextDir&&(this.m_nextState==0||this.m_destReached)&&GLLib.s_game_currentFrameNB>=this.m_waitEndsTick&&(this.m_actionOver||this.m_actionCycle)&&(this.m_myTeam.m_commandList[this.m_Number<<4]!=13||this.m_withBall)},stand:function(a){if(a){this.set_currState(0);this.set_nextState(0);this.set_nextDir(this.m_currDir);this.m_mustChangeAction=true;this.setBehavior(0);this.m_destReached=false}else{this.m_steponball=(!this.m_steponball&&this.m_withBall&&CTeam.s_matchState==0&&this.m_currState!=0&&this.m_currDir==this.m_nextDir&&this.m_behavior!=29&&this.m_behavior!=30);this.set_nextState(0)}this.m_waitEndsTick=0},wait:function(a){if(this.m_currState!=0){this.stand(false);if(this.m_isFocus){}}this.m_waitEndsTick=GLLib.s_game_currentFrameNB+a},receiveTurnInertia:function(a){this.m_inertiaEndsTick=GLLib.s_game_currentFrameNB+a;this.set_currState(10)},gkRunTo:function(a,e){var b=CPlayer.dirTo(a-this.m_posX,e-this.m_posY);var d=CPlayer.dirDifference(this.m_currDir,b);var c=cGame.fastDistance(this.m_posX-a,this.m_posY-e);if(d==0||this.m_withBall||c>25600){this.set_nextState(1);this.m_param1=a;this.m_param2=e;this.m_param3=((this.m_withBall||c<9216)?0:8)}else{this.set_nextState(1);this.m_param1=a;this.m_param2=e;if(d==4||d==0){this.m_param3=2}else{this.m_param3=1}}this.m_destReached=false;this.m_destChanged=true;this.m_waitEndsTick=0},runBackAtFreeKick:function(){this.m_withBall=false;this.set_nextDir(this.m_currDir);this.m_param1=(this.m_currDir+4&7);this.m_param3=5;this.set_nextState(1);this.m_destReached=false;this.m_waitEndsTick=0},runTo:function(b,h,a){if(this.m_isFocus){}this.m_runningTick=((this.m_currState!=1&&!this.m_isFocus&&!this.m_isBallReceiver)?0:3);var d=CPlayer.dirTo(b-this.m_posX,h-this.m_posY);var f=cGame.fastDistance(this.m_posX-b,this.m_posY-h);var g=CPlayer.dirDifference(this.m_currDir,d);var c=null;if(CPlayer.s_ballOwner!=null){c=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){c=CPlayer.s_ballFastOwner}}Label_0468:{Label_0426:{if((g<-1||g>1)&&this.m_dirToBall==this.m_currDir&&!this.m_withBall&&!this.m_isBallReceiver&&this!=CPlayer.s_legendPlayer){if(g==4&&CPlayer.s_ballOwner==null){if(f<=10240){break Label_0426}}else{if(f<=12800){break Label_0426}}}if((c!=null&&this.m_Number==c.m_coachSetPresserID)||c==null||f>12800||this.m_myTeam.m_state==1||this.m_isFocus||this.m_isStronger||this.m_isWeaker){this.set_nextState(1);if(f>1024&&((!this.m_isStronger&&!this.m_isWeaker)||this.m_withBall||this.m_myTeam.m_type!=1||CPlayer.dirIn3(this.getCompetitor().m_currDir,d))){this.m_nextDir=d}this.m_param1=b;this.m_param2=h;if(a||(CTeam.s_matchState==0&&f>51200&&CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=this)){this.set_fastrun(true);if(this.m_runningTick!=0){this.set_dribbleState(1);this.m_param3=8}else{this.set_dribbleState(0);this.m_param3=0}}else{this.set_fastrun(false);this.set_dribbleState(0);this.m_param3=0}if(!this.m_withBall){this.set_dribbleState(2)}break Label_0468}}this.m_nextDir=this.m_dirToBall;this.set_nextState(1);this.m_param1=b;this.m_param2=h;if(g==4){this.m_param3=2}else{this.m_param3=1}}if(CTeam.s_matchState==0||CTeam.s_matchState==3||CTeam.s_matchState==5||CTeam.s_matchState==1||CTeam.s_matchState==4){var e=8;if(cGame.s_matchMode==11&&CTeam.s_matchState==5){e=7}this.m_param1=cGame.limit(this.m_param1,-528<<e,528<<e);this.m_param2=cGame.limit(this.m_param2,-337<<e,337<<e)}if(this.m_param1>135168||this.m_param1<-135168||this.m_param2>86272||this.m_param2<-86272){}this.m_destReached=false;this.m_destChanged=true;this.m_waitEndsTick=0;if(this.m_isFocus){}},runOn:function(a){if(this.m_isFocus){}var b=CPlayer.dirDifference(this.m_currDir,a);if((b>=-1&&b<=1)||this.m_dirToBall!=this.m_currDir||this==CPlayer.s_legendPlayer||this.m_withBall||this.m_isBallReceiver){if(b>=-1&&b<=1&&this.m_withBall){if(java.lang.Math.abs(cGame.s_prevTouchForRunOnDirX-cGame.s_touch_x)>5||java.lang.Math.abs(cGame.s_prevTouchForRunOnDirY-cGame.s_touch_y)>5){cGame.s_prevTouchForRunOnDirX=cGame.s_touch_x;cGame.s_prevTouchForRunOnDirY=cGame.s_touch_y;this.set_nextDir(a)}else{this.set_nextDir(this.m_currDir)}}else{this.set_nextDir(a)}this.m_param3=(this.m_fastrun?7:3)}else{this.set_nextDir(this.m_currDir);this.m_param1=a;if(b==4){this.m_param3=5}else{this.m_param3=4}}this.set_nextState(1);this.m_destReached=false;this.m_waitEndsTick=0},turn:function(a){this.m_nextDir=((a==-1)?this.m_dirToBall:a);if(this.m_myTeam.m_type==1){if(this.m_isFocus){}this.stand(false)}},directTurn:function(a){this.m_preDir=a;this.set_preState(-1);CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]=null},throughPass:function(a){CPlayer.s_power=12;this.pass(a.m_posX,a.m_posY,a.m_Number);this.m_myTeam.setThroughPlayer(a.m_Number)},canAutoThrough:function(m,k,e){if(e==-1){return false}var h=false;var a=this.m_myTeam.m_players[e];var c=cGame.fastDistance(m-this.m_posX,k-this.m_posY);if(c<17920||this.posBehindMeBySide(a.m_posX,a.m_posY)||CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]){return false}var l=0;for(var g=0;g<11;++g){var j=CTeam.s_teams[1-this.m_myTeam.m_ID].m_players[g];var d=CPlayer.dirTo(j.m_posX-m,j.m_posY-k);var b=cGame.fastDistance(j.m_posX-m,j.m_posY-k);if(d>=0&&d<=5&&b<10240){++l}}var f=cGame.random(0,99);if(this.m_character==4){f+=10}if(l>=3){h=false}else{if(l>=2){if(f<50){h=true}}else{if(l>=1){if(f<70){h=true}}else{h=true}}}return h},pass:function(h,f,e){this.set_nextState(2);if(this.m_isFocus&&!cGame.getTutorialComplete(2)){cGame.setTutorialComplete(2,true)}this.m_param1=h;this.m_param2=f;cGame.s_potentialPlayerNum=-100;if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null){this.m_param1=CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID].m_posX;this.m_param2=CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID].m_posY;if(this.m_isFocus&&!cGame.getTutorialComplete(3)){cGame.setTutorialComplete(3,true)}}if(CTeam.s_matchState==0){var a=cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY);var b=true;if(b){var i=0;var c=true;if((this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)&&this.canAutoThrough(h,f,e)){i=25600;this.m_param2+=this.getThroughPassOffset(h,f,i)}else{if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null){i=25600;this.m_param2+=this.getThroughPassOffset(h,f,i)}else{if(this.m_character==4&&cGame.random(0,1)==0){i=gloft.casttoint(49152/((cGame.random(0,1)==0)?6:8))}else{var d=cGame.random(0,10);if((this.m_myTeam.m_type==1&&this!=CPlayer.s_legendPlayer&&((this.m_pass>=80&&d<2)||((this.m_starAbility&8)!=0&&d<3)))||CPlayer.s_cpuNeedThrough){this.m_param2+=this.getThroughPassOffset(h,f,i);i=25600;if((this.m_starAbility&8)!=0){i+=5120}}else{CPlayer.s_orgX=h;CPlayer.s_orgY=f;CPlayer.s_blockPlayerArrayIndex=0;this.refreshOpPlayerBlockTheTrace();this.m_myTeam.refreshGridOfOpTeam();this.m_myTeam.selectGoodPassPoint(h,f,this.m_Number,1);c=false}CPlayer.s_cpuNeedThrough=false}}}if(c){CPlayer.s_bIsThroughPass=true;CPlayer.s_chaseBallPercent=cGame.random(0,100);if(i<12288){i=12288}var g=java.lang.Math.abs(this.m_posX-h);if((i=g)<15360){i=17920;if(java.lang.Math.abs(this.m_posY-f)<15360){if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){i=12800}else{i=15360}}else{if(java.lang.Math.abs(this.m_posY-f)<25600){if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){i=15360}else{i=20480}}else{if(java.lang.Math.abs(this.m_posY-f)<30720){if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){i=17920}else{i=25600}}else{if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){i=20480}else{i=30720}}}}}else{if(g<38400){if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){i=20480}else{i=25600}}else{if(g>=38400){i=38400}else{if((this.m_myTeam.m_leftSide&&h<this.m_posX)||(!this.m_myTeam.m_leftSide&&h>this.m_posX)){this.m_param1=this.m_posX;i=0}else{if(g==0){i=10240}else{i=25600}}}}}}if((CTeam.s_throughReceiverID!=-1&&this.m_myTeam.m_players[CTeam.s_throughReceiverID].m_currState==1)||(CTeam.s_potentialPlayer!=null&&CTeam.s_potentialPlayer.m_currState==1)){i+=7680}this.m_param1+=(this.m_myTeam.m_leftSide?i:(-i));this.addOutBallOff(a);this.m_param1=cGame.limit(this.m_param1,-118784,118784);this.m_param2=cGame.limit(this.m_param2,-69888,69888);CPlayer.s_throughPass=c}}if(cGame.ENABLE_CHEAT_TEST){this.refreshOpPlayerBlockTheTrace();this.m_myTeam.refreshGridOfOpTeam();CPlayer.s_passFromGridX=this.m_myTeam.PosToGrid(this.m_posX);CPlayer.s_passFromGridY=this.m_myTeam.PosToGrid(this.m_posY);CPlayer.s_passGridX=this.m_myTeam.PosToGrid(this.m_param1);CPlayer.s_passGridY=this.m_myTeam.PosToGrid(this.m_param2);CPlayer.s_orgGridX=(CPlayer.s_orgGridY=-100);if(e>=0){CPlayer.s_orgGridX=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[e].m_posX);CPlayer.s_orgGridY=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[e].m_posY)}}this.m_param3=e},addOutBallOff:function(a){if(this.m_isStronger||this.m_isWeaker){this.m_param1-=gloft.casttoint((this.m_param1-this.m_posX)/10);this.m_param2-=gloft.casttoint((this.m_param2-this.m_posY)/10)}},getThroughPassOffset:function(a,g,d){var f=this.m_myTeam.m_leftSide?(this.m_posX>a):(this.m_posX<a);var e=CPlayer.dirIn3(this.m_currDir,this.m_myTeam.m_leftSide?2:6);var b=0;var c=java.lang.Math.abs(this.m_posY-g);if(c<7680){b=5120}else{if(c<15360){this.m_param2=this.m_posY}else{b=-7680}}if(this.m_posY>g){b=-b}return b},refreshOpPlayerBlockTheTrace:function(){var d=CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY);var b=cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY);for(var e=1;e<11;++e){var a=this.m_myTeam.m_opTeam.m_players[e];var c=a.m_dirToBall+4&7;if(d==c&&a.m_disToBall<b){var f=cGame.distPointToLine(a.m_posX,a.m_posY,this.m_posX,this.m_posY,this.m_param1,this.m_param2);if(f<2048){if(CPlayer.s_blockPlayerArrayIndex>=CPlayer.s_blockPlayerPos.length){break}CPlayer.s_blockPlayerPos[CPlayer.s_blockPlayerArrayIndex][0]=a.m_posX;CPlayer.s_blockPlayerPos[CPlayer.s_blockPlayerArrayIndex][1]=a.m_posY;++CPlayer.s_blockPlayerArrayIndex}}if(CPlayer.s_blockPlayerArrayIndex>=CPlayer.s_blockPlayerPos.length){break}}for(var e=0;e<CPlayer.s_blockPlayerArrayIndex;++e){CPlayer.parseVector_dup_III(b,CPlayer.s_blockPlayerPos[e][0]-this.m_posX,CPlayer.s_blockPlayerPos[e][1]-this.m_posY);CPlayer.s_blockPlayerMirrorPos[e][0]=this.m_posX+CPlayer.s_vectorX;CPlayer.s_blockPlayerMirrorPos[e][1]=this.m_posY+CPlayer.s_vectorY}},setPassDest:function(b,a){CPlayer.s_passGridX=this.m_myTeam.PosToGrid(b);CPlayer.s_passFromGridX=this.m_gridX;this.m_param1=b;CPlayer.s_passGridY=this.m_myTeam.PosToGrid(a);CPlayer.s_passFromGridY=this.m_gridY;this.m_param2=a;CPlayer.s_passToX=b;CPlayer.s_passToY=a;CPlayer.s_passFromX=this.m_posX;CPlayer.s_passFromY=this.m_posY},directPass:function(a,b){if(CPlayer.s_ballOwner!=this){this.set_preState(2);this.m_preParam1=a;this.m_preParam2=b}},acceptLongPass:function(){return this.m_role==3||((this.m_role==2||this.m_role==1)&&(this.m_side==1||this.m_side==4))},longPass:function(a,c,b){if(this.m_isFocus){if(this.myPosInAcrossingZone()){if(!cGame.getTutorialComplete(6)){cGame.setTutorialComplete(6,true)}}else{if(cGame.getTutorialComplete(4)){if(!cGame.getTutorialComplete(5)){cGame.setTutorialComplete(5,true)}}else{if(!cGame.getTutorialComplete(4)){cGame.setTutorialComplete(4,true)}}}}this.set_nextState(3);this.m_param1=a;this.m_param2=c;this.m_param3=b;if(cGame.s_aiMode==20){this.m_param1=cGame.CAGE_LEFT<<8;this.m_param2=CTeam.s_miniGameHitBarTargetY<<8;this.m_param3=cGame.CAGE_HIGH+CTeam.s_miniGameHitBarTargetZ<<8}this.addOutBallOff(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY));if(cGame.ENABLE_CHEAT_TEST){this.refreshOpPlayerBlockTheTrace();this.m_myTeam.refreshGridOfOpTeam();CPlayer.s_passFromGridX=this.m_myTeam.PosToGrid(this.m_posX);CPlayer.s_passFromGridY=this.m_myTeam.PosToGrid(this.m_posY);CPlayer.s_passGridX=this.m_myTeam.PosToGrid(this.m_param1);CPlayer.s_passGridY=this.m_myTeam.PosToGrid(this.m_param2);CPlayer.s_orgGridX=(CPlayer.s_orgGridY=-100);if(CPlayer.s_longPassPlayerNumber!=-1){CPlayer.s_orgGridX=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[CPlayer.s_longPassPlayerNumber].m_posX);CPlayer.s_orgGridY=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[CPlayer.s_longPassPlayerNumber].m_posY)}else{if(CPlayer.s_passPlayerNumber!=-1){CPlayer.s_orgGridX=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[CPlayer.s_passPlayerNumber].m_posX);CPlayer.s_orgGridY=this.m_myTeam.PosToGrid(this.m_myTeam.m_players[CPlayer.s_passPlayerNumber].m_posY)}}}},shoot:function(e){var c=cGame.random(4,12);if(this.m_isFocus&&!cGame.getTutorialComplete(7)){cGame.setTutorialComplete(7,true)}if(this.m_myTeam.m_type==0&&CPlayer.s_reduceSpeed&&(this.m_isStronger||this.m_isWeaker)){if(gloft.casttoint(e*100/CPlayer.SHOOT_MAX_HEIGHT)<CPlayer.BC_SHOOT_POWER_MIN[this.m_curAbilitySht]){e=0}else{if(gloft.casttoint(e*100/CPlayer.SHOOT_MAX_HEIGHT)>CPlayer.BC_SHOOT_POWER_MAX[this.m_curAbilitySht]){e=CPlayer.SHOOT_MAX_HEIGHT*2}}}else{if(this.m_myTeam.m_type==1&&CPlayer.s_reduceSpeed&&(this.m_isStronger||this.m_isWeaker)){if(gloft.casttoint(e*100/CPlayer.SHOOT_MAX_HEIGHT)<CPlayer.BC_SHOOT_POWER_MIN_CPU[cGame.s_matchDifficult]){c=1;e=0}else{if(gloft.casttoint(e*100/CPlayer.SHOOT_MAX_HEIGHT)>CPlayer.BC_SHOOT_POWER_MAX_CPU[cGame.s_matchDifficult]){c=cGame.random(8,12);e=CPlayer.SHOOT_MAX_HEIGHT*2}else{c=cGame.random(4,8)}}}}if((this.m_starAbility&4)!=0&&GLLib.Math_Rand(0,10)<3){e-=5120}if(this.getPlayerData(5)>85&&GLLib.Math_Rand(0,10)<3){e-=2560}var q=0;cGame.s_shoot_hit_post=0;if(cGame.s_aiMode==6){CTeam.s_isTutorialShoot=true}if(cGame.s_whichHalf==5){CTeam.s_penaltyEndTime=GLLib.s_game_currentFrameNB+50;CTeam.s_penaltySuccessful=false}if(this.calShootRange()){if(java.lang.Math.abs(Actor.s_football.m_posX)>132608){this.m_param1=(this.m_myTeam.m_leftSide?136448:-136448)}else{if(this.m_myTeam.m_rcvActionKind==0&&cGame.s_aiMode!=10){this.m_param1=(this.m_myTeam.m_leftSide?173568:-173568)}else{this.m_param1=(this.m_myTeam.m_leftSide?135168:-135168)}}if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){var s=0;var h=0;var f=0;var p=0;var j=CPlayer.getShootDir();if(CTeam.s_matchState==0){this.m_param2=cGame.random(0,10)-5;if(this.m_myTeam.m_leftSide){s=this.m_currDir-2;s=((s==4)?0:((s>4)?(s-8):s))}else{s=this.m_currDir-6;s=((s==-4)?0:((s<-4)?(-s-8):(-s)))}if(j==-1&&cGame.getPressDir()==this.m_currDir){j=this.m_currDir}if(j!=-1){h=j-2;if(h==4){h=0}else{if(h==5){h=-1}else{if(h==3){h=1}}}if(h!=0){s=0;h+=((h>0)?1:-1)}}if(h==4||h==0){h=cGame.random(-1,1)}if(CPlayer.s_power>6&&CPlayer.s_power<=9){f=cGame.random(1,3)}else{if(CPlayer.s_power>9){f=cGame.random(2,5)}}var i=[0,1,1,2];var d=[1,2,2,3];var l=[50,60,70,80];if(CPlayer.s_power>6&&CPlayer.s_power<=9){if(cGame.random(0,99)<l[this.m_curAbilitySht]){f-=i[this.m_curAbilitySht]}}else{if(CPlayer.s_power>9&&cGame.random(0,99)<l[this.m_curAbilitySht]){f-=d[this.m_curAbilitySht]}}p=cGame.random(0,4+(this.m_curAbilitySht<<1));if(cGame.s_isPenaltyMode||CTeam.s_matchState==8||cGame.s_isFreeKickShoot){if(cGame.s_isFreeKickShoot){cGame.s_isFreeKickShoot=false;this.m_param2=cGame.s_pkTargetY>>8}else{this.m_param2=(this.m_myTeam.m_leftSide?cGame.s_pkTargetY:(-cGame.s_pkTargetY))>>8}if(this.m_param2<-5){f=-f;p=-p}else{if(this.m_param2<=5&&this.m_param2>=-5){f=0;p=0}}s=0;h=0}else{if(h!=0){f=((h>0)?f:(-f));p=((h>0)?p:(-p))}else{if(s!=0){f=((s>0)?f:(-f));p=((s>0)?p:(-p))}else{f=0;p=0}}}if((this.m_starAbility&4)!=0&&f!=0){f=((f>0)?(f-1):(f+1))}if(this.m_myTeam.m_rcvActionKind==0||this.m_myTeam.m_rcvActionKind==4){if(h>0){++h}else{if(h<0){--h}else{if(s>0){++s}else{if(s<0){--s}}}}}this.m_param2+=(s+h+f+p)*10;if((this.m_starAbility&1)!=0&&cGame.random(0,99)<50){if(this.m_param2<cGame.CAGE_TOP&&this.m_param2>cGame.CAGE_TOP-10){this.m_param2+=10}else{if(this.m_param2>cGame.CAGE_BOTTOM&&this.m_param2<cGame.CAGE_BOTTOM+10){this.m_param2-=10}}}this.m_param2<<=8;GLLib.Dbg("all offset: "+(s+h+f+p))}else{q=cGame.s_shootCursor;if(!cGame.s_is_in_traininig10_mode&&CTeam.s_matchState==7&&cGame.s_shootCursor<cGame.s_shootRangeLeft){cGame.s_shootCursor-=gloft.casttoint(cGame.s_shootCursor*(cGame.s_shootRangeLeft-cGame.s_shootCursor)/cGame.SHOOT_RADAR_RANGE)*cGame.random(1,2);this.m_param2=CPlayer.s_shootMinY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-cGame.s_shootRangeLeft)/cGame.SHOOT_RADAR_RANGE)}else{if(!cGame.s_is_in_traininig10_mode&&CTeam.s_matchState==7&&cGame.s_shootCursor>cGame.s_shootRangeRight){cGame.s_shootCursor+=gloft.casttoint(cGame.s_shootCursor*(cGame.s_shootCursor-cGame.s_shootRangeRight)/cGame.SHOOT_RADAR_RANGE)*cGame.random(1,2);this.m_param2=CPlayer.s_shootMaxY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-cGame.s_shootRangeRight)/cGame.SHOOT_RADAR_RANGE)}else{if(CTeam.s_matchState!=7&&cGame.PenaltyShootCursorForCaculator<cGame.s_shootRangeLeft+22){this.m_param2=CPlayer.s_shootMinY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.PenaltyShootCursorForCaculator-cGame.s_shootRangeLeft-10)/cGame.SHOOT_RADAR_RANGE)}else{if(CTeam.s_matchState!=7&&cGame.PenaltyShootCursorForCaculator>cGame.s_shootRangeRight-22){this.m_param2=CPlayer.s_shootMaxY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.PenaltyShootCursorForCaculator-cGame.s_shootRangeRight+10)/cGame.SHOOT_RADAR_RANGE)}else{if(this.m_myTeam.m_leftSide){if(cGame.s_is_in_traininig10_mode&&cGame.s_aiMode==10){this.m_param2=CPlayer.s_shootMinY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-cGame.s_shootRangeLeft)/(cGame.s_shootRangeRight-cGame.s_shootRangeLeft));GLLib.Dbg(" !!!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!!!m_param2 set dammit 5 "+this.m_param2+"   cGame.s_shootCursor"+cGame.s_shootCursor+" cGame.s_shootMinY "+CPlayer.s_shootMinY+" s_shootMaxY "+CPlayer.s_shootMaxY)}else{this.m_param2=CPlayer.s_shootMinY+gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-(cGame.SHOOT_RADAR_X+cGame.RADAR_RAD_OFFSET_X))/cGame.SHOOT_RADAR_RANGE)}}else{if(cGame.s_is_in_traininig10_mode&&cGame.s_aiMode==10){this.m_param2=CPlayer.s_shootMaxY-gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-cGame.s_shootRangeLeft)/(cGame.s_shootRangeRight-cGame.s_shootRangeLeft));GLLib.Dbg(" !!!!!!!!!!!!!!!!!!! !!!!!!!!!!!!!!!!!!!m_param2 set dammit 5 "+this.m_param2+"   cGame.s_shootCursor"+cGame.s_shootCursor+" cGame.s_shootMinY "+CPlayer.s_shootMinY+" s_shootMaxY "+CPlayer.s_shootMaxY)}else{this.m_param2=CPlayer.s_shootMaxY-gloft.casttoint((CPlayer.s_shootMaxY-CPlayer.s_shootMinY)*(cGame.s_shootCursor-(cGame.SHOOT_RADAR_X+cGame.RADAR_RAD_OFFSET_X))/cGame.SHOOT_RADAR_RANGE)}}}}}}}}else{if(cGame.s_matchDifficult>1){this.m_param2=cGame.random(CPlayer.s_shootMinY-2*this.m_inaccuracy,CPlayer.s_shootMaxY+2*this.m_inaccuracy)}else{this.m_param2=cGame.random(CPlayer.s_shootMinY-4*this.m_inaccuracy,CPlayer.s_shootMaxY+4*this.m_inaccuracy)}}var a=CPlayer.dirTo(this.m_myTeam.convertPos(135168)-this.m_posX,0-this.m_posY);var n=CPlayer.dirDifference(a,this.m_currDir);var r=cGame.fastDistance(this.m_posX-this.m_param1,this.m_posY-this.m_param2);var g=false;if(this.m_isFocus){g=(this.m_preState==13)}else{var o=this.m_opTeam.m_GK.m_posX;var m=this.m_opTeam.m_GK.m_posY;var k=cGame.fastDistance(o-this.m_posX,m-this.m_posY);g=(cGame.random(0,2)==0&&cGame.isPointBetweenTwoPoints(o,m,this.m_posX,this.m_posY,this.m_param1,this.m_param2)&&k<16384&&k<cGame.fastDistance(o-this.m_param1,m-this.m_param2))}if(CTeam.s_matchState==7||CTeam.s_mathePreState==5){cGame.s_isFreeKick_Corner_shoot=true}else{cGame.s_isFreeKick_Corner_shoot=false}if(CTeam.s_matchState==7){cGame.s_isFreeKick=true;if(CPlayer.s_power>10&&cGame.s_aiMode!=20&&cGame.s_aiMode!=10){CPlayer.s_power=10}}else{cGame.s_isFreeKick=false}if(CTeam.s_matchState==8&&this!=CPlayer.s_legendPlayer&&this.m_myTeam.m_type==1&&cGame.random(0,4)==0){g=true}if(g){cGame.s_isLob_goal=true;if(CPlayer.s_power<6&&this.m_opTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)){this.m_param3=0}else{this.m_param3=e+cGame.random(0,256+this.m_curAbilitySht*768)}if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){r=25600+gloft.casttoint(r*(CPlayer.s_power-1)/11)}else{c=cGame.random(4,8);r=25600+gloft.casttoint(r*(c-1)/11)}CPlayer.parseVector_dup_III(r,this.m_param1-this.m_posX>>8,this.m_param2-this.m_posY>>8);this.m_param1=this.m_posX+CPlayer.s_vectorX;this.m_param2=this.m_posY+CPlayer.s_vectorY;this.m_idea=4;this.set_nextState(3)}else{cGame.s_isLob_goal=false;CTeam.s_isCurveshoot=false;if(CPlayer.s_power<6&&this.m_opTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)){this.m_param3=0}else{if(cGame.s_aiMode==10){e=10240+gloft.casttoint((CPlayer.SHOOT_MAX_HEIGHT-10240)*CPlayer.s_power/((CPlayer.s_power==12)?9:12))}this.m_param3=e+cGame.random(0,256+this.m_curAbilitySht*768)}if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){if(this.m_param3!=0&&CTeam.s_matchState==8&&(cGame.PenaltyShootCursorForCaculator<cGame.s_shootRangeLeft+22||cGame.PenaltyShootCursorForCaculator>cGame.s_shootRangeRight-22)){this.m_param3+=(7-cGame.convertPlayerValue(this.getPlayerData(5)))*cGame.random(10,35)*768}r=51200-this.m_curAbilitySht*10240+gloft.casttoint(r*(CPlayer.s_power-1)/11)}else{if((this.m_starAbility&4)!=0&&this.m_gridX<10){c=cGame.random(8,12)}r=51200-this.m_curAbilitySht*10240+gloft.casttoint(r*(c-1)/11)}if(n==4){r=gloft.casttoint(r*60/100)}else{if(n==-3||n==3){r=gloft.casttoint(r*70/100)}else{if(n==-2||n==2){r=gloft.casttoint(r*80/100)}}}if(cGame.s_aiMode!=10){CPlayer.parseVector_dup_III(r,this.m_param1-this.m_posX>>8,this.m_param2-this.m_posY>>8);this.m_param1=this.m_posX+CPlayer.s_vectorX;this.m_param2=this.m_posY+CPlayer.s_vectorY}this.set_nextState(4)}if(CTeam.s_matchState!=7){cGame.s_goal_distance=gloft.casttoint((CTeam.getDisToGoal_dup_II(this.m_posX,this.m_posY)+5)/10)}else{cGame.s_goal_distance=0}cGame.calScoreofGrid(this.m_myTeam.PosToGrid(this.m_posX),this.m_myTeam.PosToGrid(this.m_posY))}else{this.set_nextState(3);Label_3089:{Label_3043:{if(this.m_myTeam.m_leftSide){if(this.m_posX>-CPlayer.ACCROSSING_ZONE_X<<8){break Label_3043}}else{if(this.m_posX<CPlayer.ACCROSSING_ZONE_X<<8){break Label_3043}}this.selectPassPoint(this.m_myTeam.m_leftSide?2:6,3);break Label_3089}var b=CPlayer.dirTo_GK(((this.m_myTeam.m_leftSide?528:-528)<<8)-this.m_posX,0-this.m_posY);this.selectPassPoint(b,3)}this.m_param1=CPlayer.s_passPointX;this.m_param2=CPlayer.s_passPointY;this.m_param3=0}if(cGame.s_aiMode==20){this.m_param1=cGame.CAGE_LEFT<<8;this.m_param2=CTeam.s_miniGameHitBarTargetY<<8;this.m_param3=cGame.CAGE_HIGH+CTeam.s_miniGameHitBarTargetZ<<8}if(cGame.s_aiMode==15){this.m_param1=cGame.CAGE_LEFT<<8;this.m_param2=cGame.miniPenaltyShootY;this.m_param3=cGame.miniPenaltyShootZ>>8;if(this.m_param3<=42){this.m_param3+=18}else{if(this.m_param3<=83){this.m_param3=this.m_param3*2-9}else{if(this.m_param3<=89){this.m_param3=186}else{if(this.m_param3<=99){this.m_param3=this.m_param3*4-176}else{if(this.m_param3<=104){this.m_param3=221}else{this.m_param3+=150}}}}}this.m_param3<<=8;GLLib.Dbg("x "+(this.m_param1>>8)+"  y  "+(this.m_param2>>8)+"  z  "+(this.m_param3>>8)+"  zOff  "+(cGame.miniPenaltyShootZ>>8))}this.addOutBallOff(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY));if(cGame.s_aiMode!=10){cGame.s_shootCursor=q}},isShootOnTarget:function(){CPlayer.s_shootFromX=this.m_posX;CPlayer.s_shootFromY=this.m_posY;CPlayer.s_shootFromZ=this.m_posZ;CPlayer.s_shootToX=this.m_outBallParam1;CPlayer.s_shootToY=this.m_outBallParam2;CPlayer.s_shootToZ=this.m_outBallParam3;var a=this.m_myTeam.m_leftSide?(cGame.CAGE_LEFT<<8):(-cGame.CAGE_LEFT<<8);var b=Actor.s_futureBallPosX[0]-a;var c=gloft.casttoint(null);for(c=1;c<200;++c){var e=b;b=Actor.s_futureBallPosX[c]-a;if(b>0&&e<0){break}if(b<0&&e>0){break}}if(c==200){return false}var d=Actor.s_futureBallPosY[c-1]+gloft.casttoint((Actor.s_futureBallPosY[c]-Actor.s_futureBallPosY[c-1])*(a-Actor.s_futureBallPosX[c-1])/(Actor.s_futureBallPosX[c]-Actor.s_futureBallPosX[c-1]));var f=Actor.s_futureBallPosZ[c-1]+gloft.casttoint((Actor.s_futureBallPosZ[c]-Actor.s_futureBallPosZ[c-1])*(a-Actor.s_futureBallPosX[c-1])/(Actor.s_futureBallPosX[c]-Actor.s_futureBallPosX[c-1]));CPlayer.s_shootToX=a;CPlayer.s_shootToY=d;CPlayer.s_shootToZ=f;return d>(cGame.CAGE_TOP<<8)-(cGame.CAGE_DIAMETER<<7)&&d<(cGame.CAGE_BOTTOM<<8)+(cGame.CAGE_DIAMETER<<7)&&f<(cGame.CAGE_HIGH<<8)+(cGame.CAGE_DIAMETER<<7)},doFakeAction:function(a){this.m_vX=0;this.m_vY=0;this.m_aX=0;this.m_aY=0;if(a==6){this.setBehavior(15)}else{switch(CPlayer.dirDifference(this.m_currDir,this.m_myTeam.convertDir(2))){case -1:case 0:case 1:if(a==3){this.setBehavior(12);break}if(a==4){this.setBehavior(18);break}break;case 2:case 3:if(a==4){this.setBehavior(26)}else{if(a==3){this.setBehavior(152)}}this.set_currDir(this.m_currDir+2&7);break;case -3:case -2:if(a==4){this.setBehavior(25)}else{if(a==3){this.setBehavior(151)}}this.set_currDir(this.m_currDir-2&7);break;case 4:if(a==4){this.setBehavior(28)}else{if(a==3){this.setBehavior(22)}}this.set_currDir(this.m_nextDir);break}}this.set_currState(a);this.set_nextState(0)},doFakeHead:function(a){this.set_directDir(a+4+cGame.random(-1,1)&7);this.m_vX>>=1;this.m_vY>>=1;this.m_aX=this.m_vX>>2;this.m_aY=this.m_vY>>2;this.setBehavior(13)},directShoot:function(){this.set_preState(4)},tackle:function(){if(this.m_opTeam.m_GK.m_currState!=8){this.set_nextState(5)}},slideTackle:function(){if(this.m_isFocus){cGame.P("going to tackle");CPlayer.s_bDoneTackle=false}CPlayer.s_bGoingToTackle=false;CPlayer.s_bGoingPress=false;this.set_fastrun(true);if(this.m_opTeam.m_GK.m_currState!=8){if(cGame.s_aiMode==9){this.set_nextState(5)}else{this.set_nextState(6)}}},saveball:function(){this.set_nextState(7);this.m_baseFatigue+=10},tracePlayerBegin:function(a){this.m_idea=0;this.m_ideaParam1=a},tracePlayerEnd:function(){this.m_idea=((CPlayer.s_ballOwner==null&&CPlayer.s_ballFastOwner==null&&cGame.s_aiMode!=13&&this.m_isFocus)?1:-1)},emote:function(d,c,b){this.set_nextState(11);this.m_param1=d;this.m_param2=c;this.m_param3=b;if(b==1||b==3||b==6||b==2||b==25){var a=this.m_currDir;if(b==1||b==25){a=CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY);this.m_nextDir=a;this.m_destReached=false;this.m_destChanged=true;this.m_waitEndsTick=0}if((a&1)!=0&&b!=3&&b!=1&&b!=25){this.m_nextDir=(a+1&7)}}if(b==19){this.m_nextDir=d;this.m_destReached=false;this.m_destChanged=true;this.m_waitEndsTick=0}},feint:function(a){this.set_nextState(13);this.m_param3=a;this.m_destReached=false;this.m_destChanged=true},updatePlayerAI:function(){if(this.m_court!=0){return}if(cGame.s_aiMode==6&&this.m_myTeam.m_ID==0&&((CTeam.s_newtutorialStep==40&&!cGame.haveKeyHold_dup_I(16))||(CTeam.s_newtutorialStep==16&&this!=CPlayer.s_focusPlayer&&!CTeam.s_canThroughInTutorial)||(CTeam.s_newtutorialStep==14&&this!=CPlayer.s_focusPlayer&&CTeam.s_throughReceiverID==-1))){this.doStand();return}if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==29&&this==CTeam.s_team1.m_players[0]&&CPlayer.s_ballOwner!=null&&this!=CPlayer.s_ballOwner&&CTeam.s_team0.isInOpForbidden(Actor.s_football.m_posX,Actor.s_football.m_posY)){CTeam.getPointBetweenTwoPoint(60,135168,0,Actor.s_football.m_posX,Actor.s_football.m_posY);this.runTo(CTeam.s_middlePointX,CTeam.s_middlePointY,false)}this.updatePlayerEffect();if(this==Actor.s_menuPlayer){if(CTeam.s_period==2&&this.m_actionOver){if(this.m_behavior==80){this.setBehavior(7);var B=false;this.m_vY=(B?1:0);this.m_vX=(B?1:0)}else{if(this.m_behavior==7){if(this.m_currDir==2){this.set_currDir(6)}else{this.set_currDir(2)}this.setBehavior(80);CPlayer.parseVector_screen_dup_II(CPlayer.BASIC_SPEED>>2,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY}}}else{if(CTeam.s_period==12&&this.m_animationPlayer.GetAnim()==291&&this.m_actionOver){this.set_currDir(4);CPlayer.parseVector_screen_dup_II(CPlayer.BASIC_SPEED>>1,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.setBehavior(1);Actor.s_coach.setAction_dup_IZ(11,true)}}return}if(this.m_isFocus&&CTeam.s_focusTick!=GLLib.s_game_currentFrameNB){var p=true;if(cGame.s_aiMode==9&&(cGame.s_isNeedShowMessage||cGame.haveKeyPressed_dup_I(11)||cGame.haveKeyPressed_dup_I(17))){p=false}if(p){this.updateFocusPlayer()}}if(((CTeam.s_matchState==5&&CTeam.s_period==6)||CTeam.s_bFreeKickPassing)&&this.m_myTeam.m_ID==CTeam.s_kickTeamID&&this.m_Number!=0&&cGame.needdraw_cursor&&(CTeam.s_kickPlayer==null||this.m_Number!=CTeam.s_kickPlayer.m_Number)&&(CTeam.s_freeKickAssit==null||this.m_Number!=CTeam.s_freeKickAssit.m_Number)){cGame.pos3DTo2D(this.m_posX,this.m_posY,0);if(cGame.s_pos2Dx<cGame.cursor_2d_x+10&&cGame.s_pos2Dy<cGame.cursor_2d_y+10&&cGame.s_pos2Dx>cGame.cursor_2d_x-10&&cGame.s_pos2Dy>cGame.cursor_2d_y-10){if(CTeam.s_matchState==5||CTeam.s_bFreeKickPassing){var k=false;this.m_vY=(k?1:0);this.m_vX=(k?1:0);this.m_actionCycle=false;CTeam.s_FKReceiverNumber=this.m_Number;var v=0;this.set_currDir(CPlayer.dirTo(CTeam.s_kickPlayer.m_posX-this.m_posX,CTeam.s_kickPlayer.m_posY-this.m_posY));this.m_flipX=(this.m_currDir>4);if(this.m_currDir>2){this.set_currDir(1)}else{this.set_currDir(0)}if(!CTeam.s_kickPlayer.m_myTeam.m_leftSide){this.m_flipX=(this.m_currDir>0&&this.m_currDir<4)}this.setAction_dup_IZZ(297+v,false,this.m_actionCycle)}var h=false;this.m_vY=(h?1:0);this.m_vX=(h?1:0);this.m_actionCycle=false;this.set_nextState(11);this.m_param1=this.m_posX;this.m_param2=this.m_posY;this.m_param3=0}}if(this.m_doHumanWallJump){var j=CPlayer.dirTo(Actor.s_football.m_posX-this.m_posX,Actor.s_football.m_posY-this.m_posY);if(this.m_currDir!=j){this.set_directDir(j);this.doStand()}if(this.m_disToBall<12800){if(Actor.s_football.m_posZ>2560){this.setBehavior(118)}else{this.m_coachSetTacState=0;this.m_myTeam.m_haveNewOrder[this.m_Number]=true}}if(this.m_behavior==118&&this.m_actionOver){this.m_coachSetTacState=0;this.m_myTeam.m_haveNewOrder[this.m_Number]=true}if(!CTeam.s_bHasFreeKickAssit&&(Actor.s_ball_state==9||Actor.s_ball_state==2)){var q=this.m_animationPlayer.GetSprite();var r=-q.GetAFramesOY_dup_II(this.m_actionIDNow,this.m_frameIDNow);r=gloft.casttoint(q.GetFrameMinY(this.m_frameIndex)/2);var m=r+gloft.casttoint(q.GetFrameHeight(this.m_frameIndex)/2);cGame.pos3DTo2D(this.m_posX,this.m_posY,0);r=cGame.pos2DTo3DZ(cGame.s_pos2Dx,cGame.s_pos2Dy,cGame.s_pos2Dy+r);m=cGame.pos2DTo3DZ(cGame.s_pos2Dx,cGame.s_pos2Dy,cGame.s_pos2Dy+m);if(Actor.s_football.m_posZ>m&&Actor.s_football.m_posZ<=r&&this==CPlayer.findNearestToBallInTeam_dup_IZ(this.m_myTeam.m_ID,false)){var D=Actor.ballOverPointOn(this.m_posX,this.m_posY,0);if(D){var a=cGame.random(1,10);if(Actor.s_football.m_posZ>m+gloft.casttoint((r-m)*8/9)){cGame.P("--------------    head    -----------------");if(a>5){return}}else{if(Actor.s_football.m_posZ>gloft.casttoint((m+m+r)/3)){cGame.P("--------------    body    -----------------");if(a>8){return}}else{cGame.P("--------------    foot    -----------------");if(a>7){return}}}Actor.setBallReflect_dup_CPlayer(this);for(var w=1;w<11;++w){this.m_myTeam.m_players[w].m_doHumanWallJump=false}}}}return}if(this.m_withBall){++CPlayer.s_ctrWithBall}else{if(CPlayer.s_ballLastOwner==this){CPlayer.s_ctrWithoutBall+=Actor._frameInc}}if(this.m_idea==0&&CPlayer.s_bDoneTackle&&!CPlayer.s_haveCompetition){CPlayer.s_autoDefend=0;var l=this.m_opTeam.m_players[this.m_ideaParam1];var u=cGame.fastDistance(l.m_posX-this.m_posX,l.m_posY-this.m_posY);if(this.m_currState==9&&this.m_behavior==0){this.m_actionOver=true}if(u<2048){this.m_myTeam.computeTacklePoint(this.m_Number,this.m_ideaParam1);if(cGame.fastDistance(CTeam.tacklePointX-this.m_posX,CTeam.tacklePointY-this.m_posY)<this.m_speedFast){if(this.m_isFocus){}this.stand(false);this.set_directDir(this.m_dirToBall)}else{this.runTo(CTeam.tacklePointX,CTeam.tacklePointY,this.m_fastrun)}}else{this.m_myTeam.computeTacklePoint(this.m_Number,this.m_ideaParam1);if(cGame.fastDistance(CTeam.tacklePointX-this.m_posX,CTeam.tacklePointY-this.m_posY)<this.m_speedFast){if(this.m_isFocus){}this.tracePlayerEnd()}else{var z=!CPlayer.dirIn5(CPlayer.dirTo(l.m_posX-this.m_posX,l.m_posY-this.m_posY),this.m_opTeam.convertDir(6));this.runTo(CTeam.tacklePointX,CTeam.tacklePointY,z||this.m_fastrun)}}}if((this.m_actionIDNow==308||this.m_actionIDNow==309)&&this.m_actionOver){if(CTeam.s_jumpToStart==-1){CTeam.s_jumpToStart=15}return}if(this.m_isFastRun&&this.m_withBall&&this.m_actionIDNow>=122&&this.m_actionIDNow<=125){if(this.m_frameIDNow<this.m_turnFastDelay.length-1&&this.m_turnFastDelay[this.m_frameIDNow+1]<0){this.m_actionOver=true}else{if(this.m_actionOver){if(this.m_turnFastDelay[this.m_frameIDNow]>0){var e=this.m_turnFastDelay;var C=this.m_frameIDNow;--e[C];--this.m_frameIDNow;this.m_actionOver=false}}else{if(this.m_frameIDNow>0&&this.m_turnFastDelay[this.m_frameIDNow-1]>0){var x=this.m_turnFastDelay;var t=this.m_frameIDNow-1;--x[t];--this.m_frameIDNow}}}}Label_4365:{switch(this.m_currState){case 0:case 1:if(this.m_actionOver||this.m_actionCycle){if(this.m_nextState==7){this.doSaveBall(false);break}if(this.canTackle()&&cGame.s_aiMode!=6){if(cGame.s_aiMode!=9&&!this.m_isFocus&&(this.m_Number!=0||!this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY))&&CPlayer.dirIn5(this.m_currDir+4&7,CPlayer.s_ballOwner.m_currDir)&&cGame.random(0,5)<1){this.doSlideTackle();break}this.doTackle();break}else{if((this.m_nextDir&7)!=(this.m_currDir&7)){if(this.canPickup()){this.doPickup();break}if(this.canTrap()){this.doTrap();break}if(CPlayer.s_ballFastOwner==this&&this.m_currDir==this.m_dirToBall){break}if(this.m_nextState!=2&&this.m_nextState!=3&&this.m_nextState!=4){this.doTurn();break}this.m_nextDir=this.m_currDir;break}else{switch(this.m_nextState){case 0:this.doStand();break;case 1:this.doRun();break;case 2:this.doOutBall(2,false);break;case 3:this.doOutBall(3,false);break;case 4:this.doOutBall(4,false);break;case 5:this.doTackle();break;case 6:this.doSlideTackle();break;case 8:this.doStandWithBall();break;case 11:this.doEmotion();break;case 13:this.doFeint();break}if(this.canPickup()){this.doPickup();break}if(this.canTrap()){this.doTrap();break}break}}}else{if(CPlayer.isTurnBehavior(this.m_behavior)){if(this.canPickup()){this.doPickup();break}if(this.canTrap()){this.doTrap();break}break}else{if((this.m_behavior==29||this.m_behavior==30)&&this.m_withBall){Actor.setBallCarried(this);break}break}}break;case 10:if(this.m_behavior>=2&&this.m_behavior<=9){if(this.canPickup()){this.doPickup()}else{if(this.canTrap()){this.doTrap()}}if(!this.m_actionOver){++this.m_inertiaEndsTick;break}this.setBehavior(1);break}else{if(GLLib.s_game_currentFrameNB<=this.m_inertiaEndsTick){this.doTurnInertia();break}this.set_currState(1);break}break;case 2:case 3:case 4:if(this.m_actionOver){if(this.m_behavior==47||this.m_behavior==36||this.m_behavior==50){this.doGetUp()}else{if(this.m_posY>86272){this.doStand();this.runTo(this.m_posX,86272,false)}else{if(this.m_posY<-86272){this.doStand();this.runTo(this.m_posX,-86272,false)}else{if(this.m_currState==3){this.doFool(this.m_reaction>>1)}else{this.doStand()}}}}if(this.m_isFocus){break}break}else{if(this.m_withBall){this.sendBallOutAtKeyFrame();break}if(this.m_behavior==15||this.m_behavior==36||this.m_behavior==50){if(this.m_frameIDNow>=((this.m_behavior==15)?2:1)){this.updateSpeed()}if(this.m_vX!=0||this.m_vY!=0){this.persistSpecialDirect();break}break}else{if(this.m_currState!=2){break}if(CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]){CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]=false;if(this.m_Number==0){break}this.setOneTwoPlayer();if(this.m_myTeam.m_type==0){CPlayer.s_radar=5;CPlayer.s_power=0;break}break}else{if(this.m_behavior==13&&cGame.fastDistance(this.m_posX-this.m_myTeam.m_rcvBallGoAndKickX,this.m_posY-this.m_myTeam.m_rcvBallGoAndKickY)>1280){var f=false;this.m_vY=(f?1:0);this.m_vX=(f?1:0);break}break}}}break;case 7:if(CTeam.s_matchState==6){this.set_currState(0);this.set_nextState(0);break}this.gkSaveBall();break;case 8:if(!this.m_withBall){if(this.m_isFocus){}this.stand(false)}var c=-1;if(cGame.haveKeyPressed_dup_II(1,this.m_whichPlayer)){c=1}if(cGame.haveKeyPressed_dup_II(2,this.m_whichPlayer)){c=5}if(cGame.haveKeyPressed_dup_II(3,this.m_whichPlayer)){c=7}if(cGame.haveKeyPressed_dup_II(4,this.m_whichPlayer)){c=3}if(CTeam.s_potentialPlayer!=null){if(c!=-1&&CTeam.s_potentialPlayer.selectPassPoint(c,4)){CTeam.s_potentialPlayer=CTeam.s_teams[this.m_myTeam.m_ID].m_players[CPlayer.s_passPlayerNumber]}CTeam.s_placementScreenCursorX=CTeam.s_potentialPlayer.m_posX;CTeam.s_placementScreenCursorY=CTeam.s_potentialPlayer.m_posY;cGame.pos3DTo2D(CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY,0);CTeam.s_placementScreenCursorX=cGame.s_pos2Dx;CTeam.s_placementScreenCursorY=cGame.s_pos2Dy}if(this.m_isFocus&&CPlayer.s_ctrWithBall>100){this.selectPassPoint(this.m_currDir,3);this.longPass(CPlayer.s_passPointX,CPlayer.s_passPointY,5120)}if(!this.m_actionOver){break}if(this.m_behavior==104||this.m_behavior==103){Actor.s_ball_heldbygk=true;CPlayer.s_GKPickingUpBall=false;this.doStandWithBall();break}if(cGame.s_aiMode==0&&this.m_behavior==108&&CTeam.s_matchState==0&&!this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&this.m_Number!=0){this.doFoul(0);break}if(this.m_nextState==3){if(cGame.s_matchMode==11&&this.m_type==101&&CTeam.s_sceneStep<11){CTeam.changeScene(CTeam.s_sceneStep);this.doStand()}this.m_outBallParam1=this.m_param1;this.m_outBallParam2=this.m_param2+256;this.m_outBallParam3=this.m_param3;this.doKickOutBall();break}break;case 5:if(this.m_actionOver){this.goodTackleOrGoodDribble();if(CPlayer.s_ballOwner!=null){this.doFool(this.m_reaction);break}this.doStand();break}else{if(this.m_frameIDNow<4){this.persistTackle();break}break}break;case 6:var A=3;if(this.m_def<70){A-=2}else{if(this.m_def<80){--A}}if(this.m_actionOver){this.goodTackleOrGoodDribble();if(CPlayer.s_ballOwner!=null){this.doFool(this.m_reaction)}else{this.m_idea=1;this.doStand()}if(this.m_isFocus&&!CPlayer.s_bDoneTackle){CPlayer.s_bDoneTackle=true;break}break}else{if(this.m_frameIDNow<A){this.persistSlideTackle();break}break}break;case 9:this.m_actionOver=(this.m_foolAnimationEndsTick<=GLLib.s_game_currentFrameNB);if(!this.m_actionOver){this.updateSpeed();break}var d=false;this.m_vY=(d?1:0);this.m_vX=(d?1:0);if(this.m_behavior==17){if(GLLib.s_game_currentFrameNB<this.m_foolAnimationEndsTick+14){this.doGetUp();break}break}else{if(this.m_foolEndsTick>GLLib.s_game_currentFrameNB){this.setBehavior(0);break}if(this.m_nextState==5){if(this.canTackle()){this.doTackle();break}this.doStand();break}else{if(this.m_nextState!=1){this.doStand();break}this.doStand();if(this.m_isFocus){break}break}}break;case 12:if(!this.m_actionOver||this.m_foolEndsTick>GLLib.s_game_currentFrameNB){break}if(this.m_tacState!=20){this.doStand();break}this.setBehavior(33);break;case 11:if(this.m_actionCycle){if(!this.m_actionOver){this.checkEmotionRun();break}if(this.m_currDir!=this.m_nextDir){this.doTurn();break}switch(this.m_nextState){case 0:this.doStand();break;case 1:this.doRun();break;case 11:this.doEmotion();break}break}else{this.updateSpeed();if(!this.m_actionOver){this.checkEmotionRun();break}if(this.m_behavior==36){this.doGetUp();break}if(this.m_behavior==48){var g=2560;if(this.m_actionIDNow==265||this.m_actionIDNow==266){g=0}else{if(this.m_actionIDNow==267){g=-g}}Actor.s_ball_heldbyplayer=false;Actor.s_football.m_posX=this.m_posX+g;Actor.s_football.m_posY=this.m_posY+g;this.doStand();break}if(this.m_behavior==55||this.m_behavior==35||this.m_behavior==36||this.m_behavior==54){break}if(this.m_behavior==92){break}this.doStand();break}break;case 13:if(!this.m_actionOver&&!this.m_actionCycle){break}if(Actor.s_football.m_posX>135168||Actor.s_football.m_posX<-135168||Actor.s_football.m_posY>86272||Actor.s_football.m_posY<-86272){this.set_currState(0);this.set_nextState(0);if(this.m_isFocus){}Actor.s_ball_heldbyplayer=false;this.doStand();break}if(this.m_nextState==13){this.doFeint();break}if(this.m_param3==3){this.set_fastrun(true);this.set_dribbleState(1);this.set_directDir(this.m_currDir+this.m_preDir&7);this.m_preDir=-1}else{if(this.m_param3==1){if(this.m_isFocus&&CPlayer.s_radar==6){break}if(this.m_feintEndsTick>GLLib.s_game_currentFrameNB){break}this.m_feintEndsTick=0;this.m_myTeam.m_feintStyle=-1}else{this.m_preDir=-1}}Actor.s_ball_heldbyplayer=false;Actor.setBallCarried(this);this.m_destReached=true;if(this.m_param3==3){CPlayer.parseVector_screen_dup_II(this.m_speedWithBall,this.m_currDir&7);var o=Actor.s_football;o.m_posX+=CPlayer.s_vectorX;var y=Actor.s_football;y.m_posY+=CPlayer.s_vectorY}if(this.m_whichPlayer!=-1&&CPlayer.s_lastInputDir[this.m_whichPlayer]==-1){CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_currDir}if(this.m_preState!=-1){this.set_dribbleState(1)}if(this.m_param3==3){if(this.m_whichPlayer!=-1){CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_currDir}Actor.s_carriedNear=true}this.m_param3=(this.m_fastrun?7:3);this.doRun();break;case 14:if(!this.m_actionOver){break}if(this.m_nextState==0){this.loseBall();this.setBallReceiver();this.m_param3=7;this.set_currState(0);this.set_nextState(1);if(this.m_isFocus){break}break}else{switch(this.m_nextState){case 2:this.doOutBall(2,true);break Label_4365;case 3:this.doOutBall(3,true);break Label_4365;case 4:if(this.m_opTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){}this.doOutBall(4,true);break Label_4365;default:this.loseBall();this.setBallReceiver();this.m_param3=7;this.set_currState(0);this.set_nextState(1);if(this.m_isFocus){break Label_4365}break Label_4365}}break;case 15:if(!this.m_actionOver){Actor.setBallCarried(this);break}switch(this.m_nextState){case 2:this.doOutBall(2,true);break Label_4365;case 3:this.doOutBall(3,true);break Label_4365;case 4:this.doOutBall(4,true);break Label_4365;case 1:this.doRun();break Label_4365;default:this.doStand();break Label_4365}break}}},updateSpeed:function(){if(this.m_vX!=0){if((this.m_vX>0&&this.m_vX+this.m_aX<0)||(this.m_vX<0&&this.m_vX+this.m_aX>0)){this.m_vX=0}else{this.m_vX+=this.m_aX}}if(this.m_vY!=0){if((this.m_vY>0&&this.m_vY+this.m_aY<0)||(this.m_vY<0&&this.m_vY+this.m_aY>0)){this.m_vY=0}else{this.m_vY+=this.m_aY}}},doStand:function(){this.m_vX=0;this.set_currState(this.m_vY=0);this.set_nextState(0);if(this.m_type==101&&this.m_behavior!=107){this.m_currDir=CPlayer.dirTo_GK(Actor.s_football.m_posX-this.m_posX,Actor.s_football.m_posY-this.m_posY)}this.set_nextDir(this.m_currDir);if(this.m_steponball&&this.m_withBall){this.m_steponball=false;this.setBehavior(40)}else{this.setBehavior(0)}if(this.m_withBall){Actor.setBallCarried(this)}if(this==CPlayer.s_ballFastOwner&&this.m_withBall){CPlayer.s_ballFastOwner=null}},doRun:function(){if(CPlayer.s_focusPlayer==this){if(cGame.dash_fastrun){if(!cGame.getTutorialComplete(1)){cGame.setTutorialComplete(1,true)}this.set_fastrun(true)}else{if(!cGame.getTutorialComplete(0)){cGame.setTutorialComplete(0,true)}}}if(this.m_param3==-1){this.doStand();if(this.m_isFocus){}return}if(this.m_fastrun&&this.m_param3==0){++this.m_runningTick}if(this.m_param3==0||this.m_param3==1||this.m_param3==2||this.m_param3==8){if(this.m_currState!=1){this.m_destRangeRadius=1024}if(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY)<=this.m_destRangeRadius){this.m_destReached=true;this.m_posX=this.m_param1;this.m_posY=this.m_param2}else{this.m_destReached=(java.lang.Math.abs(this.m_param1-(this.m_posX+this.m_vX))+java.lang.Math.abs(this.m_param2-(this.m_posY+this.m_vY))>java.lang.Math.abs(this.m_param1-this.m_posX)+java.lang.Math.abs(this.m_param2-this.m_posY))}if(cGame.s_aiMode==9&&this.m_Number!=0){if(cGame.s_isNeedShowMessage||CTeam.s_TrainStep!=4||(this.m_myTeam.m_ID!=CPlayer.s_focusPlayer.m_myTeam.m_ID&&!this.isFocusPlayerCurInDfArea()&&!cGame.s_dribbleDefenderAlwaysActive[this.m_Number])){this.m_destReached=true}else{if(cGame.s_dribbleDefenderAlwaysActive[this.m_Number]||this.isFocusPlayerCurInDfArea()){this.m_destReached=false;this.m_destChanged=true;this.set_currDir(this.m_dirToBall);this.m_param1=Actor.s_football.m_posX;this.m_param2=Actor.s_football.m_posY;this.m_param3=8}}if(cGame.s_dribbleDefenderHasStartAndEnd[this.m_Number]&&!this.isFocusPlayerCurInDfArea()&&this.isFocusPlayerLastInDfArea()){this.resetDribbleDefenderOrder()}}if(this.m_destReached){this.m_runningTick=0;if(this==CPlayer.s_ballFastOwner){this.set_dribbleState(this.m_param3=0);this.set_fastrun(false)}else{if(cGame.s_aiMode==6){this.doStand()}else{if(this.m_tacState==7&&CPlayer.s_haveCompetition&&(this.m_isStronger||this.m_isWeaker)){var h=this.getCompetitor();GLLib.Dbg("CHECK COMPETITOR AI NE BROO -----------------------------------");if(!this.posBehindMe(Actor.s_football.m_posX,Actor.s_football.m_posY)){this.m_myTeam.computeTacklePoint(this.m_Number,h.m_Number);this.runTo(CTeam.tacklePointX,CTeam.tacklePointY,false)}}else{if(CPlayer.s_haveCompetition&&!this.m_withBall&&!this.posBehindMe(Actor.s_football.m_posX,Actor.s_football.m_posY)&&(this.m_isStronger||this.m_isWeaker)){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,false)}else{if(this.m_tacState==8||(this.m_tacState==7&&CPlayer.s_ballOwner!=null)){if(this.m_tacState==8){if(this.m_isFocus){}this.stand(false)}else{if(this.m_isFocus){}this.doStand()}}else{if(this.m_isBallReceiver&&CPlayer.s_ballOwner==null&&CTeam.s_matchState==0){if((Actor.s_ball_state==0||Actor.s_ball_state==5)&&!CPlayer.s_shoveLostBall){if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){this.stand(false);if(this.m_isFocus){}}else{if(CPlayer.s_ballLastOwner!=this){this.doStand()}}}else{var k=Actor.s_football.m_destX;var i=Actor.s_football.m_destY;if(Actor.s_ballDestReached){k=Actor.s_football.m_posX;i=Actor.s_football.m_posY}var c=cGame.fastDistance(k-this.m_posX,i-this.m_posY);if(c>this.m_destRangeRadius&&this.m_myTeam.m_rcvActionKind!=0){this.runTo(k,i,c>12800)}else{if(CPlayer.s_ballLastOwner!=this){if(this.m_isFocus){}this.doStand()}}}}else{if(this.m_tacState==5){if(this.m_isFocus){}this.stand(false)}else{this.doStand();if(this.m_isFocus){}}}}}}}if(this.m_currState==0&&this.m_nextState==0){return}}}}var d=-1;switch(this.m_param3){case 0:if(this.m_destChanged){if(this.m_behavior==23||this.m_behavior==24){this.stand(true)}d=(this.m_withBall?this.m_speedWithBall:this.m_speed);if(CTeam.s_matchState==5){d=this.m_speed>>1}if(d==this.m_speedWithBall){this.set_dribbleState((this.m_curAbilityTech==3&&this.m_curAbilitySpd>5&&cGame.s_aiMode!=6)?1:0)}CPlayer.parseVector_dup_III(d,this.m_param1-this.m_posX,this.m_param2-this.m_posY);this.m_destChanged=false}if(this.m_fastrun&&this.m_runningTick>3){this.m_runningTick=0;this.m_param3=8;this.set_dribbleState(1);this.m_destChanged=true}this.setBehavior(1);break;case 8:if(this.m_destChanged){if(CPlayer.s_ballFastOwner==this||this.m_withBall){d=((this.m_fatigue>900)?this.m_speedWithBall:this.m_speedFastWithBall)}else{d=((this.m_fatigue>900)?this.m_speed:this.m_speedFast)}var f=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);if(this==CPlayer.s_focusPlayer&&this.m_currDir==f){CPlayer.parseVector_dup_III(d,cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)}else{CPlayer.parseVector_dup_III(d,this.m_param1-this.m_posX,this.m_param2-this.m_posY)}this.m_destChanged=false}if(this.m_tacState==14&&this.m_Number==0){this.turn(-1)}this.setBehavior(32);break;case 1:case 2:if(this.m_withBall){if(this.m_isFocus){}this.doStand();this.set_nextDir(this.m_currDir);return}if(this.m_destChanged){if(this.m_Number==0){d=this.m_speed}else{if(CTeam.s_matchState==5){d=this.m_speedMove>>1}else{if(this.m_fastrun){d=this.m_speedFast}else{d=this.m_speed}}}CPlayer.parseVector_dup_III(d,this.m_param1-this.m_posX,this.m_param2-this.m_posY);this.m_destChanged=false}if(this.m_tacState==14&&this.m_Number==0){this.turn(-1)}if(this.m_param3==2){this.setBehavior(24);break}this.setBehavior(23);break;case 3:var e=0;if(CPlayer.s_ballOwner!=null){this.m_myTeam.getMarkPos(CPlayer.s_ballOwner.m_Number,1);e=CPlayer.dirTo(CTeam.s_markX-this.m_posX,CTeam.s_markY-this.m_posY)}d=(this.m_withBall?this.m_speedWithBall:this.m_speed);if(CPlayer.s_ballOwner==null&&this.m_currDir==this.m_dirToBall){CPlayer.parseVector_dup_III(d,Actor.s_football.m_posX-this.m_posX,Actor.s_football.m_posY-this.m_posY)}else{if((!this.m_isFocus||!CTeam.s_placementByCPU)&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID&&java.lang.Math.abs(CPlayer.dirDifference(this.m_currDir,e))<=1){if((this.m_isFocus||this.m_isControl)&&this.m_whichPlayer!=-1&&CPlayer.s_lastInputDir[this.m_whichPlayer]!=-1){CPlayer.parseVector_dup_II(d,this.m_currDir)}else{this.set_currDir(CPlayer.dirTo(CTeam.s_markX-this.m_posX,CTeam.s_markY-this.m_posY));CPlayer.parseVector_dup_III(d,CTeam.s_markX-this.m_posX,CTeam.s_markY-this.m_posY)}}else{var a=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);if(this==CPlayer.s_focusPlayer&&this.m_currDir==a){CPlayer.parseVector_dup_III(d,cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)}else{CPlayer.parseVector_dup_II(d,this.m_currDir)}}}if(this==CPlayer.s_ballFastOwner&&this==CPlayer.s_ballLastOwner&&!this.m_withBall){this.setBehavior(this.m_behavior)}else{if(CPlayer.s_radar==4&&CPlayer.s_power>3){d>>=1}this.setBehavior(1)}break;case 4:case 5:if(this.m_withBall){if(this.m_isFocus){}this.doStand();this.set_nextDir(this.m_currDir);return}d=this.m_speedMove;CPlayer.parseVector_dup_II(d,this.m_param1);if(this.m_param3==5){this.setBehavior(24);break}this.setBehavior(23);break;case 7:if(CPlayer.s_ballFastOwner==this||this.m_withBall){d=((this.m_fatigue>900)?this.m_speedWithBall:this.m_speedFastWithBall)}else{d=((this.m_fatigue>900)?this.m_speed:this.m_speedFast)}if(CPlayer.s_ballFastOwner!=this&&this.m_currDir!=this.m_dirToBall){var f=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);if(this==CPlayer.s_focusPlayer&&this.m_currDir==f){CPlayer.parseVector_dup_III(d,cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)}else{if(this.m_fastrun&&this.m_dribbleState==1){CPlayer.parseVectorFastRun(d,this.m_currDirForFastRun)}else{CPlayer.parseVector_dup_II(d,this.m_currDir)}}}else{if(this.m_dirToBall!=this.m_currDir){if(CTeam.s_matchState==9&&java.lang.Math.abs(this.m_dirToBall-this.m_currDir)==4){if(this.m_isFocus){GLLib.Dbg("PA_FAST_ON_DIR: doStand()")}this.loseBall();this.doStand();return}this.set_nextDir(this.m_dirToBall);this.doTurn();this.set_dribbleState(0);this.set_fastrun(false);return}else{if(this.m_withBall){var f=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);if(this==CPlayer.s_focusPlayer&&this.m_currDir==f){CPlayer.parseVector_dup_III(d,cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)}else{if(this.m_fastrun&&this.m_dribbleState==1){CPlayer.parseVectorFastRun(d,this.m_currDirForFastRun)}else{CPlayer.parseVector_dup_II(d,this.m_currDir)}}}else{CPlayer.parseVector_dup_III(d,Actor.s_football.m_posX-this.m_posX,Actor.s_football.m_posY-this.m_posY)}}}this.setBehavior(32);break}if(CTeam.s_matchState==0&&this==CPlayer.s_focusPlayer&&this.m_myTeam.m_state==-1&&this!=CPlayer.s_legendPlayer){d=gloft.casttoint(this.m_speed*CPlayer.RUN_SPEED_RATE[cGame.s_matchDifficult]/100)}if(this.m_vX==0&&this.m_vY==0&&this.m_behavior!=23&&this.m_behavior!=24){this.m_bInAccelerating=true;this.m_accStepIndex=1;this.m_accFrameIndex=0;if(this.m_behavior==32){this.m_accFrames=1}else{if(this.m_behavior==1){this.m_accFrames=1}else{if(this.m_behavior==18){this.m_accFrames=1}}}}this.ACCELERATE_STEP=CPlayer.ACCELERATE_STEP_MY_RUN;if(this.m_withBall){this.ACCELERATE_STEP=CPlayer.ACCELERATE_STEP_MY_RUN-2}this.ACCELERATE_STEP-=cGame.convertPlayerValue(this.getPlayerData(8));if(this.ACCELERATE_STEP>10){this.ACCELERATE_STEP=10}if(cGame.s_aiMode==9&&this.m_myTeam.m_ID==1&&this.m_Number!=0){if(this.m_posY>=cGame.s_dribbleDefenderDefaultY[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)){this.m_posY=cGame.s_dribbleDefenderDefaultY[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)}else{if(this.m_posY<=cGame.s_dribbleDefenderDefaultY[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)){this.m_posY=cGame.s_dribbleDefenderDefaultY[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)}}if(this.m_posX>=cGame.s_dribbleDefenderDefaultX[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)){this.m_posX=cGame.s_dribbleDefenderDefaultX[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)}else{if(this.m_posX<=cGame.s_dribbleDefenderDefaultX[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)){this.m_posX=cGame.s_dribbleDefenderDefaultX[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)}}}if(d!=-1){this.m_destRangeRadius=(d>>1)+256;this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;var j=cGame.screenDistance(this.m_vX,this.m_vY);if(j!=0){if(this.m_param3==7||this.m_param3==8){d=gloft.casttoint(cGame.s_game_rhyrhm_fast_run*d/100)}else{d=gloft.casttoint(cGame.s_game_rhyrhm_run*d/100)}var g=d*256>>8;this.m_vX=gloft.casttoint(this.m_vX*g/j);this.m_vY=gloft.casttoint(this.m_vY*g/j);this.m_vY=gloft.casttoint(this.m_vY*90/100);this.m_destRangeRadius=gloft.casttoint(this.m_destRangeRadius*g/j)}if(cGame.s_aiMode==9&&this!=CPlayer.s_focusPlayer&&!CPlayer.s_focusPlayer.m_withBall&&(CPlayer.s_focusPlayer.m_vX!=0||CPlayer.s_focusPlayer.m_vY!=0)&&CPlayer.dirTo(this.m_vX,this.m_vY)==CPlayer.dirTo(CPlayer.s_focusPlayer.m_vX,CPlayer.s_focusPlayer.m_vY)){this.m_vX=CPlayer.s_focusPlayer.m_vX;this.m_vY=CPlayer.s_focusPlayer.m_vY}this.m_vXToGet=this.m_vX;this.m_vYToGet=this.m_vY}if(this.m_actionOver){}if(this.m_bInAccelerating){++this.m_accFrameIndex;if(this.m_accFrames==this.m_accFrameIndex){this.m_accFrameIndex=0;++this.m_accStepIndex}if(this.m_accStepIndex>=this.ACCELERATE_STEP){this.m_bInAccelerating=false}else{this.m_vX=gloft.casttoint(this.m_vXToGet*this.m_accStepIndex/this.ACCELERATE_STEP);this.m_vY=gloft.casttoint(this.m_vYToGet*this.m_accStepIndex/this.ACCELERATE_STEP)}}else{if(this.m_vX>=this.m_vXToGet&&this.m_vY>=this.m_vYToGet){this.m_bInAccelerating=false}}if(CTeam.s_matchState!=0&&this.m_currDir!=CPlayer.dirTo(this.m_vX,this.m_vY)&&this.m_currDir!=CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY)&&(this.m_vX!=0||this.m_vY!=0)&&(this.m_param3==0||this.m_param3==3||this.m_param3==8||this.m_param3==7)){this.set_currDir(CPlayer.dirTo(this.m_vX,this.m_vY));this.setBehavior(this.m_behavior)}this.set_currState(1);this.set_nextState(1);if(this.m_withBall){var b=true;if(this.m_preState==2||this.m_currState==2||CPlayer.s_radar==5||this.m_preState==4||this.m_currState==4||CPlayer.s_radar==3||this.m_preState==3||this.m_currState==3||CPlayer.s_radar==2||this.m_preState==13||this.m_currState==13||CPlayer.s_radar==6){b=false}if(this.m_currState==1&&this.m_dribbleState==1){this.doFastDribble()}else{Actor.setBallCarried(this)}}},isFocusPlayerCurInDfArea:function(){return cGame.s_aiMode==9&&CPlayer.s_focusPlayer.m_posX<cGame.s_dribbleDefenderDefaultX[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_posX>cGame.s_dribbleDefenderDefaultX[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_posY<cGame.s_dribbleDefenderDefaultY[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_posY>cGame.s_dribbleDefenderDefaultY[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)},isFocusPlayerLastInDfArea:function(){return cGame.s_aiMode==9&&CPlayer.s_focusPlayer.m_lastPosX<cGame.s_dribbleDefenderDefaultX[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_lastPosX>cGame.s_dribbleDefenderDefaultX[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeW[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_lastPosY<cGame.s_dribbleDefenderDefaultY[this.m_Number]+gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)&&CPlayer.s_focusPlayer.m_lastPosY>cGame.s_dribbleDefenderDefaultY[this.m_Number]-gloft.casttoint(cGame.s_dribbleDefenderRangeH[this.m_Number]/2)},resetDribbleDefenderOrder:function(){var b=CTeam.getElementIDByLayerID(cGame.s_dribbleDefenderStartID[this.m_Number]);var a=CTeam.getElementIDByLayerID(cGame.s_dribbleDefenderEndID[this.m_Number]);if(b==-1||a==-1){return}if(CTeam.s_curDribbleIndex<Actor.s_actors[b].m_order||CTeam.s_curDribbleIndex>Actor.s_actors[a].m_order){return}if(CTeam.s_curDribbleIndex>Actor.s_actors[b].m_order&&CTeam.s_curDribbleIndex<=Actor.s_actors[a].m_order){CTeam.s_curDribbleIndex=Actor.s_actors[b].m_order}},doStagger:function(){this.setBehavior(16);if(this.m_fastrun){this.m_vX=gloft.casttoint(this.m_vX*2/3);this.m_vY=gloft.casttoint(this.m_vY*2/3)}else{this.m_vX=gloft.casttoint(this.m_vX/2);this.m_vY=gloft.casttoint(this.m_vY/2)}if(this==CPlayer.s_focusPlayer&&this.m_withBall){this.loseBall();CPlayer.parseVector_dup_II(5120,this.m_nextDir);Actor.setBallOutTo(5,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0,-1,-1);this.m_idea=1}},doCompteitionOnBall:function(){var a=CPlayer.s_competitorStrong;if(this.m_isStronger){a=CPlayer.s_competitorWeak}var c=CPlayer.dirTo(a.m_posX-this.m_posX,a.m_posY-this.m_posY);var f=1;this.loseBall();a.getBall();a.loseBall();CPlayer.s_shoveLostBall=true;CPlayer.s_loseBall_tick=cGame.getSystemMillis();CPlayer.s_lostBallPlayer=this;CPlayer.s_shoveBallPlayer=a;var e=gloft.casttoint((CPlayer.BASIC_SPEED+gloft.casttoint(CPlayer.BASIC_SPEED*1/f)-CPlayer.WASTING_SPEED)*1/1);var b=CPlayer.s_competitorStrong;CPlayer.parseVector_screen_dup_IIII(e,b.m_vX,b.m_vY,0);Actor.setBallOutTo(0,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0,-1,-1);var d=cGame.fastDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);if(a.m_isFocus){a.m_idea=1;CPlayer.s_shoveBallPlayer=a}else{if(a.m_myTeam.m_type==1){a.m_tacState=1}}},doFastDribble:function(){if(this.m_dribbleState==2){CPlayer.s_ballFastOwner=null;Actor.setBallCarried(this)}else{this.loseBall();Actor.setBallFastCarried(CPlayer.s_ballFastOwner=this)}},doTurn:function(){var b=6;var e=CPlayer.dirDifference(this.m_currDir,this.m_nextDir);if(e!=1&&e!=-1){this.m_vX=0;this.m_vY=0}else{if(this.m_withBall){if(e==1||e==-1){var d=GLLib.Math_Sqrt_dup_I(this.m_vX*this.m_vX+this.m_vY*this.m_vY);if(this.m_currDir==0||this.m_currDir==4){this.m_vY=this.m_vY*362>>9;if(e==-1){this.m_vX=this.m_vY}else{this.m_vX=-this.m_vY}this.m_vX=gloft.casttoint(this.m_vX*8/10);this.m_vY=gloft.casttoint(this.m_vY*8/10)}else{if(this.m_currDir==2||this.m_currDir==6){this.m_vX=this.m_vX*362>>9;if(e==-1){this.m_vY=-this.m_vX}else{this.m_vY=this.m_vX}this.m_vX=gloft.casttoint(this.m_vX*8/10);this.m_vY=gloft.casttoint(this.m_vY*8/10)}else{if(this.m_currDir==1||this.m_currDir==5){if(e==-1){this.m_vX=0;this.m_vY=gloft.casttoint((this.m_vY<<8)/362)*2}else{this.m_vX=gloft.casttoint((this.m_vX<<8)/362)*2;this.m_vY=0}this.m_vX=gloft.casttoint(this.m_vX*8/10);this.m_vY=gloft.casttoint(this.m_vY*8/10)}else{if(this.m_currDir==3||this.m_currDir==7){if(e==-1){this.m_vX=gloft.casttoint((this.m_vX<<8)/362)*2;this.m_vY=0}else{this.m_vX=0;this.m_vY=gloft.casttoint((this.m_vY<<8)/362)*2}this.m_vX=gloft.casttoint(this.m_vX*8/10);this.m_vY=gloft.casttoint(this.m_vY*8/10)}}}}}else{if(this.m_currDir==0||this.m_currDir==4){this.m_vY>>=1;this.m_vX=0}else{if(this.m_currDir==2||this.m_currDir==6){this.m_vX>>=1;this.m_vY=0}else{if(this.m_nextDir==0||this.m_nextDir==4){this.m_vX=0}else{if(this.m_nextDir==2||this.m_nextDir==6){this.m_vY=0}}}}}}}var c=(this.m_withBall&&this.m_currState==1&&!this.m_isFeint&&(this.m_fastrun||this.m_isFastRun))||((e==3||e==-3)&&this.m_withBall);if(!c){if(e==3){e=2}else{if(e==-3){e=-2}}}if(this.m_isFeint){this.m_isFeint=false;if(e==2){e=1}else{if(e==-2){e=-1}}}if((this.m_isStronger||this.m_isWeaker)&&!this.m_withBall&&this.m_myTeam.m_type==1){this.set_currDir(this.m_currDir+e&7);return}var a=-1;switch(e){case 1:this.m_mustChangeAction=true;if(this.m_withBall){b=6;this.setBehavior(3);break}b=2;break;case -1:this.m_mustChangeAction=true;if(this.m_withBall){b=6;this.setBehavior(2);break}b=2;break;case 2:if(c){a=0;b=7;this.m_mustChangeAction=true;this.setBehavior(9);break}this.m_mustChangeAction=true;if(this.m_withBall){if(this.m_curAbilityTech==0){b=3}else{if(this.m_curAbilityTech==3){b=4}else{b=6}}}else{b=2}this.setBehavior(5);break;case -2:if(c){a=0;b=7;this.m_mustChangeAction=true;this.setBehavior(8);break}this.m_mustChangeAction=true;if(this.m_withBall){if(this.m_curAbilityTech==0){b=3}else{if(this.m_curAbilityTech==3){b=4}else{b=6}}}else{b=2}this.setBehavior(4);break;case 3:if(c){b=8+(this.m_fast2Fast?2:0);a=(this.m_fast2Fast?3:1);this.m_mustChangeAction=true;this.setBehavior(9);break}break;case -3:if(c){b=8+(this.m_fast2Fast?2:0);a=(this.m_fast2Fast?3:1);this.m_mustChangeAction=true;this.setBehavior(8);break}break;case 4:if(c){b=8+(this.m_fast2Fast?3:1);a=(this.m_fast2Fast?4:2);this.m_mustChangeAction=true;this.setBehavior(9);b=8;break}this.m_mustChangeAction=true;this.setBehavior(7);if(this.m_curAbilityTech==0){b=4;break}if(this.m_curAbilityTech==3){b=4;break}b=8;break}this.set_currDir(this.m_currDir+e&7);if(this.m_withBall){if(!this.m_isFocus&&this.m_currDir==this.m_nextDir&&this.m_nextState!=1&&this.m_Number!=0){this.receiveTurnInertia(5)}if(this.m_isFocus&&(e==1||e==-1)){this.receiveTurnInertia(2)}CPlayer.parseVector_dup_II(1280,this.m_currDir);Actor.setBallTurnTo(this.m_posX+this.m_vX*b+CPlayer.s_vectorX,this.m_posY+this.m_vY*b+CPlayer.s_vectorY,b)}},doTurnInertia:function(){if(cGame.s_aiMode==9&&this.m_behavior==16){return}var a=gloft.casttoint(null);if(this.m_fastrun){a=(this.m_withBall?this.m_speedFastWithBall:this.m_speedFast);this.setBehavior(32)}else{a=(this.m_withBall?this.m_speedWithBall:this.m_speed);this.setBehavior(1)}CPlayer.parseVector_screen_dup_II(a,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;if(this.m_withBall){if(this.m_dribbleState!=0){this.doFastDribble()}else{Actor.setBallCarried(this)}}},doFool:function(e){this.m_foolEndsTick=GLLib.s_game_currentFrameNB+e;if(this.m_behavior==16||this.m_behavior==17){var d=0;if(this.m_behavior==17){this.m_foolAnimationEndsTick=GLLib.s_game_currentFrameNB+26;d=9}else{if(this.m_behavior==16){this.m_foolAnimationEndsTick=GLLib.s_game_currentFrameNB+12;d=12}}CPlayer.parseVector_screen_dup_II(this.m_speed,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.m_aX=gloft.casttoint(-this.m_vX/d);this.m_aY=gloft.casttoint(-this.m_vY/d)}else{this.m_vX=0;this.m_vY=0;var a=false;this.m_aY=(a?1:0);this.m_aX=(a?1:0)}this.set_currState(9);this.set_nextState(0);if(this.m_isFocus){}if(this.m_behavior==16){this.set_directDir(this.m_dirToBall)}if(this.m_actionOver){this.m_vX=0;this.m_vY=0;var c=false;this.m_aY=(c?1:0);this.m_aX=(c?1:0);this.setBehavior(0)}},doFoul:function(b){if(CTeam.s_matchState!=0||cGame.s_aiMode==2||cGame.s_aiMode==6||cGame.s_aiMode==9){return}if(this.m_card+b>1&&(cGame.s_playerChanged==2||cGame.s_playerChanged==this.m_myTeam.m_ID)&&cGame.s_subs_N[this.m_myTeam.m_ID][this.m_Number]>=11){if(CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_Number==0){var c=this.m_myTeam.m_ID;var l=cGame.s_subs_N[this.m_myTeam.m_ID][this.m_Number];var k=this.m_Number;var f=0;var e=-1;for(var g=11;g<cGame.s_teamPlayerNum[c];++g){if(cGame.s_subs_N[c][g]<11||cGame.s_subs_N[c][g]>=cGame.s_teamPlayerNum[c]){++f}if(cGame.s_subs_N[c][g]==l){e=f}if(f>2){break}}var a=3-f;for(var d=e;f>e&&d<f-e;++d){cGame.s_subsPair_before_compute[6*c+3-d]=cGame.s_subsPair_before_compute[6*c+3-d+1];cGame.s_subsPair_before_compute[6*c+6-d]=cGame.s_subsPair_before_compute[6*c+3-d+1]}f=cGame.s_subs_N[c][l];cGame.s_subs_N[c][l]=cGame.s_subs_N[c][k];cGame.s_subs_N[c][k]=f;if(a==3){cGame.s_playerChanged=-1}}else{b=0}}if(this.m_myTeam.isPointInMyFBZ2(this.m_posX,this.m_posY)){if(cGame.s_matchMode==11){CTeam.setMatchState_dup_IIII(8,1-this.m_myTeam.m_ID,(CTeam.s_leftTeamID==this.m_myTeam.m_ID)?(cGame.LEFT_PENALTY_POINT_3D_X<<8):(cGame.RIGHT_PENALTY_POINT_3D_X<<8),(CTeam.s_leftTeamID==this.m_myTeam.m_ID)?(cGame.LEFT_PENALTY_POINT_3D_Y<<8):(cGame.RIGHT_PENALTY_POINT_3D_Y<<8));cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1)}else{CTeam.setMatchState_dup_IIII(8,1-this.m_myTeam.m_ID,(CTeam.s_leftTeamID==this.m_myTeam.m_ID)?(cGame.LEFT_PENALTY_POINT_3D_X<<8):(cGame.RIGHT_PENALTY_POINT_3D_X<<8),(CTeam.s_leftTeamID==this.m_myTeam.m_ID)?(cGame.LEFT_PENALTY_POINT_3D_Y<<8):(cGame.RIGHT_PENALTY_POINT_3D_Y<<8));CTeam.s_foulPlayer=this;var h=CPlayer.getPunishment_PlayerID(CTeam.s_foulPlayer);this.m_showCard=b;this.set_card(this.m_card+b);CPlayer.setPunishment_Card(h,this.m_card)}}else{if(cGame.s_matchMode==11){CTeam.setMatchState_dup_IIII(7,1-this.m_myTeam.m_ID,this.m_posX,this.m_posY);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1)}else{CTeam.s_foulPlayer=this;var h=CPlayer.getPunishment_PlayerID(CTeam.s_foulPlayer);this.m_showCard=b;this.set_card(this.m_card+b);CPlayer.setPunishment_Card(h,this.m_card);CTeam.setMatchState_dup_IIII(7,1-this.m_myTeam.m_ID,this.m_posX,this.m_posY)}}if(cGame.s_currentPlaySound==12){cGame.StopSound_dup_();cGame.PlaySound_dup_I(cGame.sfx_2_whistle_blow)}else{cGame.PlaySound_dup_I(cGame.sfx_2_whistle_blow)}cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,4);if(b>0){cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,(b==1)?6:7);if(b==1&&this.m_card>1){cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,7)}}if(this.m_card>1){CPlayer.clearFocus()}CPlayer.s_foulTick=GLLib.s_game_currentFrameNB;CPlayer.s_curCardFoul=b},checkEmotionRun:function(){if(CTeam.s_matchState==4){var c=this.m_myTeam;var b=CTeam.s_period;var a=this.m_myTeam;if(b==15){this.doStand();return}}if(this.m_param3!=1&&this.m_param3!=25&&this.m_param3!=20){return}var d=(this.m_param3==1||this.m_param3==25)?(gloft.casttoint((CPlayer.BASIC_SPEED<<2)/3)):(CPlayer.BASIC_SPEED>>1);this.m_destRangeRadius=CPlayer.parseVector_screen_dup_IIII(d,this.m_param1-this.m_posX,this.m_param2-this.m_posY,(d>>1)+256);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;if(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY)<=this.m_destRangeRadius){this.m_destReached=true;this.m_posX=this.m_param1;this.m_posY=this.m_param2}else{if(this.m_posY<=this.m_param2&&CTeam.s_period==12){this.m_destReached=true}}if(this.m_destReached){this.doStand();if(this.m_isFocus){}return}if(this.m_destChanged&&!this.m_beShoved){this.m_destChanged=false}this.set_directDir(CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY))},doEmotion:function(){this.set_currState(11);var a=false;this.m_vY=(a?1:0);this.m_vX=(a?1:0);var c=false;this.m_vY=(c?1:0);this.m_aX=(c?1:0);switch(this.m_param3){case 5:this.setBehavior(37);this.set_nextState(11);break;case 6:this.setBehavior(38);break;case 22:this.set_directDir(4);this.setBehavior(51);CPlayer.parseVector_screen_dup_II(CPlayer.BASIC_SPEED>>1,this.m_currDir);this.m_vY=CPlayer.s_vectorY;this.m_aY=gloft.casttoint(-this.m_vY/10);break;case 8:this.setBehavior(48);Actor.s_ball_heldbyplayer=true;break;case 21:this.setBehavior(49);CPlayer.parseVector_screen_dup_II(CPlayer.BASIC_SPEED>>2,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.m_aX=gloft.casttoint(this.m_vX/4);this.m_aY=gloft.casttoint(this.m_vY/4);break;case 7:this.setBehavior(39);break;case 2:this.setBehavior(33);this.set_nextState(11);break;case 19:var g=CPlayer.BASIC_SPEED>>2;CPlayer.parseVector_screen_dup_II(g,this.m_param1);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;if(this.m_currDir!=this.m_param1){this.set_currDir(this.m_param1)}if(this.m_param1==0){if(java.lang.Math.abs(this.m_param2-this.m_posY)<=g){this.m_destReached=true;this.m_posY=this.m_param2}}else{if(java.lang.Math.abs(this.m_param2-this.m_posX)<=g){this.m_destReached=true;this.m_posX=this.m_param2}}if(this.m_destReached){this.doStand();if(this.m_isFocus){}return}if(this.m_destChanged&&!this.m_beShoved){this.m_destChanged=false;this.set_currDir(this.m_param1)}this.setBehavior(57);this.set_nextState(11);break;case 1:case 20:case 25:this.checkEmotionRun();if(this.m_param3==1){this.setBehavior(56)}else{if(this.m_param3==25){this.setBehavior(93)}else{this.setBehavior(1)}}this.set_nextState(11);break;case 14:this.setBehavior(23);this.set_nextState(11);break;case 16:this.setBehavior(71);this.set_nextState(11);break;case 17:this.setBehavior(72);this.set_nextState(11);break;case 3:case 4:case 12:case 13:case 24:CPlayer.parseVector_screen_dup_II(CPlayer.BASIC_SPEED,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;var h=gloft.casttoint(null);var f=gloft.casttoint(null);if(this.m_param3==3){h=20;f=35}else{if(this.m_param3==4){h=20;f=36}else{if(this.m_param3==12){h=15;f=54}else{if(this.m_param3==24){h=30;f=92}else{h=15;f=55}}}}this.m_aX=gloft.casttoint(-this.m_vX/(h-1));this.m_aY=gloft.casttoint(-this.m_vY/(h-1));this.setBehavior(f);this.set_nextState(11);break;case 11:if(this.m_Number!=0){cGame.s_injurePlayer=this;cGame.s_playerData[this.m_myTeam.m_ID*1260+this.m_Number*42+31]=3;this.updateProperties(-4);cGame.s_injureCurrTime=200}switch(this.m_currDir){case 1:case 2:this.set_directDir(2);break;case 3:case 4:this.set_directDir(4);break;case 5:case 6:this.set_directDir(6);break;case 0:case 7:this.set_directDir(0);break}var d=cGame.random(0,1);var e=cGame.s_radisRect>>8&15;GLLib.Dbg("rebuild foul injure report is NULL!!!!!check it!");cGame.s_reporterStr=cGame.replaceString(cGame.GetString(907+d),"~",(d==0)?cGame.teamName[e]:cGame.playerName[e][cGame.s_radisRect&255]);this.setBehavior(53);break}},doGetUp:function(){this.set_currState(12);if(this.m_behavior==17||this.m_behavior==36||this.m_behavior==50){this.setBehavior(31)}},doFeint:function(){if(Actor.s_ball_heldbygk){return}var a=-1;switch(this.m_param3){case 0:this.m_currDir&=7;this.m_nextDir=this.m_currDir;this.m_preDir=(CPlayer.dirIn3(this.m_currDir,7)?1:-1);a=this.m_speedWithBall;this.m_destRangeRadius=(a>>1)+256;CPlayer.parseVector_screen_dup_II(a,this.m_currDir+this.m_preDir&7);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;GLLib.Dbg(this.m_currDir+","+this.m_preDir+","+CPlayer.s_vectorX+","+CPlayer.s_vectorY);this.setBehavior(60);break;case 1:this.set_nextDir(this.m_currDir);a=this.m_speed;this.m_feintEndsTick=GLLib.s_game_currentFrameNB+12;CPlayer.parseVector_screen_dup_II(a,this.m_currDir&7);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.setBehavior(61);break;case 3:this.set_directDir(this.m_currDir&7);this.m_preDir=(CPlayer.dirIn3(this.m_currDir,7)?1:-1);a=this.m_speedMove;CPlayer.parseVector_screen_dup_II(a,this.m_currDir&7);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.setBehavior(63);break}this.m_feint=this.m_param3;this.set_currState(13);this.set_nextState(1);Actor.setBallCarried(this);Actor.s_ball_heldbyplayer=true},set_dribbleState:function(a){this.m_dribbleState=a},set_fastrun:function(a){this.m_fastrun=a},set_currState:function(a){this.m_currState=a},set_nextState:function(a){this.m_nextState=a},set_preState:function(a){this.m_preState=a},set_currDir:function(a){this.m_currDir=a},set_nextDir:function(a){this.m_nextDir=a},set_directDir:function(a){this.m_nextDir=a;this.m_currDir=a},set_card:function(a){this.m_card=a},ballOverMeIn:function(a){return Actor.ballOverPointIn(this.m_posX,this.m_posY,a)},ballOverMeOn:function(a){return Actor.ballOverPointOn(this.m_posX,this.m_posY,a)},canTrap:function(){if(CTeam.nWall!=0&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner!=CTeam.s_kickPlayer){CTeam.nWall=0}if(CPlayer.s_ballOwner!=null){return false}if(CTeam.s_throughReceiverID!=-1&&this.m_Number!=CTeam.s_throughReceiverID&&this.m_tacState!=1){return false}Label_0266:{if(CPlayer.s_ctrWithoutBall<6){if(Actor.s_ball_state!=2){if(Actor.s_ball_state!=9){if(cGame.s_aiMode==6&&(CTeam.s_newtutorialStep==23||CTeam.s_newtutorialStep==33)&&CPlayer.s_ballLastOwner!=this){if(CTeam.s_newtutorialStep==23){return false}}else{if(!CPlayer.s_shoveLostBall||CPlayer.s_shoveBallPlayer!=this){if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID){if(CPlayer.s_ballFastOwner!=null){var i=Actor.s_football;if(Actor.s_ball_state==0){break Label_0266}}return false}if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID){return false}if(CPlayer.s_ballLastOwner==this){return false}}}}}}else{if(CPlayer.s_ctrWithoutBall<10&&CPlayer.s_bIsThroughPass&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID){return false}}}if(this==CPlayer.s_lostBallPlayer&&cGame.getSystemMillis()-CPlayer.s_loseBall_tick<200){return false}if(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner!=this&&CPlayer.s_ballFastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID){return false}if((Actor.s_ball_state==2||Actor.s_ball_state==9)&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID&&CPlayer.s_ctrWithoutBall<6){return false}if(CTeam.nWall!=0&&Actor.s_ball_state==9&&cGame.random(0,3)==0&&this.m_myTeam!=CTeam.s_teams[CTeam.s_kickTeamID]&&this.m_Number>=11-CTeam.nWall){return false}if(CTeam.s_matchState!=0){return false}var b=Actor.ballOverPointOn(this.m_posX,this.m_posY,0);if(!b&&this.m_Number!=0&&(this.m_preState==1||Actor.s_ball_state==10)&&((this.m_myTeam.m_rcvActionKind==0&&Actor.ballOverPointIn(this.m_posX,this.m_posY,6)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]<=20480&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6-2]>20480)||(this.m_myTeam.m_rcvActionKind==2&&Actor.ballOverPointIn(this.m_posX,this.m_posY,3)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+3]<=16640&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+3-2]>16640)||(this.m_myTeam.m_rcvActionKind==4&&Actor.ballOverPointIn(this.m_posX,this.m_posY,6)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]<=17920&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6-2]>17920))){this.doDirect();return false}if((this.m_isBallReceiver&&this.m_disToBall<10240)||(!this.m_isBallReceiver&&this.m_disToBall<20480)){if(this.m_Number!=0&&Actor.s_ball_state==0&&this.m_myTeam.m_specialDirectType==1&&(this.m_disToBall<=1280||!CPlayer.dirIn3(this.m_myTeam.convertDir(this.m_currDir),2))){this.m_myTeam.m_specialDirectType=0}if(this.m_disToBall<=1280&&Actor.s_football.m_posZ<=16640){return true}var e=16640;if(Actor.s_football.m_posZ<=e||Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame]<=e){var d=Actor.ballOverPointOn(this.m_posX,this.m_posY,0);if(d&&Actor.s_ball_state==9&&CTeam.nWall!=0&&this.m_myTeam!=CTeam.s_teams[CTeam.s_kickTeamID]&&cGame.random(0,100)>20){return false}if(!d&&this.m_preState==4&&this.m_Number!=0&&Actor.s_ball_state==0){if(this.m_myTeam.m_specialDirectType==1){if(!Actor.s_ballDestReached&&Actor.ballOverPointOn(this.m_param1,this.m_param2,this.m_myTeam.m_rcvAddedKeyFrame-1)){this.m_myTeam.m_rcvBallGoAndKickX=this.m_param1;this.m_myTeam.m_rcvBallGoAndKickY=this.m_param2;this.m_myTeam.m_rcvGoAndKickX=this.m_posX;this.m_myTeam.m_rcvGoAndKickY=this.m_posY;this.doDirect();return false}}else{if(this.m_destReached&&this.ballOverMeOn(6)){this.doDirect();return false}}}if(!d&&Actor.s_ball_state==0&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID){var g=this.m_posX+this.m_vX;var f=this.m_posY+this.m_vY;if(Actor.ballOverPointOn(g,f,0)&&cGame.isLineSegmentCrossPoint(Actor.s_futureBallPosX[Actor.s_ctrFutureBallFrame],Actor.s_futureBallPosY[Actor.s_ctrFutureBallFrame],this.m_posX,this.m_posY,g,f,1280)){d=true}}return d}}if(this.m_isBallReceiver&&this!=CPlayer.s_ballFastOwner&&Actor.s_football.m_posZ<20480){if(this.m_myTeam.m_type==1&&this.m_preState!=4&&this.m_myTeam.haveDirectCommand(this.m_Number,11)){this.set_preState(4)}if(this.m_preState==4&&this.m_Number!=0&&this.m_myTeam.m_specialDirectType!=0&&!Actor.s_ballDestReached&&Actor.ballOverPointOn(this.m_myTeam.m_rcvBallGoAndKickX,this.m_myTeam.m_rcvBallGoAndKickY,this.m_myTeam.m_rcvAddedKeyFrame-1)){this.doDirect();return false}if((this.m_preState==2||this.m_preState==4)&&this.m_Number!=0&&this.m_myTeam.m_rcvActionKind==0){var c=cGame.fastDistance(this.m_vX,this.m_vY);var h=false;if(c==0){h=(this.m_disToBall<this.m_speedFast)}else{h=(CPlayer.getRunFrames(this.m_speed,this.m_posX,this.m_posY,this.m_myTeam.m_rcvBallGoAndKickX,this.m_myTeam.m_rcvBallGoAndKickY)<=7)}if(h&&!Actor.s_ballDestReached&&Actor.ballOverPointOn(this.m_myTeam.m_rcvBallGoAndKickX,this.m_myTeam.m_rcvBallGoAndKickY,5)&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]>10240&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]<20480){this.doDirect();return false}}if(this.m_destReached){var a=false;if(this.m_canHead&&(Actor.s_ball_state==1||Actor.s_ball_state==10)&&this.ballOverMeOn(6)){this.m_canHead=false;if(Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]>10240&&Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6]<20480){a=true}}if(a){if(this.m_preState!=-1){if(cGame.random(0,5)>3&&this.m_preState==4){this.m_myTeam.m_rcvActionKind=4}else{this.m_myTeam.m_rcvActionKind=0}this.doDirect()}}}}return false},doTrap:function(){if(this.m_myTeam.m_rcvActionKind==0||this.m_myTeam.m_rcvActionKind==4){this.m_myTeam.m_rcvActionKind=1}var p=false;if(this.m_myTeam.m_type==1&&cGame.s_matchMode==11){GLLib.Dbg("AI NE CHECK BALL NJUT =================>> SWAP BALL <<=========== KICK OFF  MANING");this.m_outBallParam1=500;this.m_outBallParam2=this.m_outBallParam1+200;this.m_outBallParam3=this.m_outBallParam2+300;Actor.setBallOutTo(9,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1);this.doOutBall(4,true)}if(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID&&cGame.fastDistance(CPlayer.s_ballFastOwner.m_posX-this.m_posX,CPlayer.s_ballFastOwner.m_posY-this.m_posY)<3840){if(cGame.random(0,3)<4){CPlayer.s_ballFastOwner.setBehavior(16);CPlayer.s_ballFastOwner.doFool(12)}else{CPlayer.s_ballFastOwner.setBehavior(17);CPlayer.s_ballFastOwner.doFool(40)}++this.m_successInterceptTime;if(this.m_myTeam.m_ID==0){cGame.processAchievementInMatch(1)}p=true;CPlayer.parseVector_dup_II(5120,this.m_currDir);Actor.setBallOutTo(4,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0,-1,-1)}if(CPlayer.s_ballTackledOutBy!=null&&CPlayer.s_ballTackledOutBy.m_myTeam.m_ID==this.m_myTeam.m_ID){var j=CPlayer.s_ballTackledOutBy;++j.m_successTackleTime;if(this.m_myTeam.m_ID==0){cGame.processAchievementInMatch(1)}cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,9);this.set_preState(-1);CPlayer.s_power=0}else{if(CPlayer.s_ballFastOwner==null&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID&&(Actor.s_ball_state==0||Actor.s_ball_state==1||Actor.s_ball_state==10)){++this.m_successInterceptTime;if(this.m_myTeam.m_ID==0){cGame.processAchievementInMatch(1)}p=true}}CPlayer.s_ballTackledOutBy=null;if(CPlayer.s_ballLastOwner!=this&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID&&!CPlayer.s_shoveLostBall&&(Actor.s_ball_state==0||Actor.s_ball_state==1||Actor.s_ball_state==10)){CPlayer.s_extraRun=false;CPlayer.s_lastAsistPlayer=CPlayer.s_ballLastOwner;var d=CPlayer.s_ballLastOwner;++d.m_successPassTime;cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,12);if(this.m_myTeam.m_type==0&&cGame.s_aiMode==6&&(CTeam.s_newtutorialStep==7||(CTeam.s_newtutorialStep==14&&CTeam.s_throughReceiverID==this.m_Number)||(CTeam.s_newtutorialStep==9&&CTeam.s_isTutorialLongPassBySharp&&Actor.s_ball_state==10))){CTeam.s_taskFinish=true}if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]==this&&(CPlayer.s_ballLastOwner.m_myTeam.m_type==0||CPlayer.s_ballLastOwner==CPlayer.s_legendPlayer)){if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==16){CTeam.s_taskFinish=true}cGame.setSupport(true,this.m_myTeam.m_ID,17);this.m_myTeam.addMorale(5)}else{if(((this.m_myTeam.m_leftSide&&CPlayer.s_ballLastOwner.m_posX<this.m_posX&&this.m_posX>0)||(!this.m_myTeam.m_leftSide&&CPlayer.s_ballLastOwner.m_posX>this.m_posX&&this.m_posX<0))&&CTeam.s_matchState==0){var w=true;for(var t=0;t<11;++t){if(this.m_opTeam.m_players[t].m_court==0&&this.m_opTeam.m_players[t].m_disToBall<8192){w=false;break}}if(w){if(CPlayer.s_ballLastOwner.m_myTeam.m_type==0||CPlayer.s_ballLastOwner==CPlayer.s_legendPlayer){cGame.setSupport(true,this.m_myTeam.m_ID,CPlayer.s_throughPass?9:10)}this.m_myTeam.addMorale(10)}else{this.m_myTeam.addMorale(5)}}else{this.m_myTeam.addMorale(5)}}++cGame.s_team_passTotal;if(Actor.s_ball_state==1||Actor.s_ball_state==10){++cGame.s_team_passTotal}}else{cGame.s_team_passTotal=0}var b=CPlayer.dirTo(Actor.s_football.m_vX,Actor.s_football.m_vY);var s=(this.m_vX==0&&this.m_vY==0)?b:CPlayer.dirTo(this.m_vX,this.m_vY);var a=java.lang.Math.abs(CPlayer.dirDifference(s,b));var n=this.m_preDir!=-1&&this.m_preDir!=this.m_currDir;if(this.m_myTeam.m_type==1&&this!=CPlayer.s_legendPlayer){var x=10;var y=11;if(this.m_myTeam.haveDirectCommand(this.m_Number,11)){var e=this.m_myTeam.m_leftSide?(cGame.CAGE_LEFT<<8):(-cGame.CAGE_LEFT<<8);var l=CPlayer.dirTo(e-this.m_posX,0-this.m_posY);if(l==0||l==4){cGame.P("not shoot when no angle");this.set_preState(-1)}else{this.set_preState(4)}}else{if(this.m_myTeam.haveDirectCommand(this.m_Number,10)&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){this.set_preState(2)}}if((Actor.s_ball_state==1||Actor.s_ball_state==10)&&this.m_preState==-1&&Actor.s_football.m_posZ<9216&&CPlayer.findNearestToBallInTeam_dup_IZ(1-this.m_myTeam.m_ID,false).m_disToBall<4352){this.set_preState(2)}else{if((this.m_preState==2||this.m_preState==4)&&Actor.s_ballDestReached){this.set_preState(-1)}}}else{if(p&&(this.m_preState==2||this.m_preState==4)){this.set_preState(-1)}}if(this.doDirect()){return}var k=7;var f=15;this.m_preDirForFastRun=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)*2;if(!this.m_fast2Fast){this.m_fast2Fast=(this.m_isFastRun&&this.m_preFastRun)}if(this.m_fast2Fast&&this.m_preDir!=-1){k=CPlayer.dirDifference(this.m_currDir,this.m_preDir+8&7)}f=CPlayer.dirDifferenceForFastRun(this.m_currDirForFastRun,this.m_preDirForFastRun+16&15);var c=CPlayer.dirDifferenceForFastRun(this.m_currDirForFastRun,((cGame.s_PressDir==-1)?this.m_preDirForFastRun:cGame.s_PressDir)+16&15);if(this.m_fast2Fast&&CPlayer.s_ballFastOwner==this&&cGame.s_PressDirForFastRun!=-1&&f!=0&&java.lang.Math.abs(c)<5){CPlayer.s_extraRun=false;if(this.m_currState==1){if(this.m_dribbleState==1){this.getBall();this.doFastDribble();return}if(this.m_isFocus){this.m_fast2Fast=(k!=0);this.set_fastrun(true);this.set_dribbleState(1);var h=0;if(f>0){h=1}else{if(f<0){h=-1}else{h=0}}this.m_currDirForFastRun=(this.m_currDirForFastRun+h&15);if(this.m_currDirForFastRun%4==1&&h==-1){this.set_directDir(this.m_currDirForFastRun+1>>1)}else{this.set_directDir(this.m_currDirForFastRun>>1)}this.m_param3=7;this.m_destReached=false;this.m_waitEndsTick=0;CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_currDir;this.getBall();this.doRun();return}}}if(this.m_preFastRun){this.set_fastrun(true);this.set_dribbleState(1)}p=(p&&Actor.s_ball_state==0);if(n){CPlayer.s_extraRun=false;this.m_nextDir=this.m_preDir;if(this.m_isFocus){CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_preDir}n=CPlayer.s_doDirectTurn;this.getBall();if(CPlayer.dirIn3(this.m_dirToBall+4&7,this.m_nextDir)&&((this.m_myTeam.m_type==1&&this!=CPlayer.s_legendPlayer)||((this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)&&n))&&CPlayer.s_ballLastOwner!=this){var g=Actor.s_football;if(Actor.s_ball_state==0){this.set_currDir(this.m_nextDir);this.loseBall();this.setBallReceiver();this.m_param3=7;this.set_nextState(1);return}}if(p&&this.m_isFocus){this.set_nextDir(this.m_currDir);this.m_waitEndsTick=0;CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_currDir;this.m_param3=3;this.m_destReached=false;this.doRun()}else{if(this.m_fast2Fast){this.m_nextDir=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)}this.doTurn();this.set_nextState(0);if(this.m_isFocus){}}}else{if(p&&(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)){this.getBall();this.set_nextDir(this.m_currDir);this.m_waitEndsTick=0;CPlayer.s_lastInputDir[this.m_whichPlayer]=this.m_currDir;this.m_param3=3;this.m_destReached=false;this.doRun()}else{var v=Actor.s_football;Label_2074:{if(Actor.s_ball_state!=10){var u=Actor.s_football;if(Actor.s_ball_state!=1){break Label_2074}}var r=Actor.s_football;if(!Actor.s_ballDestReached){this.set_directDir(4+CPlayer.dirTo(Actor.s_football.m_vX,Actor.s_football.m_vY)&7)}}if(CPlayer.s_ballLastOwner!=this&&Actor.s_football.m_posZ>10240){var q=Actor.s_football;if(Actor.s_ball_state!=4){var o=Actor.s_football;if(Actor.s_ball_state!=2){var m=Actor.s_football;if(Actor.s_ball_state!=5){this.doTrapStyle3High();return}}}}this.doTrapStyle3Low()}}},doTrapStyle3High:function(){if(this.m_isFocus){}this.doStand();var a=false;if(Actor.s_football.m_vZ<0&&this.m_Number!=0){this.setBehavior(150);a=true}else{this.setBehavior(10)}this.getBall();if(a){if(this.m_myTeam.m_type==0){this.setFocus()}this.set_currState(14);CPlayer.parseVector_dup_II(2560,this.m_currDir);Actor.s_football.m_posX=this.m_posX;Actor.s_football.m_posY=this.m_posY+((CPlayer.s_vectorY>0)?1:((CPlayer.s_vectorY<0)?-1:0));Actor.s_football.m_posZ=14080;Actor.setBallOutTo(4,this.m_posX+CPlayer.s_vectorX,this.m_posY+CPlayer.s_vectorY,0,-1,-1)}else{CPlayer.parseVector_dup_II(1536,this.m_currDir);Actor.s_football.m_posX=this.m_posX;Actor.s_football.m_posY=this.m_posY+((CPlayer.s_vectorY>0)?1:((CPlayer.s_vectorY<0)?-1:0));Actor.setBallOutTo(5,this.m_posX+CPlayer.s_vectorX,this.m_posY+CPlayer.s_vectorY,0,-1,-1)}},doTrapStyle3Low:function(){if(CPlayer.s_ballFastOwner==null||this!=CPlayer.s_ballFastOwner){this.m_vX=0;this.m_vY=0}var a=gloft.casttoint(null);if(Actor.s_football.m_vX!=0||Actor.s_football.m_vY!=0){if(this.m_myTeam.m_type==1){if(java.lang.Math.abs(CPlayer.dirDifference(this.m_currDir,CPlayer.dirTo(Actor.s_football.m_vX,Actor.s_football.m_vY)))>=2){if(this.m_disToBall<1280&&Actor.s_ball_state==0){CPlayer.parseVector_dup_II(1280,this.m_currDir);Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY}else{if(Actor.s_ball_state==1||Actor.s_ball_state==10){if(this.m_isFocus){}this.doStand()}}this.setBehavior(29);a=6}else{if(this.posBehindMe(Actor.s_football.m_posX,Actor.s_football.m_posY)){this.setBehavior(30);a=6}else{a=2}}}else{if((((this.m_myTeam.m_leftSide&&this.m_currDir>0&&this.m_currDir<4)||(!this.m_myTeam.m_leftSide&&this.m_currDir>4))&&this.m_currState==1)||(CPlayer.s_ballFastOwner!=null&&this==CPlayer.s_ballFastOwner)){a=2}else{if(this.m_disToBall<1280&&Actor.s_ball_state==0){CPlayer.parseVector_dup_II(1280,this.m_currDir);Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY}else{if(Actor.s_ball_state==1||Actor.s_ball_state==10){if(this.m_isFocus){}this.doStand()}}this.setBehavior(29);a=6}}}else{a=2}CPlayer.parseVector_dup_II(1280,this.m_nextDir);this.getBall();Actor.setBallTurnTo(this.m_posX+CPlayer.s_vectorX+this.m_vX*a,this.m_posY+CPlayer.s_vectorY+this.m_vY*a,a)},doDirect:function(){var d=this.m_nextState;if(this.m_preState==2){if(this.m_myTeam.m_type==0){if(CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID){return false}if(this.m_preDir==-1){this.m_preDir=this.m_currDir}if(CTeam.s_potentialPlayer==null){this.selectPassPoint(this.m_preDir,0);this.pass(CPlayer.s_passPointX,CPlayer.s_passPointY,CPlayer.s_passPlayerNumber)}else{this.pass(CTeam.s_potentialPassPointX,CTeam.s_potentialPassPointY,CTeam.s_potentialPlayer.m_Number);if(cGame.fastDistance(CTeam.s_potentialPlayer.m_posX-this.m_param1,CTeam.s_potentialPlayer.m_posY-this.m_param2)<=1280){CTeam.s_potentialPlayer.doStand()}}}else{this.pass(this.m_preParam1,this.m_preParam2,-1)}this.set_nextState(d);this.doOutBall(2,true);return true}if(this.m_preState==3){if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){if(this.m_preDir==-1){this.m_preDir=this.m_currDir}Label_0305:{if(!this.selectPassPoint(this.m_preDir,2)){if(this.myPosInAcrossingZone()){this.selectCenterPassPoint()}else{if(!this.m_myTeam.m_leftSide){if(this.m_posX<CPlayer.ACCROSSING_ZONE_X<<8){break Label_0305}}else{if(this.m_posX>-CPlayer.ACCROSSING_ZONE_X<<8){break Label_0305}}var c=this.m_myTeam.m_leftSide?2:6;this.selectPassPoint(c,2)}}}this.longPass(CPlayer.s_passPointX,CPlayer.s_passPointY,5120)}else{this.longPass(this.m_preParam1,this.m_preParam2,5120)}this.set_nextState(d);this.doOutBall(3,true);return true}if(this.m_preState==4){var b=gloft.casttoint(CPlayer.SHOOT_MAX_HEIGHT*CPlayer.s_power/12);if(this.m_myTeam.m_rcvActionKind!=1){if(this.m_myTeam.m_rcvActionKind==0){var a=gloft.casttoint(this.getPlayerData(15)/10);b=cGame.CAGE_HIGH+cGame.random(5,10)-a<<8}else{var a=gloft.casttoint(this.getPlayerData(5)/10);b=cGame.CAGE_HIGH+cGame.random(7,13)-a<<8}}this.shoot(b);if(this.m_nextState==4){this.set_nextState(d);if(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner==this){CPlayer.s_fastRunShoot=true}this.doOutBall(4,true)}else{this.set_nextState(d);this.doOutBall(3,true)}return true}if(Actor.s_ball_state==1||Actor.s_ball_state==10){this.m_ballReceiverParam=Actor.s_football.m_posZ}return false},persistSpecialDirect:function(){if(Actor.s_ball_state!=0||CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID||this.m_currState!=4||this.m_behavior!=15){if(CPlayer.s_ballLastOwner==this||CPlayer.s_ballOwner!=null||!this.m_myTeam.m_rcvUseNewPointingSystem){return}}var d=GLLibPlayer.new_ctor_dup_ASpriteII(this.m_animationPlayer.GetSprite(),this.m_X,this.m_Y);d.SetAnim_dup_II(this.m_actionIDNow,-1);d.SetFrame(this.m_frameIDNow);var a=d.GetDuration();var c=(this.m_behavior==15)?2:1;if(((a>1&&this.m_frameIDNow==c-1&&this.m_frameDuration==a-1)||(this.m_frameDuration==1&&this.m_frameIDNow==c))&&this.m_disToBall<5120){this.getBall();this.loseBall();var e=(this.m_behavior==15)?5120:10752;if(Actor.s_ball_state==0){e=256}CPlayer.parseVector_dup_II(3072,this.m_currDir);Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY;Actor.s_football.m_posZ=e;if(this.m_currState==2){if((this.m_starAbility&8)!=0){Actor.s_ballOutPower=60}Actor.setBallOutTo(0,this.m_outBallParam1,this.m_outBallParam2,0,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime;if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}else{if(this.m_currState==3){Actor.setBallOutTo(1,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime;if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}else{if(this.m_currState==4){if(CPlayer.s_ballLastOwner.m_myTeam.m_type==0||CPlayer.s_ballLastOwner==CPlayer.s_legendPlayer){if(this.m_behavior==15){cGame.setSupport(true,this.m_myTeam.m_ID,4)}else{cGame.setSupport(true,this.m_myTeam.m_ID,7)}}Actor.s_ballOutPower=this.m_curAbilityPow;Actor.setBallOutTo(2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,0);++this.m_shootTime;if(this.isShootOnTarget()){cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,1);++this.m_shootOnTargetTime}if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_shoot_01+Math.floor((Math.random()*3)))}}}}var b=CPlayer.findNearestToBallInTeam_dup_IZ(1-this.m_myTeam.m_ID,false);if(b!=null&&(b.m_currState==0||b.m_currState==1)&&cGame.fastDistance(this.m_posX-b.m_posX,this.m_posY-b.m_posY)<8192){b.doFakeAction(3)}this.m_myTeam.m_rcvUseNewPointingSystem=false}},doOutBall:function(g,a){cGame.s_potentialPlayerNum=-100;cGame.s_touchTimes=0;if(!a){if(!this.m_withBall){this.set_nextState(0);if(this.m_isFocus){}return}if(CTeam.s_matchState!=0){if(this.m_disToBall>1280){CPlayer.parseVector_dup_III(this.m_speed,Actor.s_football.m_posX-this.m_posX,Actor.s_football.m_posY-this.m_posY);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.m_destChanged=false;this.setBehavior(1);return}this.m_vX=0;this.m_vY=0;this.m_destChanged=false}}var n=Actor.s_football.m_posZ-Actor.s_football.m_vZ;Label_2352:{if(Actor.s_ball_heldbyplayer&&CTeam.s_matchState==3&&CTeam.s_kickPlayer==this){this.set_currState(g);this.m_outBallParam1=this.m_param1;this.m_outBallParam2=this.m_param2;this.m_outBallParam3=this.m_param3;this.set_currDir(CPlayer.dirTo(this.m_outBallParam1-this.m_posX,this.m_outBallParam2-this.m_posY));this.setBehavior(46)}else{if(a||n<=10240){cGame.s_isHeadScore=false;cGame.s_isDivingHead=false;Label_0483:{if(g!=4||a||!CPlayer.dirIn3(this.m_currDir,CPlayer.dirTo(this.m_outBallParam1-this.m_posX,this.m_outBallParam2-this.m_posY))){Label_0455:{if(a&&!this.m_destReached&&(Actor.s_ball_state==10||Actor.s_ball_state==1)){if(this.m_myTeam.m_rcvUseNewPointingSystem){if(this.m_myTeam.m_rcvActionKind!=0){break Label_0455}}else{if(!this.ballOverMeOn(6)||Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6-2]<=10240){break Label_0455}}var l=cGame.fastDistance(this.m_myTeam.m_rcvBallGoAndKickX-this.m_posX,this.m_myTeam.m_rcvBallGoAndKickY-this.m_posY);CPlayer.parseVector_dup_III(l,this.m_myTeam.m_rcvBallGoAndKickX-this.m_posX,this.m_myTeam.m_rcvBallGoAndKickY-this.m_posY);this.m_vX=gloft.casttoint(CPlayer.s_vectorX/6);this.m_vY=gloft.casttoint(CPlayer.s_vectorY/6);this.m_aX=gloft.casttoint(-this.m_vX/6);this.m_aY=gloft.casttoint(-this.m_vY/6);break Label_0483}}var q=false;this.m_vY=(q?1:0);this.m_vX=(q?1:0)}else{if(g==4){var h=false;this.m_vY=(h?1:0);this.m_vX=(h?1:0)}}}this.set_currState(g);if(this.m_myTeam.m_type==1&&cGame.s_matchMode==11){this.m_outBallParam1=-67584;this.m_outBallParam2=-43136;this.m_outBallParam3=36928;this.m_outBallParam4=Actor.s_football.m_posZ}else{this.m_outBallParam1=this.m_param1;this.m_outBallParam2=this.m_param2;this.m_outBallParam3=this.m_param3;this.m_outBallParam4=Actor.s_football.m_posZ}if(a&&this.m_myTeam.m_specialDirectType!=0){if(Actor.s_ball_state!=0){this.set_currDir(CPlayer.dirTo(this.m_myTeam.m_rcvBallGoAndKickX-this.m_posX,this.m_myTeam.m_rcvBallGoAndKickY-this.m_posY))}this.set_nextDir(this.m_currDir);if(this.posBehindMe(this.m_outBallParam1,this.m_outBallParam2)){if(g==2){this.selectPassPoint(this.m_currDir,0);this.pass(CPlayer.s_passPointX,CPlayer.s_passPointY,CPlayer.s_passPlayerNumber)}else{this.selectPassPoint(this.m_currDir,1);this.longPass(CPlayer.s_passPointX,CPlayer.s_passPointY,5120)}this.m_outBallParam1=this.m_param1;this.m_outBallParam2=this.m_param2;this.m_outBallParam3=this.m_param3}if(cGame.fastDistance(this.m_outBallParam1-this.m_posX,this.m_outBallParam2-this.m_posY)>30720){CPlayer.parseVector_dup_III(1920,this.m_outBallParam1-this.m_posX,this.m_outBallParam2-this.m_posY);this.m_outBallParam1=this.m_posX+(CPlayer.s_vectorX<<4);this.m_outBallParam2=this.m_posY+(CPlayer.s_vectorY<<4)}var k=gloft.casttoint(null);var j=gloft.casttoint(null);var m=gloft.casttoint(null);if(this.m_myTeam.m_specialDirectType==1){var s=this.m_myTeam.m_rcvBallGoAndKickX;var r=this.m_myTeam.m_rcvBallGoAndKickY;k=s-this.m_myTeam.m_rcvGoAndKickX;j=r-this.m_myTeam.m_rcvGoAndKickY;if(Actor.s_ball_state==0){m=1066}else{m=gloft.casttoint(cGame.fastDistance(k,j)/6)}this.setBehavior(15)}else{var s=this.m_myTeam.m_rcvBallGoAndKickX;var r=this.m_myTeam.m_rcvBallGoAndKickY;k=s-this.m_myTeam.m_rcvGoAndKickX;j=r-this.m_myTeam.m_rcvGoAndKickY;m=gloft.casttoint(cGame.fastDistance(k,j)/3);this.setBehavior(50);cGame.s_isDivingHead=(g==4);if(a){this.getBall()}}if(m>this.m_speedFast){m=this.m_speedFast}CPlayer.parseVector_dup_III(m,k,j);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;if(CPlayer.dirIn3(CPlayer.dirTo(this.m_vX,this.m_vY),this.m_currDir+4&7)){CPlayer.parseVector_dup_II(m,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY}this.m_aX=gloft.casttoint(-this.m_vX/5);this.m_aY=gloft.casttoint(-this.m_vY/5);this.m_myTeam.m_specialDirectType=0;if(this.m_myTeam.m_ID==1&&this.m_myTeam.isInOpForbidden(this.m_posX,this.m_posY)&&!this.m_isFocus&&CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_preState==4){if(cGame.fastDistance(this.m_posX-CPlayer.s_focusPlayer.m_posX,this.m_posY-CPlayer.s_focusPlayer.m_posY)<8192){CPlayer.s_focusPlayer.doFakeAction(3)}else{CPlayer.s_focusPlayer.doFakeAction(6)}GLLib.Dbg("focus do fake action!")}}else{Label_1473:{if(a&&(Actor.s_ball_state==1||Actor.s_ball_state==10)){if(this.m_myTeam.m_rcvUseNewPointingSystem){if(this.m_myTeam.m_rcvActionKind!=0){break Label_1473}}else{if(!this.ballOverMeOn(6)||Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6-2]<=20480){break Label_1473}}this.getBall();var f=this.m_outBallParam1-this.m_posX;var i=this.m_outBallParam2-this.m_posY;this.set_directDir(CPlayer.dirTo(f,i));var o=25600;if(g==2){o=49152}if(cGame.fastDistance(f,i)>o){CPlayer.parseVector_dup_III(o>>4,f,i);this.m_outBallParam1=this.m_posX+(CPlayer.s_vectorX<<4);this.m_outBallParam2=this.m_posY+(CPlayer.s_vectorY<<4)}this.setBehavior(13);cGame.s_isHeadScore=(g==4);var d=CPlayer.findNearestToBallInTeam_dup_IZ(1-this.m_myTeam.m_ID,false);if(d!=null&&(d.m_currState==0||d.m_currState==1)&&cGame.fastDistance(this.m_posX-d.m_posX,this.m_posY-d.m_posY)<8192){d.doFakeHead(this.m_currDir)}break Label_2352}}Label_1817:{if(a&&(Actor.s_ball_state==1||Actor.s_ball_state==10)&&(g==4||(g==2&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)))){if(this.m_myTeam.m_rcvUseNewPointingSystem){if(this.m_myTeam.m_rcvActionKind!=4){break Label_1817}}else{if(!this.ballOverMeOn(6)||Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame+6-2]<=17920){break Label_1817}}this.getBall();var f=this.m_outBallParam1-this.m_posX;var i=this.m_outBallParam2-this.m_posY;switch(CPlayer.dirTo(-f,-i)){case 1:case 2:this.set_directDir(2);break;case 3:case 4:this.set_directDir(4);break;case 5:case 6:this.set_directDir(6);break;case 0:case 7:this.set_directDir(0);break}if(cGame.fastDistance(f,i)>25600){CPlayer.parseVector_dup_III(1600,f,i);this.m_outBallParam1=this.m_posX+(CPlayer.s_vectorX<<4);this.m_outBallParam2=this.m_posY+(CPlayer.s_vectorY<<4)}this.setBehavior(47);var e=CPlayer.findNearestToBallInTeam_dup_IZ(1-this.m_myTeam.m_ID,false);if(e!=null&&(e.m_currState==0||e.m_currState==1)&&cGame.fastDistance(this.m_posX-e.m_posX,this.m_posY-e.m_posY)<8192){e.doFakeHead(this.m_currDir)}break Label_2352}}if(a){this.getBall()}var c=g==3&&CPlayer.s_power==12&&this.myPosInAcrossingZone();var p=g==3&&CPlayer.s_power!=12&&this.myPosInAcrossingZone()&&cGame.random(0,2)>1&&this.m_isFastRun;switch(CPlayer.dirDifference(this.m_currDir,CPlayer.dirTo(this.m_outBallParam1-this.m_posX,this.m_outBallParam2-this.m_posY))){case -1:case 0:case 1:if(g==2){this.setBehavior(11);break}if(g==3){this.setBehavior(12);break}if(g==4){this.setBehavior(18);break}break;case 2:case 3:if(g==4||c){this.setBehavior(26)}else{if(p){this.setBehavior(112)}else{if(g==2){this.setBehavior(20)}else{if(g==3){this.setBehavior(152)}}}}this.set_currDir(this.m_currDir+2&7);break;case -3:case -2:if(g==4||c){this.setBehavior(25)}else{if(p){this.setBehavior(111)}else{if(g==2){this.setBehavior(19)}else{if(g==3){this.setBehavior(151)}}}}this.set_currDir(this.m_currDir-2&7);break;case 4:if(g==4||c){this.setBehavior(28)}else{if(g==2||g==3){this.setBehavior(22)}}this.set_currDir(this.m_nextDir);break}if(this.m_myTeam.m_ID==1&&this.m_myTeam.isInOpForbidden(this.m_posX,this.m_posY)&&!this.m_isFocus&&CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_preState==4){if(cGame.fastDistance(this.m_posX-CPlayer.s_focusPlayer.m_posX,this.m_posY-CPlayer.s_focusPlayer.m_posY)<8192){CPlayer.s_focusPlayer.doFakeAction(3)}else{CPlayer.s_focusPlayer.doFakeAction(6)}GLLib.Dbg("focus do fake action!")}}}else{CPlayer.parseVector_dup_III(this.m_speedMove,Actor.s_football.m_vX,Actor.s_football.m_vY);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;this.setBehavior(24)}}}this.set_nextDir(this.m_currDir);if(g==2&&this.m_outBallParam3>=0&&this.m_outBallParam3<11&&this.m_myTeam.m_players[this.m_outBallParam3].m_currState==1&&cGame.fastDistance(this.m_myTeam.m_players[this.m_outBallParam3].m_posX-this.m_outBallParam1,this.m_myTeam.m_players[this.m_outBallParam3].m_posY-this.m_outBallParam2)<=1280){this.m_myTeam.m_players[this.m_outBallParam3].doStand()}},nextFrame:function(){var a=this.getKeyFrameCounter(this.getKeyFrameID());var b=this.getCurFrameCounter();var c=-1;if(b+Actor._frameInc>a&&b<a){c=Actor._frameInc;Actor._frameInc=a-b}if(this.m_Number==0&&CPlayer.s_saveMin>=-1){c=Actor._frameInc;Actor._frameInc=1}Actor.prototype.nextFrame.call(this);if(c!=-1){Actor._frameInc=c}},getKeyFrameID:function(){var a=1;switch(this.m_behavior){case 11:if((this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)&&CPlayer.s_power>=3){a=1;break}if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=this){a=1;break}break;case 18:if(this.m_outBallParam3>0){a=2;break}a=1;break;case 12:a=2;break;case 13:a=2;break;case 47:a=2;break;case 28:a=2;break;case 25:case 26:a=1;break;case 109:a=5;break;case 110:a=3;break;case 124:a=3;break;case 46:a=3;break;case 15:a=2;break;case 50:a=1;break;case 21:case 22:a=2;break;case 19:case 20:a=2;break;case 151:case 152:a=3;break;case 111:case 112:a=3;break}return a},sendBallOutAtKeyFrame:function(){var e=this.getKeyFrameID();var d=cGame.fastDistance(Actor.s_football.m_lastPosX-this.m_posX,Actor.s_football.m_lastPosY-this.m_posY);if(this.m_currState==4&&(this.m_behavior==26||this.m_behavior==25)&&this.m_frameIDNow==e-1){var f=Actor.s_football;var k=Actor.s_football;var m=false;k.m_vY=(m?1:0);f.m_vX=(m?1:0)}else{if(this.m_disToBall>d){Actor.s_ball_state=7;var i=Actor.s_football;var g=Actor.s_football;var l=false;g.m_vY=(l?1:0);i.m_vX=(l?1:0);if(this.m_currState==4&&!this.m_myTeam.m_rcvUseNewPointingSystem){var a=this.m_currDir;if(this.m_behavior==19||this.m_behavior==21||this.m_behavior==25||this.m_behavior==111){a=(this.m_currDir+2&7)}else{if(this.m_behavior==20||this.m_behavior==22||this.m_behavior==26||this.m_behavior==112){a=(this.m_currDir-2&7)}else{if(this.m_behavior==27||this.m_behavior==28){a=(this.m_currDir-4&7)}}}CPlayer.parseVector_dup_II(2048,a);if(CTeam.s_matchState==0){Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY}}else{Actor.s_football.m_posX=Actor.s_football.m_lastPosX;Actor.s_football.m_posY=Actor.s_football.m_lastPosY;this.m_disToBall=d;this.m_dirToBall=CPlayer.dirTo(Actor.s_football.m_lastPosX-this.m_posX,Actor.s_football.m_lastPosY-this.m_posY)}}}if(this.m_behavior==13||this.m_behavior==47){d=((this.m_behavior==13)?20480:17920);if(this.m_frameIDNow<e){Actor.s_football.m_posZ=d+gloft.casttoint((this.m_outBallParam4-d)*(e+1-this.m_frameIDNow-this.m_frameDuration-1)/(e+1));if(this.m_disToBall<1280){CPlayer.parseVector_dup_II(1280,this.m_currDir);Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY}}else{CPlayer.parseVector_dup_II(1280,this.m_currDir);Actor.s_football.m_posZ=d;Actor.s_football.m_posX=this.m_posX+CPlayer.s_vectorX;Actor.s_football.m_posY=this.m_posY+CPlayer.s_vectorY}}else{if(this.m_disToBall>=1280||java.lang.Math.abs(CPlayer.dirDifference(this.m_currDir,this.m_dirToBall))<=1){}}var c=GLLibPlayer.new_ctor_dup_ASpriteII(this.m_animationPlayer.GetSprite(),this.m_X,this.m_Y);c.SetAnim_dup_II(this.m_actionIDNow,-1);c.SetFrame(this.m_frameIDNow);var h=c.GetDuration();if(this.m_frameIDNow==e){CPlayer.s_power=0;if((this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer)&&this.m_opTeam.m_rcvUseNewPointingSystem){cGame.setSupport(true,this.m_myTeam.m_ID,12)}if(CTeam.s_matchState!=0&&CTeam.s_period>4){CTeam.s_matchState=0;CTeam.s_kickOffPlayerID=-1;CTeam.s_placementByCPU=false;if(cGame.s_isPenaltyMode||cGame.s_whichHalf==5){if(CTeam.s_kickTeam.m_leftSide){cGame.setSpecialCamera_dup_ZIIII(false,cGame.RIGHT_PENALTY_CARMER_X,cGame.RIGHT_PENALTY_CARMER_Y,18,-1)}else{cGame.setSpecialCamera_dup_ZIIII(false,cGame.LEFT_PENALTY_CARMER_X,cGame.LEFT_PENALTY_CARMER_Y,18,-1)}}else{cGame.setNormalCamera(true)}}if(Actor.s_ball_heldbyplayer&&CTeam.s_kickPlayer==this){this.loseBall();Actor.s_ball_heldbyplayer=false;Actor.s_football.m_posY=cGame.limit(Actor.s_football.m_posY,-86271,86271);Actor.s_football.m_posZ=20480;if(this.m_currState==3){Actor.setBallOutTo(0,this.m_outBallParam1,this.m_outBallParam2,0,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime}}else{if(this.m_behavior==13){var j=false;this.m_vY=(j?1:0);this.m_vX=(j?1:0);this.loseBall();if(this.m_currState==2||this.m_currState==3){Actor.setBallOutTo(0,this.m_outBallParam1,this.m_outBallParam2,0,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime;if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}else{if(this.m_currState==4){if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){cGame.setSupport(true,this.m_myTeam.m_ID,5)}Actor.s_ballOutPower=this.m_curAbilitySht;Actor.setBallOutTo(2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,0);++this.m_shootTime;if(this.isShootOnTarget()){++this.m_shootOnTargetTime;cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,1)}if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_shoot_01+Math.floor((Math.random()*3)))}}}}else{this.loseBall();if(this.m_currState==2){if((this.m_starAbility&8)!=0){Actor.s_ballOutPower=60}Actor.setBallOutTo(0,this.m_outBallParam1,this.m_outBallParam2,0,-1,-1);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime;if((CPlayer.s_ballLastOwner.m_myTeam.m_type!=0&&CPlayer.s_ballLastOwner!=CPlayer.s_legendPlayer)||CPlayer.s_power>=3){}if(this.m_behavior!=124&&cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}else{if(this.m_currState==3){cGame.s_camera4Cross=false;if((this.m_myTeam.m_leftSide?(-this.m_posX):this.m_posX)<-cGame.FORBIDDEN_ZONE_LEFT<<8&&(this.m_posY<cGame.FORBIDDEN_ZONE_TOP<<8||this.m_posY>cGame.FORBIDDEN_ZONE_BOTTOM<<8)){cGame.s_camera4Cross=true}Label_1486:{if(this.m_Number==0){if(this.m_behavior==110){Actor.setBallOutTo(10,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}else{CPlayer.s_bGKKickout=true;Actor.setBallOutTo(1,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}CPlayer.s_bGKKickout=false}else{if(this.m_idea==4){this.m_idea=-1;Actor.setBallOutTo(1,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}else{Label_1420:{if(!this.m_myTeam.m_leftSide){if(this.m_posX<CPlayer.ACCROSSING_ZONE_X<<8){break Label_1420}}else{if(this.m_posX>-CPlayer.ACCROSSING_ZONE_X<<8){break Label_1420}}Actor.setBallOutTo(1,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1);break Label_1486}if(CPlayer.s_power==12&&this.myPosInAcrossingZone()){Actor.setBallOutTo(Actor.s_ballOutPower=2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}else{Actor.s_ballOutPower=this.m_curAbilityPow;Actor.setBallOutTo(10,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}}}}cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,10);++this.m_passTime;if(this.m_behavior!=110&&this.m_behavior!=124&&this.m_behavior!=46&&cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}else{if(this.m_currState==4){if(cGame.s_aiMode==6){CTeam.s_isTutorialShoot=true}this.addFatigue(1);if((CPlayer.s_ballLastOwner.m_myTeam.m_type==0||CPlayer.s_ballLastOwner==CPlayer.s_legendPlayer)&&cGame.s_whichHalf!=5){if(this.m_behavior==47){cGame.setSupport(true,this.m_myTeam.m_ID,6)}else{if((this.m_starAbility&4)!=0&&CPlayer.s_power>=6){cGame.setSupport(true,this.m_myTeam.m_ID,2)}else{if((this.m_starAbility&2)!=0&&this.m_outBallParam3>0){cGame.setSupport(true,this.m_myTeam.m_ID,3)}else{if(CPlayer.s_power<6){cGame.setSupport(true,this.m_myTeam.m_ID,0)}else{if(this.m_myTeam.m_rcvUseNewPointingSystem){cGame.setSupport(true,this.m_myTeam.m_ID,4)}else{cGame.setSupport(true,this.m_myTeam.m_ID,1)}}}}}}Actor.s_ballOutPower=this.m_curAbilitySht;if((this.m_starAbility&4)!=0&&((this.m_myTeam.m_type==0&&CPlayer.s_power>=6)||(this.m_myTeam.m_type==1&&cGame.random(0,1)==0))){if((this.m_starAbility&2)!=0&&this.m_outBallParam3>0&&cGame.random(0,2)==0){Actor.setBallOutTo(2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,150,0)}else{Actor.setBallOutTo(9,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}}else{if((this.m_starAbility&2)!=0&&this.m_outBallParam3>0&&cGame.random(0,1)==0){Actor.setBallOutTo(2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,150,0)}else{Actor.setBallOutTo(2,this.m_outBallParam1,this.m_outBallParam2,this.m_outBallParam3,-1,-1)}}cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,Actor.s_football.m_posZ);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,0);++this.m_shootTime;if(this.isShootOnTarget()){++this.m_shootOnTargetTime;cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,1)}if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_shoot_01+Math.floor((Math.random()*3)))}}}}}}this.m_myTeam.m_rcvUseNewPointingSystem=((Actor.s_ball_state==10||Actor.s_ball_state==1)&&Actor.s_ballOutDistance>=30720&&(this.m_Number!=0||this.m_myTeam.PosToGrid(Actor.s_football.m_destX)>-4));this.m_opTeam.m_rcvUseNewPointingSystem=this.m_myTeam.m_rcvUseNewPointingSystem;CTeam.s_rcvUseNewPointingSystemTeamID=this.m_myTeam.m_ID;Actor.s_ballOutDistance=0;if(CTeam.s_matchState!=0){cGame.setSupport(false,this.m_myTeam.m_ID,-1)}}},getCanTackleDis:function(){var a=gloft.casttoint(null);if(this.m_myTeam.m_type==0){if(cGame.s_matchDifficult>2){a=5}else{a=3}}else{if(cGame.s_matchDifficult==0){a=2}else{if(cGame.s_matchDifficult==1){a=2}else{if(cGame.s_matchDifficult==2){a=4}else{if(cGame.s_matchDifficult==3){a=4}else{if(cGame.s_matchDifficult==4){a=5}else{a=5}}}}}}if(!this.tackleInArea()){a=2}return a<<8},tackleInArea:function(){var b=null;if(CPlayer.s_ballOwner!=null){b=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){b=CPlayer.s_ballFastOwner}}var a=gloft.casttoboolean(null);if(this.m_myTeam.m_type==0){a=(cGame.s_matchDifficult>2||b.m_gridX>-2)}else{if(cGame.s_matchDifficult==0){a=(b.m_gridX>2)}else{if(cGame.s_matchDifficult==1){a=(b.m_gridX>-2)}else{if(cGame.s_matchDifficult==2){a=(b.m_gridX>-8)}else{if(cGame.s_matchDifficult==3){a=(b.m_gridX>-8)}else{a=(cGame.s_matchDifficult!=4||true)}}}}}return a},getControlWithoutPressTime:function(){if(this.m_myTeam.m_type==1){return cGame.getParamByAllDifficult(cGame.s_game_diffcult_for_tackle_easy,cGame.s_game_diffcult_for_tackle_normal,cGame.s_game_diffcult_for_tackle_hard,cGame.s_game_diffcult_for_tackle_hard1,cGame.s_game_diffcult_for_tackle_hard2,cGame.s_game_diffcult_for_tackle_hell)}return cGame.getParamByAllDifficult(cGame.s_game_diffcult_for_tackle_hard,cGame.s_game_diffcult_for_tackle_hard,cGame.s_game_diffcult_for_tackle_hard,cGame.s_game_diffcult_for_tackle_hell,cGame.s_game_diffcult_for_tackle_hell,cGame.s_game_diffcult_for_tackle_hell)},canTackle:function(){if(CTeam.s_matchState==0&&CPlayer.s_ballOwner!=null&&Actor.s_ball_state!=3&&(this.m_disToBall<this.getCanTackleDis()+2048||(this.m_Number==0&&this.m_disToBall<7680)||cGame.fastDistance(this.m_posX-CPlayer.s_ballOwner.m_posX,this.m_posY-CPlayer.s_ballOwner.m_posY)<2048)&&CPlayer.s_ballOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID&&(CPlayer.s_ballOwner.m_Number!=0||(CPlayer.s_ballOwner.m_currState!=8&&CPlayer.s_ballOwner.m_currState!=7&&CPlayer.s_ballOwner.m_currState!=14&&CPlayer.s_ballOwner.m_currState!=5))){if(cGame.s_aiMode==3){}if(cGame.s_aiMode==9||(CPlayer.s_ctrWithBall>this.getControlWithoutPressTime()&&!CPlayer.s_ballOwner.posBehindMe(this.m_posX,this.m_posY))){return this.m_myTeam.m_type!=1||CPlayer.s_ballOwner.m_currState!=0||cGame.random(0,1)<=0||true}}return false},doTackle:function(){if(this.m_isFocus&&!cGame.getTutorialComplete(8)){cGame.setTutorialComplete(8,true)}if(CPlayer.s_ballOwner==null||CPlayer.s_ballOwner.m_myTeam.m_ID==this.m_myTeam.m_ID||(CPlayer.s_ballOwner.m_Number==0&&CPlayer.s_ballOwner.m_currState==7)){this.set_nextState(0);if(this.m_isFocus){}return}if(this.m_Number==0&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){this.set_currDir(this.m_dirToBall);this.set_nextDir(this.m_currDir);this.doSaveBall(true);CPlayer.s_saveMin=-2}else{var a=false;this.set_currDir(this.m_dirToBall);this.set_nextDir(this.m_currDir);this.setBehavior(14);this.m_vX=0;this.m_vY=0;a=true;cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,11);++this.m_tackleTime;this.set_currState(5);if(!a){CPlayer.s_tackleFail=true}this.addFatigue(1)}},persistTackle:function(){if(this.m_Number==0&&(CPlayer.s_ballOwner==null||CPlayer.s_ballOwner.m_myTeam.m_ID==this.m_myTeam.m_ID)){if(CPlayer.s_GKPickingUpBall&&this.m_disToBall<=1280){this.getBall();CPlayer.s_GKPickingUpBall=false}this.set_nextState(0);if(this.m_isFocus){}return}var a=gloft.casttoboolean(null);if(this.m_Number==0&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){if(this.m_behavior==104||this.m_behavior==103){var e=(this.m_actionIDNow-11+1<<1)+1;if(this.m_flipX&&(e==3||e==7)){e^=4}if(this.m_dirToBall==e||this.m_dirToBall==(e+4&7)){a=(this.m_disToBall<=4608)}else{a=(this.m_disToBall<=2304+(7-this.m_curAbilityRush<<8))}}else{a=(this.m_disToBall<=4608)}}else{this.set_currDir(this.m_dirToBall);a=(CPlayer.s_ballOwner!=null&&this.m_disToBall<=this.getTackleDistance()&&Actor.s_football.m_posZ<=16640);if(CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_Number==0){a=false}var i=-1;if(CPlayer.s_ballOwner!=null){i=CPlayer.dirTo(this.m_posX-CPlayer.s_ballOwner.m_posX,this.m_posY-CPlayer.s_ballOwner.m_posY)}else{if(CPlayer.s_ballFastOwner!=null){i=CPlayer.dirTo(this.m_posX-Actor.s_football.m_posX,this.m_posY-Actor.s_football.m_posY)}}if((a&&CTeam.s_newtutorialStep!=37)||(CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_currState==0)||cGame.s_aiMode==6){a=false;var f=0;if(i==2){f=5}else{if(i==1||i==3){f=15}else{f=20}}if(this.m_def>this.m_dribble){f-=10}if(CPlayer.s_ballOwner.m_character==1||(CPlayer.s_ballOwner.m_starAbility&16)!=0){f+=5}if((this.m_starAbility&32)!=0){f-=10}if(this.m_fatigue>900){f+=7}else{if(this.m_fatigue>700){f+=5}else{if(this.m_fatigue>600){f+=3}}}if(this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){f>>=1}if(cGame.s_aiMode==9){f+=70}var b=cGame.random(0,99);GLLib.Dbg("probability: "+f+" rnd: "+b);var h=b<f;var d=0;if(h&&cGame.s_aiMode!=6){if(cGame.s_aiMode!=9){CPlayer.s_ballOwner.m_vX=0;CPlayer.s_ballOwner.m_vY=0;var c=cGame.random(0,99);if(cGame.s_weather==2){c+=10}else{if(cGame.s_weather==1){c+=5}}if(i==2){CPlayer.s_ballOwner.setBehavior(16);d=12}else{if(i==1||i==3){if(c<80){CPlayer.s_ballOwner.setBehavior(16);d=12}else{CPlayer.s_ballOwner.setBehavior(17);d=40;if(cGame.random(0,99)<5){this.doInjure()}}}else{if(c<50){CPlayer.s_ballOwner.setBehavior(16);d=12}else{CPlayer.s_ballOwner.setBehavior(17);d=40;if(cGame.random(0,99)<5){this.doInjure()}}}}f=cGame.random(0,99);if(f<10){this.doFoul(1)}else{if(f<15&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){this.doFoul(2)}else{this.doFoul(0)}}}}else{var c=cGame.random(0,99);if(cGame.s_weather==2){c+=10}else{if(cGame.s_weather==1){c+=5}}if(i==2){CPlayer.s_ballOwner.setBehavior(16);d=12}else{if(i==1||i==3){if(cGame.random(0,99)<50){CPlayer.s_ballOwner.setBehavior(16);d=12}}else{if(c<50){CPlayer.s_ballOwner.setBehavior(16);d=12}else{CPlayer.s_ballOwner.setBehavior(17);d=40}}}d+=(this.m_reaction>>1)*4+4;if(CPlayer.s_ballOwner.m_myTeam.m_type==1&&CPlayer.s_ballOwner.m_reaction<<1>d){d=CPlayer.s_ballOwner.m_reaction}if(cGame.s_matchDifficult==5){d+=6}CPlayer.s_ballOwner.doFool(d);CPlayer.s_ballOwner.loseBall();var g=null;this.getBall();this.loseBall();CPlayer.parseVector_dup_II(5120,this.m_nextDir);Actor.setBallOutTo(5,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0,-1,-1);GLLib.ResetAKey(11);CPlayer.s_ballTackledOutBy=this;if(CTeam.s_matchState==0){this.m_idea=1}if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()))}}}}if(a&&this.m_currState==7){this.getBall();if(java.lang.Math.abs(CPlayer.dirDifference(this.m_currDir,CPlayer.s_ballLastOwner.m_currDir))<=1&&cGame.random(0,9)<2){this.doFoul(0)}}},getTackleDistance:function(){var a=13;if(this.m_def>CPlayer.s_ballOwner.m_dribble){++a}else{if(CPlayer.s_ballOwner.m_dribble>this.m_def){--a}}if(CPlayer.s_ballOwner.m_character==1||(CPlayer.s_ballOwner.m_starAbility&16)!=0){--a}if((this.m_starAbility&32)!=0){++a}return a<<8},goodTackleOrGoodDribble:function(){if(CTeam.s_matchState==0&&CPlayer.s_ballOwner==null&&CPlayer.s_ballLastOwner.m_Number==this.m_Number){if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){if(this.m_currState==5){cGame.setSupport(true,this.m_myTeam.m_ID,13)}else{cGame.setSupport(true,this.m_myTeam.m_ID,14)}}this.m_myTeam.addMorale(10);this.m_opTeam.deMorale(5)}},doSlideTackle:function(){if(this.m_isFocus&&!cGame.getTutorialComplete(9)){cGame.setTutorialComplete(9,true)}if(this.m_myTeam.m_type!=0||CPlayer.s_ballFastOwner==null||CPlayer.s_ballFastOwner.m_myTeam.m_ID==this.m_myTeam.m_ID){if(CPlayer.s_ballOwner==null||CPlayer.s_ballOwner.m_myTeam.m_ID==this.m_myTeam.m_ID||this.m_behavior==15||this.m_behavior==90){this.set_nextState(0);if(this.m_isFocus){}return}}if(cGame.s_matchDifficult==0&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_myTeam.m_type==0&&((CPlayer.s_ballOwner.m_myTeam.m_leftSide&&CPlayer.s_ballOwner.m_posX<0)||(!CPlayer.s_ballOwner.m_myTeam.m_leftSide&&CPlayer.s_ballOwner.m_posX>0))){this.set_nextState(0);return}var a=768;if(cGame.s_weather!=0){a=gloft.casttoint(a*3/2)}this.set_currDir(this.m_dirToBall);CPlayer.parseVector_screen_dup_II(a,this.m_currDir);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;if(this.m_currState==0){this.m_vX>>=1;this.m_vY>>=1}this.m_aX=gloft.casttoint(-this.m_vX/12);this.m_aY=gloft.casttoint(-this.m_vY/12);CPlayer.s_chaseBallPercent=cGame.random(0,10);cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,11);++this.m_tackleTime;this.addFatigue(1);this.persistSlideTackle()},getTackleSuccPercent:function(){if(this.m_gridX>8){return 50}if(this.m_gridX>-9){return 75}return 100},getCanSlideTackleDistance:function(b){var a=0;if(b>=1&&b<=3){a=17}else{if(b==0||b==4){a=15}else{if(b==5||b==7){a=14}else{if(b==6){a=14}}}}return a<<8},persistSlideTackle:function(){this.updateSpeed();var l=null;if(CPlayer.s_ballOwner!=null){l=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){l=CPlayer.s_ballFastOwner}}if(l==null||l.m_myTeam.m_ID==this.m_myTeam.m_ID){this.set_nextState(0);if(this.m_isFocus){}return}var m=-1;if(CPlayer.s_ballOwner!=null){m=CPlayer.dirTo(this.m_posX-CPlayer.s_ballOwner.m_posX,this.m_posY-CPlayer.s_ballOwner.m_posY)}else{if(CPlayer.s_ballFastOwner!=null){m=CPlayer.dirTo(this.m_posX-Actor.s_football.m_posX,this.m_posY-Actor.s_football.m_posY)}}var j=CPlayer.s_chaseBallPercent;var e=CPlayer.s_ballOwner!=null&&(((CPlayer.s_ballOwner.m_starAbility&16)!=0&&j<4)||(CPlayer.s_ballOwner.m_dribble>80&&j<2))&&CPlayer.s_ballOwner.m_currState!=15&&this.m_disToBall<=4352&&CPlayer.s_ballOwner.m_Number!=0;var a=this.m_disToBall<=this.getCanSlideTackleDistance(m);var n=CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_Number==0&&this.m_disToBall<=4352;if(a&&e&&CPlayer.s_ballOwner!=null){Actor.s_ball_heldbyplayer=false;GLLib.Dbg("nextST:"+CPlayer.s_ballOwner.m_currState);CPlayer.s_ballOwner.set_nextState(CPlayer.s_ballOwner.m_currState);CPlayer.s_ballOwner.set_currState(15);CPlayer.parseVector_dup_II(CPlayer.s_ballOwner.m_speedWithBall,CPlayer.s_ballOwner.m_currDir);CPlayer.s_ballOwner.set_nextDir(CPlayer.s_ballOwner.m_currDir);CPlayer.s_ballOwner.m_vX=CPlayer.s_vectorX;CPlayer.s_ballOwner.m_vY=CPlayer.s_vectorY;CPlayer.s_ballOwner.setBehavior(119);if(CPlayer.s_ballOwner.m_myTeam.m_type==0||CPlayer.s_ballOwner==CPlayer.s_legendPlayer){cGame.setSupport(true,CPlayer.s_ballOwner.m_myTeam.m_ID,11)}}if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==38&&this.m_disToBall<=8704){a=true}if(a||n){this.setBehavior(90);this.set_currState(6);if(e){return}if(CPlayer.s_ballOwner==null){CPlayer.parseVector_dup_II(10240,this.m_currDir)}else{CPlayer.parseVector_dup_II(5120,this.m_currDir)}Actor.setBallOutTo(5,Actor.s_football.m_posX+CPlayer.s_vectorX+this.m_vX*6,Actor.s_football.m_posY+CPlayer.s_vectorY+this.m_vY*6,0,-1,-1);CPlayer.s_ballTackledOutBy=this;a=false;if(CPlayer.s_ballOwner==null){return}var c=cGame.random(0,9)<4;var d=gloft.casttoint(null);if(c){CPlayer.s_ballOwner.setBehavior(17);d=40}else{CPlayer.s_ballOwner.setBehavior(16);d=12}d+=(this.m_reaction>>1)*4+4;var h=CPlayer.s_ballOwner;h.m_vX>>=1;var f=CPlayer.s_ballOwner;f.m_vY>>=1;var k=null;var g=gloft.casttoint(null);if(this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){g=cGame.random(0,99)}else{g=cGame.random(0,109)}var i=cGame.random(0,99);if(CPlayer.s_ballOwner.m_Number==0&&n){this.doFoul(2)}var b=CPlayer.dirDifference(this.m_currDir,CPlayer.s_ballOwner.m_currDir);if(java.lang.Math.abs(b)>=3){if(c&&cGame.random(0,99)<10){this.doInjure()}if(g<15){if(i<5){this.doFoul(1)}else{this.doFoul(0)}}}else{if(java.lang.Math.abs(b)==2){if(g<35){if(c&&cGame.random(0,99)<10){this.doInjure()}if(i<10){this.doFoul(1)}else{this.doFoul(0)}}}else{if(java.lang.Math.abs(b)==1){if(g<65){if(c&&cGame.random(0,99)<10){this.doInjure()}if(i<10){this.doFoul(2)}else{if(i<70){this.doFoul(1)}else{this.doFoul(0)}}}}else{if(b==0&&g<80){if(c&&cGame.random(0,99)<10){this.doInjure()}if(i<15){this.doFoul(2)}else{if(i<75){this.doFoul(1)}else{this.doFoul(0)}}}}}}if(CPlayer.s_ballOwner.m_myTeam.m_type==1&&CPlayer.s_ballOwner.m_reaction<<1>d){d=CPlayer.s_ballOwner.m_reaction}CPlayer.s_ballOwner.doFool(d);CPlayer.s_ballOwner.loseBall();this.getBall();this.loseBall();if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_tackle_01+Math.round(Math.random()))}}else{if(this.m_actionOver){this.set_nextState(0);if(this.m_isFocus){}}}},doInjure:function(){if(cGame.s_matchMode!=11){if(((CPlayer.s_ballOwner.m_currState==0||CPlayer.s_ballOwner.m_currState==1)&&CPlayer.s_ballOwner.m_Number!=0)||(CPlayer.s_ballOwner.m_Number==0&&cGame.random(0,10)<3)){CTeam.s_injuredPlayer=CPlayer.s_ballOwner;cGame.s_radisRect=CTeam.s_injuredPlayer.m_Number;cGame.s_radisRect=0;cGame.s_radisRect=CTeam.s_injuredPlayer.m_myTeam.m_ID<<8;cGame.s_radisRect+=CTeam.s_injuredPlayer.m_Number}else{CTeam.s_injuredPlayer=null}}},selectPassPoint:function(y,t){var L=0;var w=0;var D=t==0||t==4||t==9||t==7;var r=gloft.casttoint(null);var s=gloft.casttoint(null);var l=gloft.casttoint(null);var J=gloft.casttoboolean(null);if(t==0){r=12288;s=49152;if(CTeam.s_matchState==3){s>>=1}l=25600;J=(this.m_tacState!=5&&this.m_tacState!=1)}else{if(t==9){r=12288;s=122880;l=25600;J=false}else{if(t==7){r=6144;s=24576;l=25600;J=false}else{if(t==8){r=6144;s=98304;l=25600;J=false}else{if(t==1){r=30720;s=122880;l=76800;J=false}else{if(t==2){l=10240*CPlayer.s_power;r=30720;s=122880;var v=0;var f=gloft.casttoint(null);var A=f=-1;var k=false;var x=false;for(var C=0;C<11;++C){if(C!=this.m_Number){if(C!=0){var g=this.m_myTeam.m_players[C];if(CPlayer.dirTo(g.m_posX-this.m_posX,g.m_posY-this.m_posY)==y){if(g.m_disToBall>l&&g.m_disToBall<s){s=g.m_disToBall;A=C;k=true}else{if(g.m_disToBall<l&&g.m_disToBall>r){r=g.m_disToBall;f=C;k=true}}}}}}if(!k){CPlayer.parseVector_dup_II(l,y);CPlayer.s_passPointX=Actor.s_football.m_posX+CPlayer.s_vectorX;CPlayer.s_passPointY=Actor.s_football.m_posY+CPlayer.s_vectorY;CPlayer.s_passPlayerNumber=-1;if(y!=0||this.m_gridY>=0){if(y!=4||this.m_gridY<=0){CPlayer.s_passPointX=cGame.limit(CPlayer.s_passPointX,-98304,98304);CPlayer.s_passPointY=cGame.limit(CPlayer.s_passPointY,-65536,65536)}}return false}var c=gloft.casttoint(null);if(s==122880){c=f;x=true}else{if(r==r){c=A}else{if(l>r+s>>1){c=A}else{c=f;x=true}}}CPlayer.s_passPointX=this.m_myTeam.m_players[c].m_posX;CPlayer.s_passPointY=this.m_myTeam.m_players[c].m_posY;CPlayer.s_passPointY=cGame.limit(CPlayer.s_passPointY,-65536,65536);CPlayer.s_passPlayerNumber=c;if(x&&this.m_myTeam.m_players[c].acceptLongPass()){CPlayer.s_passPointX+=(this.m_myTeam.m_leftSide?32768:-32768);CPlayer.s_passPointX=cGame.limit(CPlayer.s_passPointX,-98304,98304)}return true}else{if(t==5){r=10240*(CPlayer.s_power-2);s=r+30720;l=r+s>>1;if(r<30720){r=30720}if(s>122880){s=122880}J=false}else{if(t==3){CPlayer.parseVector_dup_II(122880,y);CPlayer.s_passPointX=Actor.s_football.m_posX+CPlayer.s_vectorX;CPlayer.s_passPointY=Actor.s_football.m_posY+CPlayer.s_vectorY;CPlayer.s_passPlayerNumber=-1;return false}if(t==4){r=6144;s=((CTeam.s_matchState==3)?49152:98304);l=25600;J=false}else{if(t!=6){return false}if(this.m_currState==8){r=76800;s=102400;l=89600}else{r=61440;s=122880;l=76800}J=false}}}}}}}}var F=0;var I=-1;var u=0;var H=0;var E=0;for(var B=1;B<11;++B){if(B!=this.m_Number){if((t==4||t==6)&&CPlayer.s_ballOwner!=null){if(CPlayer.s_ballOwner.m_Number==B){continue}if(B==0){continue}}if(CTeam.s_kickTeamID!=this.m_myTeam.m_ID||!CTeam.s_bHasFreeKickAssit||CTeam.s_freeKickAssit==null||CTeam.s_freeKickAssit.m_Number!=B){var G=this.m_myTeam.m_players[B];if(G.m_court==0){if(this.m_Number==0&&this.m_tacState==16){if(G.m_role!=1){continue}if(G.m_side!=1&&G.m_side!=4){continue}}for(var q=0;q<2;++q){var h=gloft.casttoint(null);var e=gloft.casttoint(null);var b=gloft.casttoint(null);var o=gloft.casttoint(null);if(q==0){h=G.m_posX;e=G.m_posY;if(t!=4&&t!=6){b=(G.m_dirToBall+4&7);o=G.m_disToBall}else{b=CPlayer.dirTo(h-this.m_posX,e-this.m_posY);o=cGame.fastDistance(h-this.m_posX,e-this.m_posY)}L=o;w=b}else{if(!J){continue}if(G.m_tacState!=3&&G.m_tacState!=2){continue}if(G.m_destX==0&&G.m_destY==0){continue}h=G.m_destX;e=G.m_destY;b=CPlayer.dirTo(h-Actor.s_football.m_posX,e-Actor.s_football.m_posY);o=cGame.fastDistance(h-Actor.s_football.m_posX,e-Actor.s_football.m_posY);if(java.lang.Math.abs(L-o)>8192){continue}}if(t==4||t==6){if(!CPlayer.dirIn3(b,y)){continue}}else{if(t==7||t==8){b=CPlayer.dirTo(G.m_screenX-Actor.s_football.m_screenX,G.m_screenY-Actor.s_football.m_screenY);b=(b+1&7);if(b!=y){continue}}else{if(b!=y){continue}}}if(t==5){if(u==0||o<u){}H=h;E=e;I=B;u=o}if(o>=r){if(o<=s){if(t==9){var p=true;for(var z=0;z<11;++z){var K=this.m_opTeam.m_players[z];if(K.m_court==0){var m=cGame.fastDistance(K.m_posX-G.m_posX,K.m_posY-G.m_posY);if(m<15360){p=false;break}}}if(!p){continue}}if(F==0||o<F){CPlayer.s_passPointX=h;CPlayer.s_passPointY=e;CPlayer.s_passPlayerNumber=B;F=o}}}}}}}}if(F!=0){if(this.myPosInAcrossingZone()){var a=CPlayer.dirTo(this.m_myTeam.convertPos(135168)-CPlayer.s_passPointX,0-CPlayer.s_passPointY);var d=F>>3;CPlayer.parseVector_dup_II(d,a);CPlayer.s_passPointX+=CPlayer.s_vectorX;CPlayer.s_passPointY+=CPlayer.s_vectorY;if(this.m_myTeam.m_leftSide&&CPlayer.s_passPointX>cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8){CPlayer.s_passPointX=cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8}else{if(!this.m_myTeam.m_leftSide&&CPlayer.s_passPointX<-(cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8)){CPlayer.s_passPointX=-(cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8)}}}return true}if(t==5&&I!=-1){CPlayer.parseVector_dup_III(l,H-Actor.s_football.m_posX>>4,E-Actor.s_football.m_posY>>4);CPlayer.s_passPointX=Actor.s_football.m_posX+CPlayer.s_vectorX;CPlayer.s_passPointY=Actor.s_football.m_posY+CPlayer.s_vectorY;CPlayer.s_passPlayerNumber=I;return true}CPlayer.parseVector_dup_II(l,y);CPlayer.s_passPointX=Actor.s_football.m_posX+CPlayer.s_vectorX;CPlayer.s_passPointY=Actor.s_football.m_posY+CPlayer.s_vectorY;CPlayer.s_passPlayerNumber=-1;return false},selectLongPassPoint:function(b){var a=-1;for(var c=1;c<11;++c){if(c!=this.m_Number){var f=this.m_myTeam.m_players[c];if(f.m_court==0&&!f.m_inCamera){if(f!=CPlayer.s_focusPlayer){var e=f.m_dirToBall+4&7;var d=f.m_disToBall;if(a>d||a==-1){a=d;CPlayer.s_longPassPlayerNumber=c;CPlayer.s_longPassPointX=f.m_posX;CPlayer.s_longPassPointY=f.m_posY}}}}}return a!=-1},selectLongPassPointByPos:function(){var d=0;if(this.m_myTeam.m_leftSide){d=999999}else{d=-999999}var b=false;for(var a=1;a<11;++a){if(a!=this.m_Number){var c=this.m_myTeam.m_players[a];if(c.m_court==0&&!c.m_inCamera&&c!=CPlayer.s_focusPlayer){if(c!=CTeam.s_potentialLongPassPlayer){if((this.m_myTeam.m_leftSide&&d<c.m_posX)||d==999999||(!this.m_myTeam.m_leftSide&&d>c.m_posX)||d==-999999){d=c.m_posX;CPlayer.s_longPassByPosPlayerNumber=a;CPlayer.s_longPassByPosPointX=c.m_posX;CPlayer.s_longPassByPosPointY=c.m_posY;b=true}}}}}return b},calShootRange:function(){var c=this.m_myTeam.convertPos(Actor.s_football.m_posX);var b=this.m_myTeam.convertPos(Actor.s_football.m_posY);if(cGame.s_matchMode==8){c=this.m_myTeam.convertPos(this.m_posX);b=this.m_myTeam.convertPos(this.m_posY)}if(c<CPlayer.SHOOT_LINE_LIMIT&&cGame.s_aiMode!=10){return false}if(this.m_myTeam.convertPos(this.m_opTeam.m_GK.m_posX)<c||(c>=CPlayer.SHOOT_MUST_SCORE_X&&java.lang.Math.abs(b)<CPlayer.SHOOT_MUST_SCORE_Y)||(this.m_myTeam.m_type==1&&c>=CPlayer.CPU_SHOOT_MUST_SCORE_X&&java.lang.Math.abs(b)<CPlayer.CPU_SHOOT_MUST_SCORE_Y)){CPlayer.s_shootMinY=(cGame.CAGE_TOP<<8)-768;CPlayer.s_shootMaxY=(cGame.CAGE_BOTTOM<<8)+768;return true}var f=this.m_currDir;if(!this.m_myTeam.m_leftSide){f=(8-f&7)}var j=gloft.casttoint(null);if(cGame.s_matchDifficult==1||cGame.s_matchDifficult==0){var g=(cGame.s_matchDifficult==0)?1:0;var k=[25,28,31,34,37];j=k[this.m_curAbilityAtt+1-g]}else{j=CPlayer.SHOOT_MIN_HALF_RANGE[this.m_curAbilityAtt+1];if(CTeam.s_matchState==0&&(this.m_starAbility&1)!=0&&this.m_myTeam.isInOpForbidden(this.m_posX,this.m_posY)){j=CPlayer.SHOOT_MIN_HALF_RANGE[0]}}var i=j+gloft.casttoint((CPlayer.SHOOT_MAX_HALF_RANGE-j)*(c-CPlayer.SHOOT_LINE_LIMIT)/102400);var h=8;var e=8;if(cGame.s_matchDifficult==1||cGame.s_matchDifficult==0){h=0;e=0}if(f==0||f==4){i+=h}else{if(f==5||f==6||f==7){i+=h<<1}}if(cGame.s_matchDifficult!=1&&cGame.s_matchDifficult!=0){i+=java.lang.Math.abs(b)>>12}var d=this.m_posY>>12;if(f==0){d-=e<<1}else{if(f==4){d+=e<<1}else{if(f==1||f==7){d-=e}else{if(f==3||f==5){d+=e}}}}i=gloft.casttoint(i*(337-gloft.casttoint(java.lang.Math.abs(d<<4)/3))/337);i<<=8;d<<=8;CPlayer.s_shootMinY=d-i;CPlayer.s_shootMaxY=d+i;if(CTeam.s_matchState==8){if(this.m_myTeam.m_type==0){CPlayer.s_shootMinY-=7680;CPlayer.s_shootMaxY+=7680}else{CPlayer.s_shootMinY=(cGame.CAGE_TOP<<8)-768;CPlayer.s_shootMaxY=(cGame.CAGE_BOTTOM<<8)+768}}return true},findGoodPlayerInAera:function(r,l,p,o,q,v){var f=null;var d=334848;var e=gloft.ArrayCreation([2],null);var z=CTeam.s_teams[r];for(var t=0;t<2;++t){e[t]=new java.util.Vector();if(t==1){z=CTeam.s_teams[1-r]}for(var u=l?0:1;u<11;++u){var m=z.m_players[u];if(m.m_court==0){if(m.m_posX>=p&&m.m_posX<=p+q&&m.m_posY>=o&&m.m_posY<=o+v){e[t].addElement(m)}}}}var a=e[0].size();if(a==0){return null}if(a==1){return e[0].elementAt(0)}for(var u=0;u<a-1;++u){for(var s=u+1;s>0;--s){var B=e[0].elementAt(s);var A=e[0].elementAt(s-1);var c=cGame.fastDistance(B.m_posX-this.m_posX,B.m_posY-this.m_posY);var b=cGame.fastDistance(A.m_posX-this.m_posX,A.m_posY-this.m_posY);if(b>c){e[0].setElementAt(A,s);e[0].setElementAt(B,s-1)}}}var n=gloft.casttoint(12/a);var g=gloft.casttoint(CPlayer.s_power/n);if(g>=a){g=a-1}return e[0].elementAt(g)},getCompetitor:function(){if(this.m_isStronger){return CPlayer.s_competitorWeak}return CPlayer.s_competitorStrong},adjustSpeedToBase:function(){this.m_posX-=this.m_vX;this.m_posY-=this.m_vY},keepSpeedInBase:function(a){this.adjustSpeedToBase();CPlayer.parseVector_dup_III(CPlayer.reduce_speed_base,a.m_vX,a.m_vY);this.m_posX+=CPlayer.s_vectorX;this.m_posY+=CPlayer.s_vectorY},gkSaveBall:function(){if(this.m_posX+this.m_vX>=135168||this.m_posX+this.m_vX<=-135168){this.m_vX=0}this.m_actionCycle=true;if((this.m_behavior>=100&&this.m_behavior<=106)||(this.m_behavior>=113&&this.m_behavior<=116)||(this.m_behavior>=122&&this.m_behavior<=123)){if(CPlayer.s_ballOwner==null&&CPlayer.s_saveMin>=-1&&this.gkBlockBall()){var e=cGame.fastDistance(Actor.s_football.m_vX,Actor.s_football.m_vY);var m=true;var c=(this.m_behavior>=100&&this.m_behavior<=106)||(this.m_behavior>=113&&this.m_behavior<=116)||(this.m_behavior>=122&&this.m_behavior<=123);var i=(Actor.s_football.m_destY>>8>cGame.CAGE_BOTTOM>>1&&!this.m_myTeam.m_leftSide)||(Actor.s_football.m_destY>>8<cGame.CAGE_TOP>>1&&this.m_myTeam.m_leftSide);var j=(Actor.s_football.m_destY>>8>cGame.CAGE_BOTTOM>>1&&this.m_myTeam.m_leftSide)||(Actor.s_football.m_destY>>8<cGame.CAGE_TOP>>1&&!this.m_myTeam.m_leftSide);var k=(j&&(this.m_behavior==101||this.m_behavior==104||this.m_behavior==106||this.m_behavior==113))||(i&&(this.m_behavior==100||this.m_behavior==103||this.m_behavior==105||this.m_behavior==114));if((CPlayer.s_ballLastPlayer==null||CPlayer.s_ballLastPlayer.m_myTeam.m_ID!=this.m_myTeam.m_ID)&&(c||this.canTrap())){var l=e-this.m_inaccuracy;if(l>0){if(k){m=false}else{var d=gloft.casttoint(l/512);if(d>2){m=false}if(d>2){d=2}if(this.m_behavior==102||this.m_behavior==115||this.m_behavior==116){m=true}else{if(this.m_behavior==122||this.m_behavior==123){m=false}else{var a=4;if(cGame.s_weather!=0){a=3}if(cGame.random(0,a)<d+2){m=false}}}}}}CPlayer.Ball_Speed_when_save_db=e;if(m){if(cGame.s_aiMode!=2&&cGame.s_aiMode!=6&&cGame.s_speedines_rate==1){if(this.m_myTeam==CTeam.s_team0){cGame.PlaySound_dup_I(cGame.sfx_catch_01+Math.floor((Math.random()*3)))}else{cGame.PlaySound_dup_I(cGame.sfx_catch_01+Math.floor((Math.random()*3)))}}if(this.m_myTeam.m_type==0){cGame.setSupport(true,this.m_myTeam.m_ID,15)}Actor.s_football.m_posX=this.m_posX;Actor.s_football.m_posY=this.m_posY;if(this.m_behavior==100||this.m_behavior==101){Actor.s_football.m_posZ=10240}else{if(this.m_behavior!=105&&this.m_behavior!=106){Actor.s_football.m_posZ=this.m_posZ}}Actor.s_football.m_vX=this.m_vX;Actor.s_football.m_vY=this.m_vY;Actor.s_football.m_vZ=0;this.getBall();cGame.s_isPenaltyShoot=false;++this.m_successSaveTime;if(CTeam.s_mathePreState==8&&CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.m_myTeam.m_ID==1){++cGame.m_successPenaltySave}}else{if(cGame.s_speedines_rate==1){cGame.PlaySound_dup_I(cGame.sfx_pass_01+Math.round(Math.random()));cGame.PlaySoundDelayed(9,1,1000)}if(this.m_myTeam.m_type==0){cGame.setSupport(true,this.m_myTeam.m_ID,16)}var f=Actor.s_football;Actor.setBallReflect_dup_CPlayer(this);this.getBall();this.loseBall();++this.m_successSaveTime;if(CTeam.s_mathePreState==8&&CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.m_myTeam.m_ID==1){++cGame.m_successPenaltySave}}}else{if(CPlayer.s_saveMin<-1&&(this.m_behavior==103||this.m_behavior==104)&&this.m_frameIDNow<4){this.persistTackle()}}++CPlayer.s_saveTick}if(this.m_withBall){Actor.putBallOnGround(Actor.s_football.m_posX,Actor.s_football.m_posY);Actor.s_ball_heldbygk=true}if(((this.m_behavior==103||this.m_behavior==104)&&this.m_frameIDNow==4)||((this.m_behavior==101||this.m_behavior==100)&&this.m_frameIDNow==5)||((this.m_behavior==113||this.m_behavior==114)&&this.m_frameIDNow==6)){cGame.P(" GK        distace "+(gloft.casttoint(cGame.fastDistance(this.m_vX,this.m_vY)*100/14)>>8));var h=false;this.m_vY=(h?1:0);this.m_vX=(h?1:0)}if(this.m_actionOver){if(this.m_behavior==100||this.m_behavior==101||this.m_behavior==105||this.m_behavior==106||(this.m_behavior>=102&&this.m_behavior<=104)||this.m_behavior==114||this.m_behavior==113){this.m_vX=0;this.m_vY=0;if(this.m_behavior==103){this.set_directDir(gloft.casttoint((this.m_currDir-1&7)/2)*2+3&7)}else{if(this.m_behavior==104){var g=CPlayer.s_ballLastOwner;this.set_currDir(CPlayer.dirTo(g.m_posX-this.m_posX,g.m_posY-this.m_posY));if(this.m_currDir==6&&!this.m_myTeam.m_leftSide){this.set_currDir(this.m_currDir+1)}this.set_directDir(gloft.casttoint((this.m_currDir-1&7)/2)*2+7&7)}else{if(this.m_behavior==100||this.m_behavior==105||this.m_behavior==114){this.set_directDir((this.m_posX>0)?0:2)}else{if(this.m_behavior==101||this.m_behavior==106||this.m_behavior==113){this.set_directDir((this.m_posX>0)?2:0)}}}}if(this.m_behavior!=102){if(this.m_withBall){this.doStandWithBall()}else{this.doStand()}}else{this.setBehavior(107)}}else{if(this.m_behavior==115||this.m_behavior==116){this.set_directDir((this.m_posX>0)?0:2);if(this.m_withBall){this.doStandWithBall()}else{this.doFool(this.m_reaction>>3)}}else{if(this.m_behavior==122||this.m_behavior==123){if(this.m_withBall){this.doStandWithBall()}else{if(this.m_behavior!=122){this.doStand()}else{this.doFool(this.m_reaction>>3)}}}else{if(this.m_behavior==107){if(this.m_withBall){this.doStandWithBall()}else{this.doStand()}}else{this.doFool(this.m_reaction>>1)}}}}}},gkBlockBall:function(){if(cGame.s_aiMode==6){return false}if((this.m_behavior==102||this.m_behavior==115||this.m_behavior==116||this.m_behavior==123||this.m_behavior==122)&&Actor.s_football.m_posZ<25600&&java.lang.Math.abs(CPlayer.s_savePointX)!=cGame.CAGE_LEFT<<8){if(this.m_currDir==0||this.m_currDir==4){if(java.lang.Math.abs(Actor.s_football.m_posY)<java.lang.Math.abs(CPlayer.s_savePointY)&&java.lang.Math.abs(Actor.s_football.m_lastPosY)>=java.lang.Math.abs(CPlayer.s_savePointY)&&java.lang.Math.abs(this.m_posX-Actor.s_football.m_posX)<1280){return true}}else{if(java.lang.Math.abs(Actor.s_football.m_posX)>java.lang.Math.abs(CPlayer.s_savePointX)&&java.lang.Math.abs(Actor.s_football.m_lastPosX)<=java.lang.Math.abs(CPlayer.s_savePointX)&&java.lang.Math.abs(this.m_posY-Actor.s_football.m_posY)<1280){return true}}}var c=gloft.casttoint(null);var f=gloft.casttoint(null);var e=gloft.casttoint(null);var a=gloft.casttoint(null);if(this.m_behavior==102){c=-2816;f=2816;e=8960;a=0}else{if(this.m_behavior==115||this.m_behavior==122){c=-2816;f=2816;e=19200;a=8960}else{if(this.m_behavior==116||this.m_behavior==123){c=-2816;f=2816;e=20480;a=19200}else{if(this.m_behavior==100||this.m_behavior==101){c=-4480;f=4480;e=17920;a=8960}else{if(this.m_behavior==103||this.m_behavior==104){c=-8320;f=8320;e=8960;a=0}else{if(this.m_behavior==105||this.m_behavior==106){c=-8064;f=8064;e=19200;a=8960}else{if(this.m_behavior==114||this.m_behavior==113){c=-8064;f=8064;e=20480;a=19200}else{c=-3840;f=3840;e=8960;a=0}}}}}}}var d=((this.m_starAbility&128)!=0)?256:this.m_controlRange;if(this.m_behavior!=115&&this.m_behavior!=116&&this.m_behavior!=102&&this.m_behavior!=122&&this.m_behavior!=123){c-=d;f+=d}if(d>0&&this.m_behavior!=115&&this.m_behavior!=116&&this.m_behavior!=102&&this.m_behavior!=122&&this.m_behavior!=123){e+=d;a-=d}if(a<0){a=0}if(this.m_myTeam.m_type==1&&cGame.s_matchDifficult>1){c-=256;f+=256}if(cGame.s_matchDifficult<2&&this.m_behavior!=115&&this.m_behavior!=116&&this.m_behavior!=102&&this.m_behavior!=122&&this.m_behavior!=123){c>>=1;f>>=1}if(this.m_currDir==0||this.m_currDir==4){Actor.posX=this.m_posY;Actor.left=this.m_posX+c;Actor.right=this.m_posX+f;Actor.bottom=this.m_posZ+a;Actor.top=this.m_posZ+e;return Actor.s_football.faceCollideBall(2,this.m_posY,this.m_posX+c,this.m_posX+f,this.m_posZ+e,this.m_posZ+a)}Actor.posX=this.m_posX;Actor.left=this.m_posY+c;Actor.right=this.m_posY+f;Actor.bottom=this.m_posZ+a;Actor.top=this.m_posZ+e;return Actor.s_football.faceCollideBall(3,this.m_posX,this.m_posY+c,this.m_posY+f,this.m_posZ+e,this.m_posZ+a)},doSaveBall:function(b){if(cGame.s_whichHalf==5&&!CTeam.s_isGKSavingPenalty){return}CPlayer.s_saveTick=0;CPlayer.s_saveMin=(b?-2:-1);this.m_vX=0;this.m_vY=0;this.set_currState(7);++this.m_saveTime;var j=(CPlayer.s_ballOwner!=null)?Actor.s_football.m_posX:CPlayer.s_savePointX;var h=(CPlayer.s_ballOwner!=null)?Actor.s_football.m_posY:CPlayer.s_savePointY;var f=(CPlayer.s_ballOwner!=null)?Actor.s_football.m_posZ:CPlayer.s_savePointZ;this.set_directDir(this.m_dirToBall);var c=CPlayer.s_ballLastOwner;if(c==null){c=CPlayer.s_ballOwner}var o=cGame.fastDistance(j-this.m_posX,h-this.m_posY);var l=this.m_dirToBall;var m=CPlayer.dirDifference(this.m_currDir,CPlayer.dirTo(j-this.m_posX,h-this.m_posY));var i=CPlayer.dirTo(c.m_posX-this.m_posX,c.m_posY-this.m_posY);var r=true;var n=cGame.fastDistance(Actor.s_football.m_vX,Actor.s_football.m_vY);var s=n-this.m_inaccuracy;if((CPlayer.s_savePointY<=this.m_posY+1408&&CPlayer.s_savePointY>=this.m_posY-1408&&i!=0&&i!=4)||(CPlayer.s_savePointX<=this.m_posX+1408&&CPlayer.s_savePointX>=this.m_posX-1408&&(i==0||i==4))){s-=1280}cGame.P("GK          ballSpeed : "+(n*10>>8)+"  inaccuracy : "+(this.m_inaccuracy*10>>8)+"  SpdUp : "+cGame.convertPlayerValue(this.getPlayerData(8))+"  Delay : "+this.m_curAbilityRea);if(s>0){var a=gloft.casttoint(s/512);if(a>2){r=false}if(a>2){a=2}var d=4;if(cGame.s_weather!=0){d=3}if(cGame.random(0,d)<a+1){r=false}}if((CTeam.s_isGKSavingPenalty||cGame.s_whichHalf==5||CTeam.s_matchState==8)&&CTeam.s_teams[cGame.s_isHumanInHome?CTeam.s_homeTeamID:CTeam.s_awayTeamID].m_state==-1){cGame.s_isPenaltyDefendOver=true;cGame.PenaltyCageCell_x=-1;cGame.PenaltyCageCell_y=-1;if(cGame.m_SaveH==0&&!b){if(cGame.m_SaveV==0||cGame.m_SaveV==1){if(this.m_posX>0){this.setBehavior(114)}else{this.setBehavior(113)}}else{if(cGame.m_SaveV==3||cGame.m_SaveV==2){if(this.m_posX>0){this.setBehavior(113)}else{this.setBehavior(114)}}}}else{if(cGame.m_SaveH==1&&!b){if(CTeam.s_savePenaltyDir==-1){this.setBehavior(115)}else{if(cGame.m_SaveV==0||cGame.m_SaveV==1){if(this.m_posX>0){this.setBehavior(100)}else{this.setBehavior(101)}}else{if(cGame.m_SaveV==3||cGame.m_SaveV==2){if(this.m_posX>0){this.setBehavior(101)}else{this.setBehavior(100)}}}}}else{if(b){if(cGame.m_SaveV==0){this.setBehavior(103)}else{if(cGame.m_SaveV==3){this.setBehavior(104)}}}else{if(cGame.m_SaveV==0||cGame.m_SaveV==1){if(this.m_posX>0){this.setBehavior(103)}else{this.setBehavior(104)}}else{if(cGame.m_SaveV==3||cGame.m_SaveV==2){if(this.m_posX>0){this.setBehavior(104)}else{this.setBehavior(103)}}}}}}}else{if(f>=19200&&!b){if(!b&&CPlayer.dirIn3(l,i)&&((CPlayer.s_savePointY<=this.m_posY+1408&&CPlayer.s_savePointY>=this.m_posY-1408&&i!=0&&i!=4)||(CPlayer.s_savePointX<=this.m_posX+1408&&CPlayer.s_savePointX>=this.m_posX-1408&&(i==0||i==4)))){this.setBehavior(r?116:123)}else{if(i==0||i==4){this.setBehavior((this.m_posX>CPlayer.s_savePointX)?113:114)}else{this.setBehavior((this.m_posY>CPlayer.s_savePointY)?114:113)}}}else{if(f>8960&&f<=19200&&!b){if(!b&&CPlayer.dirIn3(l,i)&&((CPlayer.s_savePointY<=this.m_posY+1408&&CPlayer.s_savePointY>=this.m_posY-1408&&i!=0&&i!=4)||(CPlayer.s_savePointX<=this.m_posX+1408&&CPlayer.s_savePointX>=this.m_posX-1408&&(i==0||i==4)))){this.setBehavior(r?115:122)}else{if(i==0||i==4){this.setBehavior((this.m_posX>CPlayer.s_savePointX)?101:100)}else{this.setBehavior((this.m_posY>CPlayer.s_savePointY)?100:101)}}}else{if(!b&&CPlayer.dirIn3(l,i)&&((CPlayer.s_savePointY<=this.m_posY+1408&&CPlayer.s_savePointY>=this.m_posY-1408&&i!=0&&i!=4)||(CPlayer.s_savePointX<=this.m_posX+1408&&CPlayer.s_savePointX>=this.m_posX-1408&&(i==0||i==4)))){this.setBehavior(102)}else{if(b){var g=(CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner:CPlayer.s_ballLastOwner;this.setBehavior((this.m_posY>g.m_posY)?103:104)}else{if((this.m_currDir==5||this.m_currDir==6)&&CPlayer.dirTo(c.m_posX-this.m_posX,c.m_posY-this.m_posY)==6&&m<0){this.set_currDir(this.m_currDir+2)}else{if(this.m_currDir==7&&CPlayer.dirTo(c.m_posX-this.m_posX,c.m_posY-this.m_posY)==6){this.set_currDir(this.m_currDir-2)}}if(i==0||i==4){this.setBehavior((this.m_posX>CPlayer.s_savePointX)?104:103)}else{this.setBehavior((this.m_posY>CPlayer.s_savePointY)?103:104)}}}}}}CPlayer.s_saveMin=2;var k=cGame.convertPlayerValue(this.getPlayerData(8));var t=768+(k-4<<5);if(this.m_param3==0){t=gloft.casttoint(t*11/10)}else{if(this.m_param3==8){t=gloft.casttoint(t*12/10)}}if(this.m_behavior!=102&&this.m_behavior!=115&&this.m_behavior!=116){if(b||o<7680){if(b){CPlayer.parseVector_dup_II(512,this.m_currDir)}else{if((CTeam.s_isGKSavingPenalty||cGame.s_whichHalf==5||CTeam.s_matchState==8)&&CTeam.s_teams[cGame.s_isHumanInHome?CTeam.s_homeTeamID:CTeam.s_awayTeamID].m_state==-1){if(cGame.m_SaveV==0){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(512,0)}else{CPlayer.parseVector_dup_II(512,4)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(768,0)}else{CPlayer.parseVector_dup_II(768,4)}}}else{if(cGame.m_SaveV==3){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(512,4)}else{CPlayer.parseVector_dup_II(512,0)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(768,4)}else{CPlayer.parseVector_dup_II(768,0)}}}else{if(cGame.m_SaveV==1){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(128,0)}else{CPlayer.parseVector_dup_II(128,4)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(192,0)}else{CPlayer.parseVector_dup_II(192,4)}}}else{if(cGame.m_SaveV==2){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(128,4)}else{CPlayer.parseVector_dup_II(128,0)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(192,4)}else{CPlayer.parseVector_dup_II(192,0)}}}}}}}else{var e=CPlayer.dirTo(CPlayer.s_savePointX-this.m_posX,CPlayer.s_savePointY-this.m_posY);var q=cGame.fastDistance(CPlayer.s_savePointX-this.m_posX,CPlayer.s_savePointY-this.m_posY);var p=gloft.casttoint(q*t/7680);GLLib.Dbg(" b:"+l+" s:"+e);cGame.P("save speed:"+p);p=((p>t)?t:p);CPlayer.parseVector_dup_II(p,e)}}this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY}else{if(o<15360){if((CTeam.s_isGKSavingPenalty||cGame.s_whichHalf==5||CTeam.s_matchState==8)&&CTeam.s_teams[cGame.s_isHumanInHome?CTeam.s_homeTeamID:CTeam.s_awayTeamID].m_state==-1){if(cGame.m_SaveV==0){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(512,0)}else{CPlayer.parseVector_dup_II(512,4)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(768,0)}else{CPlayer.parseVector_dup_II(768,4)}}}else{if(cGame.m_SaveV==3){if(cGame.m_SaveH==1){if(this.m_posX>0){CPlayer.parseVector_dup_II(512,4)}else{CPlayer.parseVector_dup_II(512,0)}}else{if(this.m_posX>0){CPlayer.parseVector_dup_II(768,4)}else{CPlayer.parseVector_dup_II(768,0)}}}else{CPlayer.parseVector_dup_II(t,l)}}this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY}else{if(CTeam.s_isGKSavingPenalty){if(CTeam.s_savePenaltyDir==3){this.m_vY=512}else{if(CTeam.s_savePenaltyDir==0){this.m_vY=-512}else{if(CTeam.s_savePenaltyDir==2){this.m_vY=128}else{if(CTeam.s_savePenaltyDir==1){this.m_vY=-128}}}}this.m_vX=((j>0)?-256:256)}else{var e=CPlayer.dirTo(CPlayer.s_savePointX-this.m_posX,CPlayer.s_savePointY-this.m_posY);GLLib.Dbg(" b:"+l+" s:"+e);var q=cGame.fastDistance(CPlayer.s_savePointX-this.m_posX,CPlayer.s_savePointY-this.m_posY);var p=gloft.casttoint(q*t/7680);cGame.P("save speed:"+p);p=((p>t)?t:p);CPlayer.parseVector_dup_II(p,e);this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY}}}}}if(CTeam.s_savePenaltyDir!=-1){CTeam.s_isGKSavingPenalty=false}},canPickup:function(){return this.m_Number==0&&CPlayer.s_ctrWithoutBall>=3&&CTeam.s_matchState==0&&CPlayer.s_ballOwner==null&&(CPlayer.s_ballLastPlayer==null||CPlayer.s_ballLastPlayer.m_myTeam.m_ID!=this.m_myTeam.m_ID)&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)&&this.m_disToBall<4608&&java.lang.Math.abs(CPlayer.dirDifference(this.m_dirToBall,this.m_currDir))<3&&Actor.s_football.m_posZ<3072},doPickup:function(){CPlayer.s_GKPickingUpBall=true;this.set_currDir(this.m_dirToBall);this.set_nextDir(this.m_currDir);this.doSaveBall(true);CPlayer.s_saveMin=-2},doStandWithBall:function(){this.m_vX=0;this.m_vY=0;Actor.putBallOnGround(this.m_posX,this.m_posY);Actor.s_football.m_posZ=16640;this.set_currState(8);this.set_nextState(this.m_currState);this.set_currDir(this.m_myTeam.m_leftSide?2:6);this.set_nextDir(this.m_currDir);Actor.s_ball_heldbygk=true;this.setBehavior(108)},doKickOutBall:function(){this.set_currDir(this.m_myTeam.m_leftSide?2:6);this.set_nextDir(this.m_currDir);var b=cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY);var a=cGame.random(1,10);if(a>5&&b<102400){this.set_currState(2);this.set_nextState(2);Actor.s_football.m_posZ=1}else{this.set_currState(3);this.set_nextState(3)}if(b<102400){this.setBehavior((a>5)?124:110)}else{this.setBehavior(109)}},setPlayer:function(b){var a=false;if(CPlayer.s_player[b]!=null){CPlayer.s_player[b].m_whichPlayer=-1;if(CPlayer.s_player[b].m_isControl){a=true;CPlayer.s_player[b].m_isControl=false}CPlayer.s_player[b]=null}if(CPlayer.s_player[b]==null||CPlayer.s_player[b]!=this){CPlayer.s_player[b]=this;if(a&&!this.m_isFocus){CPlayer.s_player[b].m_isControl=true}CPlayer.s_player[b].m_whichPlayer=b}},setFocus:function(){if(CPlayer.s_focusPlayer!=this){if(CPlayer.s_bGoingToTackle||CPlayer.s_bGoingPress){cGame.disp_string=-1}CPlayer.s_bGoingPress=false;CPlayer.s_bGoingToTackle=false;CPlayer.s_bDoneTackle=true;if(CPlayer.s_focusPlayer!=null){CPlayer.m_focusTickCounter=GLLib.s_game_currentFrameNB;CPlayer.s_focusPlayer.m_preDir=-1;CPlayer.s_focusPlayer.set_preState(-1);CPlayer.s_focusPlayer.m_isFocus=false;CPlayer.s_focusPlayer.set_fastrun(false);CPlayer.s_focusPlayer.m_preFastRun=false;CPlayer.s_focusPlayer.stand(false);CPlayer.s_focusPlayer.set_dribbleState(0);var a=CPlayer.s_focusPlayer;CPlayer.s_radar=0;CPlayer.s_focusPlayer.m_idea=-1;if(this.m_whichPlayer==-1&&cGame.s_aiMode==8){this.setPlayer(1-((CPlayer.s_focusPlayer.m_whichPlayer==-1)?1:CPlayer.s_focusPlayer.m_whichPlayer))}cGame.s_touchNeeddraw_cursor=false}else{if(cGame.s_aiMode==8){this.setPlayer(0)}}this.m_isFocus=true;CPlayer.s_focusPlayer=this;if(cGame.s_aiMode!=8){this.setPlayer(this.m_myTeam.m_ID)}this.m_foolEndsTick=0;if(CTeam.s_matchState==0&&!this.m_withBall&&cGame.s_aiMode!=13){this.m_idea=1}if(this.m_Number!=0){this.stand(false)}CPlayer.s_lastInputDir[this.m_whichPlayer]=-1;this.set_dribbleState(0);CPlayer.s_radar=0;this.m_idea=-1;cGame.refreshNameBuff(cGame.playerNameInMatch[this.m_Number])}},updatePlayerControl:function(){if((CTeam.s_matchState!=0||cGame.s_whichHalf==5)&&(!CTeam.s_placementByCPU||CTeam.s_period<=4||cGame.haveKeyHold_dup_II(31,this.m_whichPlayer))){return}if((CPlayer.s_ballOwner!=null&&this.m_myTeam!=CPlayer.s_ballOwner.m_myTeam)||(CPlayer.s_ballFastOwner!=null&&this.m_myTeam!=CPlayer.s_ballFastOwner.m_myTeam)){if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){if(cGame.s_aiMode==8){this.m_myTeam.choosePlayer(true)}this.m_myTeam.setFocusPlayer(false);return}if(this.m_opTeam.m_GK.m_currState!=8){var b=false;if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)){if(this.m_disToBall<=1280&&CTeam.s_newtutorialStep!=40){b=true;this.tackle()}else{this.tracePlayerBegin((CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner.m_Number:CPlayer.s_ballFastOwner.m_Number)}}if(b&&this.m_idea==0){this.tracePlayerEnd()}}}if(this.m_nextState==1||this.m_nextState==0){var a=this.m_whichPlayer;if(this.m_whichPlayer==-1){this.m_whichPlayer=this.m_myTeam.m_ID}this.updateStandorRun();this.m_whichPlayer=a}},getFeintStyle:function(){if(cGame.s_aiMode==6){if(CTeam.s_newtutorialStep==27){return 1}if(CTeam.s_newtutorialStep==23){return 3}}if(this.m_curAbilityTech>=2){return 3}return(cGame.random(0,1)==0)?1:3},updateFocusPlayer:function(){if((CTeam.s_matchState!=0||cGame.s_whichHalf==5)&&(!CTeam.s_placementByCPU||CTeam.s_period<=4||(cGame.haveKeyHold_dup_I(11)|cGame.haveKeyHold_dup_I(17)|cGame.haveKeyHold_dup_I(6)|cGame.haveKeyHold_dup_I(16)))){return}if(cGame.s_aiMode==6){var d=GLLib.IsAnyKeyDown();if(cGame.isDisableKey(d)){return}d=GLLib.WasAnyKeyReleased();if(cGame.isDisableKey(d)){return}if(cGame.isDisableKey(1)&&cGame.s_touchNeeddraw_cursor&&cGame.touch_position_X!=0){cGame.s_touchNeeddraw_cursor=false;cGame.touch_position_X=0;cGame.touch_position_Y=0}}if(cGame.s_aiMode==13&&this!=CPlayer.s_legendPlayer){return}if(cGame.timeOfPointerPress_dash<320&&cGame.s_touchTimes>1&&java.lang.System.currentTimeMillis()-cGame.oneTwoTime>1000&&!CPlayer.s_bGoingToThroughPass&&CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]==null&&!CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]&&this.m_Number!=0&&cGame.s_aiMode!=6){CTeam.s_canThroughInTutorial=true;CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]=true;cGame.timeOfPointerPress_dash=1000;cGame.s_touchTimes=0;cGame.oneTwoTime=java.lang.System.currentTimeMillis()}if(CPlayer.s_bGoingToThroughPass){if(cGame.s_ForPlayerActionTouchID!=-1&&this.m_withBall&&this.m_currState!=13){this.throughPass(CTeam.s_potentialPlayer);cGame.s_ForPlayerActionTouchID=-1;if(cGame.fastDistance(CTeam.s_potentialPlayer.m_posX-this.m_param1,CTeam.s_potentialPlayer.m_posY-this.m_param2)<=1280){CTeam.s_potentialPlayer.doStand()}}CPlayer.s_bGoingToThroughPass=false}else{if(CPlayer.s_radar==5){if((cGame.haveKeyReleased_dup_I(11)||cGame.haveKeyHold_dup_I(11)||CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null)&&CPlayer.s_power<12){if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null){this.set_preState(2)}else{if(cGame.haveKeyHold_dup_I(11)&&cGame.s_ClickedTimes<1000){cGame.s_ClickedTimes=java.lang.System.currentTimeMillis()-cGame.touchTime2;return}if(cGame.haveKeyReleased_dup_I(11)||cGame.s_ClickedTimes>1000){if(cGame.s_ClickedTimes<=1000){if(CTeam.s_potentialPlayer==null){this.selectPassPoint(this.m_nextDir,0);if(this.m_withBall&&this.m_currState!=13){this.pass(CPlayer.s_passPointX,CPlayer.s_passPointY,CPlayer.s_passPlayerNumber)}else{this.set_preState(2)}}else{if(this.m_withBall&&this.m_currState!=13){this.pass(CTeam.s_potentialPassPointX,CTeam.s_potentialPassPointY,CTeam.s_potentialPlayer.m_Number);if(cGame.fastDistance(CTeam.s_potentialPlayer.m_posX-this.m_param1,CTeam.s_potentialPlayer.m_posY-this.m_param2)<=1280){CTeam.s_potentialPlayer.doStand()}}else{this.set_preState(2)}}}CPlayer.s_radar=0;if(CPlayer.s_power>=3){CPlayer.s_powerDisappearTime=GLLib.s_game_currentFrameNB+15}}}}}else{if(CPlayer.s_radar==2){if(cGame.haveKeyHold_dup_I(17)&&CPlayer.s_power<12){++CPlayer.s_power;if(CPlayer.s_power>12){CPlayer.s_power=12}}else{if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==9){CTeam.s_isTutorialLongPassBySharp=true;CPlayer.s_focusPlayer.longPass(CTeam.s_potentialLongPassPointX,CTeam.s_potentialLongPassPointY,5120);return}if(this.myPosInAcrossingZone()){this.selectCenterPassPoint()}else{this.selectPassPoint(this.m_nextDir,2)}if(this.m_withBall&&this.m_currState!=13){if(cGame.s_aiMode==6){CTeam.s_isTutorialLongPassBySharp=true;if(CTeam.s_newtutorialStep==9&&CPlayer.s_ballOwner!=CTeam.s_team0.m_players[8]){CTeam.getPointBetweenTwoPoint(100,this.m_posX,this.m_posY,CTeam.s_team0.m_players[8].m_posX,CTeam.s_team0.m_players[8].m_posY);this.longPass(CTeam.s_middlePointX,CTeam.s_middlePointY,5120)}else{if((CTeam.s_newtutorialStep==19||CTeam.s_newtutorialStep==11)&&this.myPosInAcrossingZone()){this.longPass(122368,0,5120);CTeam.s_isTutorialHeadShoot=true}else{this.longPass(CPlayer.s_passPointX,CPlayer.s_passPointY,5120)}}}else{this.longPass(CPlayer.s_passPointX,CPlayer.s_passPointY,5120)}}else{this.set_preState(3)}CPlayer.s_radar=0;CPlayer.s_powerDisappearTime=GLLib.s_game_currentFrameNB+15}}else{if(CPlayer.s_radar==3){if(cGame.haveKeyHold_dup_I(6)&&CPlayer.s_power<12){++CPlayer.s_power;if(CPlayer.s_power>12){CPlayer.s_power=12}if(CPlayer.s_power>6){cGame.s_isExceed_half_power=true}else{cGame.s_isExceed_half_power=false}}else{if(this.m_withBall&&this.m_currState!=13){this.shoot(gloft.casttoint(CPlayer.SHOOT_MAX_HEIGHT*CPlayer.s_power/12))}else{this.set_preState(4)}CPlayer.s_radar=0;CPlayer.s_powerDisappearTime=GLLib.s_game_currentFrameNB+15}}else{if(CPlayer.s_radar==6||CPlayer.s_radar==9){if(this.m_withBall&&CPlayer.s_preFeintStyle!=-1&&CPlayer.s_radar==9){this.feint(CPlayer.s_preFeintStyle);if(CPlayer.s_preFeintStyle!=1){CPlayer.s_power=0;CPlayer.s_radar=0}else{CPlayer.s_radar=6}CPlayer.s_preFeintStyle=-1}else{var b=cGame.getKeyInterval(16,this.m_whichPlayer);if(CPlayer.s_power==2){if(cGame.haveKeyReleased_dup_II(16,this.m_whichPlayer)){CPlayer.s_power=3;++cGame.s_feint_time}}else{if(CPlayer.s_power==3&&cGame.haveKeyHold_dup_II(6,this.m_whichPlayer)){this.set_preState(13);CPlayer.s_radar=3;CPlayer.s_power=1;CTeam.s_isCurveshoot=true}}if(this.m_withBall&&b>3){var f=this.getFeintStyle();if(CPlayer.s_radar==9){CPlayer.s_preFeintStyle=f}else{this.feint(f);CPlayer.s_power=0;CPlayer.s_radar=0}}}}else{if(!CTeam.s_placementByCPU&&(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)||cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)||cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)||cGame.haveKeyPressed_dup_II(16,this.m_whichPlayer))){if(this.m_Number==0&&this.m_currState==8&&(this.m_behavior==107||this.m_behavior==108)){if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)&&CTeam.s_potentialPlayer!=null&&cGame.s_potentialPlayerNum>=0){this.longPass(CTeam.s_potentialPlayer.m_posX,CTeam.s_potentialPlayer.m_posY,5120)}else{var h=cGame.random(-150,150);var g=cGame.random(-200,200);if(cGame.random(0,100)>20){var c=cGame.random(30,60);h+=((h>0)?c:(-c))}if(!this.m_myTeam.m_leftSide){h=-h}h<<=8;g<<=8;this.longPass(h,g,5120)}}else{if(this.m_isBallReceiver||this==CPlayer.s_ballFastOwner){if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)){if(this.m_myTeam.m_state==1){CPlayer.s_radar=5;CPlayer.s_power=0}else{CPlayer.s_power=6;this.set_preState(2)}}else{if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){if(this.m_withBall){CPlayer.s_radar=2;CPlayer.s_power=4}else{if(this.m_myTeam.m_state==1){CPlayer.s_power=6;this.set_preState(3)}else{if(cGame.s_aiMode==8){this.m_myTeam.choosePlayer(true)}this.m_myTeam.setFocusPlayer(true)}}}else{if(cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)){CPlayer.s_radar=3;CPlayer.s_power=1}else{if(cGame.haveKeyPressed_dup_II(16,this.m_whichPlayer)){CPlayer.s_radar=9;CPlayer.s_power=0;CPlayer.s_preFeintStyle=-1}}}}}else{if(this.m_withBall){if(this.m_currState==13&&this.m_param3==1){this.m_actionOver=true;this.m_feintEndsTick=0}if(cGame.haveKeyPressed_dup_I(11)){CPlayer.s_radar=5;CPlayer.s_power=0}else{if(cGame.haveKeyPressed_dup_I(17)){CPlayer.s_radar=2;CPlayer.s_power=4}else{if(cGame.haveKeyPressed_dup_I(6)){CPlayer.s_radar=3;CPlayer.s_power=1}else{if(cGame.haveKeyPressed_dup_II(16,this.m_whichPlayer)){CPlayer.s_radar=6;CPlayer.s_power=0}}}}}else{if((CPlayer.s_ballOwner!=null&&this.m_myTeam!=CPlayer.s_ballOwner.m_myTeam)||(CPlayer.s_ballFastOwner!=null&&this.m_myTeam!=CPlayer.s_ballFastOwner.m_myTeam)){if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){if(cGame.s_aiMode==8){this.m_myTeam.choosePlayer(true)}this.m_myTeam.setFocusPlayer(true)}else{if(this.m_opTeam.m_GK.m_currState!=8){var e=false;if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)){if(this.m_disToBall<=1280&&CTeam.s_newtutorialStep!=40){e=true;this.tackle()}else{this.tracePlayerBegin((CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner.m_Number:CPlayer.s_ballFastOwner.m_Number)}}else{if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){e=true;this.slideTackle()}else{if(cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)){if(this.m_myTeam.isInOpForbidden(this.m_posX,this.m_posY)&&this.m_disToBall<1280&&(CPlayer.s_ballOwner==null||CPlayer.s_ballOwner.m_Number!=0)){this.setBehavior(18)}else{e=true;if(this.m_disToBall<6400){this.slideTackle()}else{CPlayer.s_bGoingToTackle=true}}}else{if(CPlayer.s_bGoingToTackle&&this.m_disToBall<4352){this.slideTackle()}}}}if(e&&this.m_idea==0){this.tracePlayerEnd()}}}}else{if(cGame.s_aiMode==13&&this.m_myTeam.m_state==1){if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)){CPlayer.s_bAskForBall=true}}else{if(cGame.s_aiMode!=13){this.m_idea=1}if(this.m_myTeam.m_state==1){if(cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer)){this.set_preState(2);CPlayer.s_power=6}else{if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){this.set_preState(3);CPlayer.s_power=6}else{if(cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)){this.set_preState(4);CPlayer.s_power=6}}}}else{if(cGame.haveKeyPressed_dup_II(17,this.m_whichPlayer)){if(cGame.s_aiMode==8){this.m_myTeam.choosePlayer(true)}this.m_myTeam.setFocusPlayer(true)}else{if(cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)){this.set_preState(4);CPlayer.s_power=6}}}}}}}}}else{if(CPlayer.s_bGoingToTackle&&this.m_disToBall<4352){this.slideTackle()}}}}}}}if(this.m_nextState==1||this.m_nextState==0){var a=this.m_whichPlayer;if(this.m_whichPlayer==-1){this.m_whichPlayer=this.m_myTeam.m_ID}this.updateStandorRun();this.m_whichPlayer=a}},isAutoDefendDir:function(c){if(this.m_myTeam.m_state==1||c==-1){return CPlayer.DEFEND_AUTO}var b=this.m_dirToBall+4&7;if(CPlayer.dirIn3(this.m_dirToBall,c)){return CPlayer.DEFEND_AUTO}var a=null;if(CPlayer.s_ballOwner!=null){a=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){a=CPlayer.s_ballFastOwner}}if(this.m_disToBall<6400){return CPlayer.DEFEND_AUTO}return CPlayer.DEFEND_MANUAL},updateStandorRun:function(){var b=-1;var c=-1;var a=cGame.getReleasedDir()!=-1;var d=cGame.getPressDir();if(CTeam.s_matchState!=0){return}if(cGame.touch_position_X!=0&&cGame.touch_position_Y!=0&&cGame.s_touchNeeddraw_cursor&&this.m_preState!=4){d=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);var e=cGame.fastDistance(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY);this.m_destRangeRadius=2560;if(e<=this.m_destRangeRadius&&!CPlayer.s_arrivedInFastRun){CPlayer.s_arrivedInFastRun=true}if((cGame.dash_fastrun||this.m_fastrun)&&((CPlayer.s_arrivedInFastRun&&this.m_withBall)||(cGame.s_PressDir!=-1&&gloft.casttoint(cGame.s_PressDir/2)==this.m_currDir&&this.m_currDirForFastRun%2==0&&this.m_currDir!=d))){cGame.touch_position_X=0;cGame.touch_position_Y=0;cGame.touched_x=-10000;cGame.touched_y=-10000;a=true;d=-1;cGame.s_touchNeeddraw_cursor=false;CPlayer.s_arrivedInFastRun=false}else{var g=CPlayer.dirDifference(this.m_currDir,d);this.m_destRangeRadius=1280;if(this.m_currState!=1){this.m_destRangeRadius=1024}if(e<=this.m_destRangeRadius&&((!cGame.dash_fastrun&&!this.m_fastrun)||((cGame.dash_fastrun||this.m_fastrun)&&g==0))){cGame.touch_position_X=0;cGame.touch_position_Y=0;cGame.touched_x=-10000;cGame.touched_y=-10000;a=true;d=-1;cGame.s_touchNeeddraw_cursor=false;CPlayer.s_arrivedInFastRun=false}}}if(a){CPlayer.s_lastPadTick[this.m_whichPlayer]=0}if(d!=-1){b=CPlayer.dirDifference(this.m_currDir,d);if(this.m_currState==1&&cGame.dash_fastrun&&(b==2||b==-2)){c=(this.m_currDir+(b>>1)+8&7)}else{if(this.m_currState==1&&!cGame.dash_fastrun&&this.m_withBall&&(b==2||b==-2)){var f=c=d;this.m_preDir=f;this.m_nextDir=f;this.doTurn();CPlayer.s_doDirectTurn=true}else{c=d}}if(this.m_withBall&&this.m_currState==1&&java.lang.Math.abs(b)>2){CPlayer.s_lastPadTick[this.m_whichPlayer]=0;CPlayer.s_lastPadDir[this.m_whichPlayer]=-1}else{CPlayer.s_lastPadTick[this.m_whichPlayer]=GLLib.s_game_currentFrameNB;CPlayer.s_lastPadDir[this.m_whichPlayer]=c}}else{if(CPlayer.s_lastPadDir[this.m_whichPlayer]==-1||this==CPlayer.s_ballFastOwner){var k=[8,9,12,15,14,13,10,7];for(var j=0;j<=7;++j){if(cGame.haveKeyPressed_dup_II(k[j],this.m_whichPlayer)){a=true;CPlayer.s_radar=4;CPlayer.s_power=0;break}if(cGame.haveKeyHold_dup_II(k[j],this.m_whichPlayer)){c=(j+1&7);break}}}}if(c!=-1){if(this.m_dribbleState==0||this.m_dribbleState==2){this.set_fastrun(false)}if(cGame.timeOfPointerPress_dash<cGame.DOUBLEPRESSEDTIME+cGame.press_time_cheat*100&&(cGame.s_aiMode!=6||CTeam.s_newtutorialStep>=4)){if(this==CPlayer.s_ballFastOwner&&c!=this.m_currDir){this.m_preFastRun=true}if(this.m_isBallReceiver){CPlayer.s_doDirectTurn=true}this.set_dribbleState(1);this.set_fastrun(true);if(java.lang.Math.abs(this.m_currDirForFastRun-2*this.m_currDir)>1){this.m_currDirForFastRun=this.m_currDir*2}this.m_preDirForFastRun=CPlayer.dirTo(cGame.touch_position_X-this.m_posX,cGame.touch_position_Y-this.m_posY)*2}}if(this.m_idea==0&&(c!=-1||GLLib.WasAnyKeyPressed()!=-1||GLLib.IsAnyKeyDown()!=-1)){this.tracePlayerEnd()}CPlayer.s_inputDir=c;CPlayer.s_autoDefend=-1;if(this.m_isBallReceiver){this.updateBallReceiver(c)}else{if(this.isAutoDefendDir(c)==CPlayer.DEFEND_AUTO&&this.m_myTeam.m_state!=1&&((cGame.haveKeyHold_dup_II(11,this.m_whichPlayer)&&!cGame.haveKeyPressed_dup_II(11,this.m_whichPlayer))||CPlayer.s_bGoingPress||CPlayer.s_bGoingToTackle)&&!this.m_withBall){var q=true;if(CPlayer.s_ballOwner!=null){var l=CPlayer.dirTo(this.m_posX-CPlayer.s_ballOwner.m_posX,this.m_posY-CPlayer.s_ballOwner.m_posY);q=(!CPlayer.s_ballOwner.posBehindMe(this.m_posX,this.m_posY)&&CPlayer.dirIn3(this.m_currDir+4&7,CPlayer.s_ballOwner.m_currDir));if(!q){q=((this.m_disToBall<1280&&!CPlayer.s_ballOwner.posBehindMe(this.m_posX,this.m_posY))||CPlayer.s_ballOwner.m_currState==4)}else{if(CPlayer.s_ballOwner.m_currState==14){q=false}}}if(CPlayer.s_bGoingToTackle&&this.m_disToBall<5376){this.slideTackle()}else{if((this.m_disToBall<1280||(this.m_disToBall<2560&&this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)))&&CPlayer.s_ballOwner!=null&&q){this.m_idea=-1;this.tackle()}else{if(CPlayer.s_ballOwner==null){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true)}else{if(this.m_opTeam.m_GK.m_currState!=8){this.tracePlayerBegin(CPlayer.s_ballOwner.m_Number)}}}}}else{if(cGame.s_aiMode==13&&(cGame.haveKeyHold_dup_II(16,this.m_whichPlayer)||cGame.haveKeyPressed_dup_II(16,this.m_whichPlayer))&&!this.m_withBall&&this!=CPlayer.s_ballFastOwner){this.runTo(this.m_myTeam.GridToPos(this.m_coachSetDestGridX),this.m_myTeam.GridToPos(this.m_coachSetDestGridY),false);return}if(cGame.haveKeyHold_dup_II(16,this.m_whichPlayer)&&!cGame.haveKeyPressed_dup_II(16,this.m_whichPlayer)&&!this.m_withBall){if(this.m_disToBall<this.m_controlRange&&CPlayer.s_ballOwner!=null){if(CTeam.s_newtutorialStep!=40){this.tackle()}}else{this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true)}if(CPlayer.s_ballOwner!=null){this.m_myTeam.rangedTackle(30720)}}else{if((this.m_currState==1||this.m_currState==0)&&cGame.haveKeyHold_dup_II(6,this.m_whichPlayer)&&!cGame.haveKeyPressed_dup_II(6,this.m_whichPlayer)&&!this.m_withBall){if(this.m_disToBall<4352&&CPlayer.s_ballOwner!=null){this.m_idea=-1;this.slideTackle()}else{this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true)}}else{if(this.m_idea==1){if(CPlayer.s_radar==4){this.m_idea=-1;CPlayer.s_power=0}if(c!=-1&&CPlayer.s_ballLastOwner!=this&&CPlayer.s_ballFastOwner!=this&&CPlayer.s_ballTackledOutBy!=this&&this.isAutoDefendDir(c)==CPlayer.DEFEND_MANUAL){CPlayer.s_autoDefend=CPlayer.DEFEND_MANUAL;this.set_preState(this.m_preDir=-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}this.runOn(c)}else{if(this.isAutoDefendDir(c)==CPlayer.DEFEND_HELP_AUTO){CPlayer.s_autoDefend=CPlayer.DEFEND_HELP_AUTO;var m=null;if(CPlayer.s_ballOwner!=null){m=CPlayer.s_ballOwner}else{m=CPlayer.s_ballFastOwner}this.runOn(m.m_currDir)}else{CPlayer.s_autoDefend=CPlayer.DEFEND_AUTO;this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,this.m_isStronger||this.m_fastrun)}}}else{if(this.m_idea==3){if(this.m_destReached||this.m_disToBall<1280){this.tackle();this.m_idea=-1}}else{if(c!=-1){if(this==CPlayer.s_ballFastOwner){if(this.m_behavior==32){this.m_isFastRun=true}this.runOn(this.m_currDir);if(c!=this.m_currDir&&this.m_nextState!=4){this.set_fastrun(false);this.set_dribbleState(2);this.m_preDir=c;this.set_preState(-1);this.m_idea=1}}else{if(CPlayer.s_ballOwner==null&&CPlayer.s_ballFastOwner==null){if(cGame.s_aiMode!=13){if(c!=-1&&CPlayer.s_ballLastOwner!=this&&CPlayer.s_ballTackledOutBy!=this){this.set_preState(this.m_preDir=-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}this.runOn(c)}else{this.m_idea=1;this.directTurn(c)}}}else{if(this.m_withBall){this.m_isFastRun=false;var o=CPlayer.dirDifference(this.m_currDir,c);var p=java.lang.Math.abs(o);if(this.m_currState==1&&p>1&&this.m_nextState!=4){if(this.m_isFocus){}if(CPlayer.s_radar!=3){CPlayer.s_radar=0}CPlayer.s_lastInputDir[this.m_whichPlayer]=c;if(this.m_curAbilityTech==0){this.stand(true);this.m_steponball=false}else{if(this.m_curAbilityTech>=2){this.stand(false);this.m_steponball=true}else{this.stand(false);this.m_steponball=false}}this.set_dribbleState(0);this.set_fastrun(false)}else{if(this.m_currState!=13){if(CPlayer.s_radar!=5&&this.m_preState!=4){this.m_preDir=-1;if(CPlayer.s_radar!=3){this.set_preState(-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}}this.runOn(c)}}}}else{if(cGame.s_aiMode==13){this.set_preState(this.m_preDir=-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}this.runOn(c);CPlayer.s_autoDefend=CPlayer.DEFEND_MANUAL}else{if(CPlayer.s_ballOwner==this.m_opTeam.m_GK){this.set_preState(this.m_preDir=-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}this.runOn(c);CPlayer.s_autoDefend=CPlayer.DEFEND_MANUAL}else{var q=true;if(CPlayer.s_ballOwner!=null){var l=CPlayer.dirTo(this.m_posX-CPlayer.s_ballOwner.m_posX,this.m_posY-CPlayer.s_ballOwner.m_posY);q=(!CPlayer.s_ballOwner.posBehindMe(this.m_posX,this.m_posY)&&(this.m_currDir+4&7)==CPlayer.s_ballOwner.m_currDir);if(!q&&this.m_disToBall<1280&&CPlayer.dirIn3(this.m_currDir+4&7,CPlayer.s_ballOwner.m_currDir)){q=true}}if(this.m_disToBall<1280&&CPlayer.s_ballOwner!=null&&q){if(CPlayer.s_ignoreInput>0){--CPlayer.s_ignoreInput}else{this.m_idea=-1;this.tackle()}}else{if(this.isAutoDefendDir(c)==CPlayer.DEFEND_HELP_AUTO){CPlayer.s_autoDefend=CPlayer.DEFEND_HELP_AUTO;var h=null;if(CPlayer.s_ballOwner!=null){h=CPlayer.s_ballOwner}else{h=CPlayer.s_ballFastOwner}this.runOn(h.m_currDir)}else{if(this.isAutoDefendDir(c)==CPlayer.DEFEND_AUTO){CPlayer.s_autoDefend=CPlayer.DEFEND_AUTO;if(CPlayer.s_ballOwner==null){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true)}else{if(this.m_opTeam.m_GK.m_currState!=8){this.tracePlayerBegin(CPlayer.s_ballOwner.m_Number)}}}else{this.set_preState(this.m_preDir=-1);if(CPlayer.s_radar==4){CPlayer.s_radar=0;CPlayer.s_power=0}this.runOn(c);CPlayer.s_autoDefend=CPlayer.DEFEND_MANUAL}}}}}}}}CPlayer.s_lastInputDir[this.m_whichPlayer]=c}else{if(this.m_currState==1&&cGame.s_aiMode!=3){this.m_preDir=-1;this.m_fast2Fast=false;if(this==CPlayer.s_ballFastOwner){this.runOn(this.m_dirToBall);this.set_fastrun(false);this.set_dribbleState(2);if(CPlayer.s_radar==9){}}else{if(CPlayer.s_radar==0){if(CPlayer.s_lastInputDir[this.m_whichPlayer]==-1||!this.m_withBall){if(this.m_withBall&&CPlayer.s_extraRun){if(CPlayer.s_extraRunFrame<CPlayer.s_extraRunDuration){this.m_isFastRun=false;this.runOn(this.m_currDir);++CPlayer.s_extraRunFrame}else{CPlayer.s_extraRun=false;CPlayer.s_extraRunFrame=0}}else{if(this.m_idea==0){this.m_idea=1}else{if(!this.m_isStronger&&!this.m_isWeaker){this.stand(false)}}this.set_dribbleState(0);this.set_fastrun(false)}}else{if(!cGame.s_touchNeeddraw_cursor){CPlayer.s_radar=0;CPlayer.s_lastInputDir[this.m_whichPlayer]=-1;this.stand(false);this.set_dribbleState(0);this.set_fastrun(false)}else{CPlayer.s_radar=4;CPlayer.s_RunToStandStep=0;this.runOn(CPlayer.s_lastInputDir[this.m_whichPlayer]);this.set_fastrun(false);this.set_dribbleState(2)}}}else{if(CPlayer.s_radar==4){if(CPlayer.s_RunToStandStep<8){++CPlayer.s_RunToStandStep;this.runOn(CPlayer.s_lastInputDir[this.m_whichPlayer])}else{cGame.s_touchNeeddraw_cursor=false;CPlayer.s_radar=0;CPlayer.s_lastInputDir[this.m_whichPlayer]=-1;this.stand(false);this.set_dribbleState(0);this.set_fastrun(false)}}}}}else{if(this.m_currState==0&&!this.m_withBall&&!this.m_isBallReceiver&&this.m_currDir!=this.m_dirToBall){this.turn(-1)}}}}}}}}}},cpuCenterPassPoint:function(){this.selectCenterPassPoint()},selectCenterPassPoint:function(){var j=this.m_myTeam.m_leftSide?(cGame.FORBIDDEN_ZONE_LEFT<<8):-135168;var i=cGame.FORBIDDEN_ZONE_TOP<<8;var k=cGame.FORBIDDEN_ZONE_WIDTH<<8;var d=cGame.FORBIDDEN_ZONE_RANGE<<8;var l=false;if(this.m_posY>=i&&this.m_posY<=i+d){l=true;if((this.m_posY<0&&this.m_myTeam.m_leftSide)||(this.m_posY<0&&!this.m_myTeam.m_leftSide)){d=i+d-this.m_posY;i=this.m_posY}else{d=this.m_posY-i}}var g=null;if(cGame.s_aiMode==13&&CPlayer.s_legendPlayer!=null&&this.m_myTeam.isInOpForbidden(CPlayer.s_legendPlayer.m_posX,CPlayer.s_legendPlayer.m_posY)){g=CPlayer.s_legendPlayer}else{if(this.m_myTeam.m_type==0){g=this.findGoodPlayerInAera(1-this.m_myTeam.m_ID,false,j,i,k,d)}else{g=this.findGoodPlayerInAera(this.m_myTeam.m_ID,false,j,i,k,d)}}if(g==null||g==this){var e=CPlayer.dirTo(this.m_myTeam.convertPos(135168)-this.m_posX,0-this.m_posY);var f=(this.m_posY>0)?0:4;if(this.m_myTeam.m_type==0||this==CPlayer.s_legendPlayer){if(!this.selectPassPoint(e,5)){this.selectPassPoint(f,2)}}else{if(!this.selectPassPoint(this.m_currDir,1)){CPlayer.s_passPointX=((CTeam.s_placementX>0)?(cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8):(-cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8));CPlayer.s_passPointY=0}}}else{CPlayer.s_passPointX=g.m_posX;CPlayer.s_passPointY=g.m_posY;var a=l?1280:6400;var c=l?1280:5120;if(g.m_currState!=0){var b=(this.m_posY>0&&this.m_myTeam.m_leftSide)||(this.m_posY<0&&!this.m_myTeam.m_leftSide);if(this.m_myTeam.m_leftSide){CPlayer.s_passPointX=cGame.limit(g.m_posX+c,cGame.FORBIDDEN_ZONE_LEFT<<8,135168)}else{CPlayer.s_passPointX=cGame.limit(g.m_posX-c,-135168,-cGame.FORBIDDEN_ZONE_LEFT<<8)}CPlayer.s_passPointY=cGame.limit(g.m_posY+(b?(-a):a),i,-i)}}if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==11){CTeam.s_isTutorialHeadShoot=true}},getBall:function(){cGame.s_touchTimes=0;if(this!=CPlayer.s_ballLastOwner){if(this.m_myTeam.m_ID==0){cGame.s_goal_distance=0}if(cGame.s_isFreeKick_Corner_shoot&&CPlayer.s_ballLastOwner!=CTeam.s_kickPlayer){cGame.s_isFreeKick_Corner_shoot=false;CTeam.s_mathePreState=-1}if(this.m_myTeam.m_ID!=CTeam.s_kickPlayer.m_myTeam.m_ID){if(cGame.s_isFreeKick_Corner_shoot){cGame.s_isFreeKick_Corner_shoot=false}if(CTeam.s_mathePreState!=8){CTeam.s_mathePreState=-1}}cGame.s_getBallPlayerArray[this.m_Number+this.m_myTeam.m_ID*11]=15;++this.m_getBallTime;cGame.touch_position_X=0;cGame.touch_position_Y=0;cGame.s_touchNeeddraw_cursor=false}if((CPlayer.s_bGoingPress||CPlayer.s_bGoingToTackle)&&this.m_myTeam.m_ID==0){CPlayer.s_bGoingPress=(CPlayer.s_bGoingToTackle=false)}if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID){CPlayer.s_bAskForBall=false;cGame.cameraOffX=0}CPlayer.s_bIsThroughPass=false;CPlayer.s_doDirectTurn=false;if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null&&(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]==this||!this.m_isBallReceiver)){CPlayer.s_oneTwoPressed[this.m_myTeam.m_ID]=false;CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]=null}CTeam.s_throughReceiverID=-1;CPlayer.s_throughPass=false;if(CPlayer.s_ballOwner!=null){CPlayer.s_ballOwner.m_withBall=false;CPlayer.s_ballLastOwner=CPlayer.s_ballOwner}this.m_foolEndsTick=0;this.m_idea=-1;if(CPlayer.s_lastAsistPlayer!=null&&this.m_myTeam.m_ID!=CPlayer.s_lastAsistPlayer.m_myTeam.m_ID){CPlayer.s_lastAsistPlayer=null}if(cGame.s_aiMode==6&&this.m_preState!=4){CTeam.s_isTutorialShoot=false}if(this.m_Number==CPlayer.s_touchPlayerNumber||(CPlayer.s_focusPlayer!=null&&this.m_myTeam!=CPlayer.s_focusPlayer.m_myTeam)){CPlayer.s_touchPlayerNumber=-1}this.m_withBall=true;CPlayer.s_ballOwner=this;if(CPlayer.s_ballOwner!=null&&CPlayer.s_getBallPlayer!=CPlayer.s_ballOwner){cGame.s_ballowner_take_ball=0;cGame.s_feint_time=0}CPlayer.s_getBallPlayer=CPlayer.s_ballOwner;CPlayer.s_ctrWithBall=0;if(CPlayer.s_shoveLostBall){if(this==CPlayer.s_shoveBallPlayer&&CPlayer.s_lostBallPlayer!=null){CPlayer.s_extraRun=true;if(this.m_currState==0){this.set_currState(1)}CPlayer.s_extraRunFrame=0}CPlayer.s_lostBallPlayer=null;CPlayer.s_shoveBallPlayer=null;CPlayer.s_shoveLostBall=false}else{if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==1&&this.m_myTeam.m_ID==0&&cGame.fastDistance(this.m_posX-CPlayer.s_ballLastOwner.m_posX,this.m_posY-CPlayer.s_ballLastOwner.m_posY)<7680){CPlayer.s_extraRun=true;if(this.m_currState==0){this.set_currState(1)}CPlayer.s_extraRunFrame=0}}if(CPlayer.s_ballFastOwner!=null){if(CPlayer.s_focusPlayer!=null&&CPlayer.s_ballFastOwner==CPlayer.s_focusPlayer&&this.m_myTeam.m_ID!=CPlayer.s_focusPlayer.m_myTeam.m_ID){CPlayer.s_ignoreInput=20}CPlayer.s_ballFastOwner=null;CPlayer.s_ctrWithBall=3}if(this.m_myTeam.m_type==0){this.setFocus()}var e=CPlayer.s_ballReceiver[0];CPlayer.clearBallReceivers();var a=334848;var c=null;for(var b=0;b<11;++b){var d=this.m_opTeam.m_players[b];if(b!=0&&this.m_myTeam.m_type==1&&d.m_court==0&&(c==null||d.m_disToBall<a)){c=d;a=d.m_disToBall}d=CTeam.s_team0.m_players[b];if(CTeam.s_kickPlayer!=this||CTeam.s_matchState==0){d.set_preState(d.m_preDir=-1);d.m_idea=-1;d.m_preFastRun=false;if(d.m_doHumanWallJump){d.m_coachSetTacState=0;d.m_myTeam.m_haveNewOrder[d.m_Number]=true;d.m_doHumanWallJump=false}d=CTeam.s_team1.m_players[b];d.set_preState(d.m_preDir=-1);d.m_idea=-1;if(d.m_doHumanWallJump){d.m_coachSetTacState=0;d.m_myTeam.m_haveNewOrder[d.m_Number]=true;d.m_doHumanWallJump=false}}}if(cGame.s_aiMode==13){if((CPlayer.s_legendPlayer==null||CPlayer.s_legendPlayer.m_court==1)&&this.m_myTeam.m_ID==0){this.setFocus()}}else{if(cGame.s_aiMode==3){this.setFocus()}else{if(c!=null){}}}if(CPlayer.s_potentialOffsidePlayer==this&&CTeam.isPlayerOffside(this)){CTeam.s_offsidePlayer=this;if(cGame.s_matchMode==11){CTeam.changeScene(CTeam.s_sceneStep)}else{CTeam.setMatchState_dup_IIII(6,1-this.m_myTeam.m_ID,this.m_posX,this.m_posY)}cGame.increaseValueOfStatItem(this.m_myTeam.m_ID,5)}else{CPlayer.s_potentialOffsidePlayer=null}},loseBall:function(){if(CTeam.s_newtutorialStep==40&&this.m_myTeam.m_ID==1&&cGame.haveKeyHold_dup_I(16)){CTeam.s_taskFinish=true}if(CPlayer.s_ballOwner==this){CPlayer.s_lastPadDir[0]=-1;CPlayer.s_lastPadDir[1]=-1;if(this.m_Number==0){Actor.s_ball_heldbygk=false;Actor.s_ball_heldbyplayer=false}else{Actor.s_ball_heldbyplayer=false}}if(this.m_Number!=0){CPlayer.s_ballLastPlayer=CPlayer.s_ballOwner}this.m_withBall=false;CPlayer.s_ballLastOwner=CPlayer.s_ballOwner;CPlayer.s_ballOwner=null;CPlayer.s_ballFastOwner=null;CPlayer.s_ctrWithoutBall=0;if(!this.m_fastrun||CPlayer.s_radar!=3){CPlayer.s_radar=0;CPlayer.s_power=0}if(CTeam.s_mathePreState==7){if(CPlayer.s_ballLastOwner==CTeam.s_kickPlayer){cGame.s_isFreeKick_Corner_shoot=true}else{cGame.s_isFreeKick_Corner_shoot=false}}},setBallReceiver:function(){if(!this.m_isBallReceiver){if(CPlayer.s_ballReceiver[this.m_myTeam.m_ID]!=null){CPlayer.s_ballReceiver[this.m_myTeam.m_ID].m_isBallReceiver=false}this.m_isBallReceiver=true;this.m_ballReceiverState=1;if(CPlayer.s_ballReceiver[this.m_myTeam.m_ID]!=this&&CTeam.isPlayerOffside(this)){CPlayer.s_potentialOffsidePlayer=this}(CPlayer.s_ballReceiver[this.m_myTeam.m_ID]=this).set_dribbleState(this.m_myTeam.m_specialDirectType=0);this.set_fastrun(false);this.m_canHead=true;if(this.m_myTeam.m_rcvUseNewPointingSystem){var a=cGame.random(0,99);if(this.m_myTeam.m_ID==CTeam.s_rcvUseNewPointingSystemTeamID){if((CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number==0)||(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==11)){a=0}else{if(Actor.s_ball_state==10){a=CPlayer.RCV_POINT_ARRAY[CPlayer.s_rcvPointIndex];CPlayer.s_rcvPointIndex=(CPlayer.s_rcvPointIndex+1)%CPlayer.RCV_POINT_ARRAY.length}else{a=1}}}else{if((CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number==0)||this.m_myTeam.isPointInMyFBZ(this.m_posX,this.m_posY)){a=((a<90)?0:4)}else{a=((a>=50)?1:0)}}this.m_myTeam.rcvSelectpoint(a);var c=CPlayer.dirTo(this.m_myTeam.m_rcvBallGoAndKickX-this.m_posX,this.m_myTeam.m_rcvBallGoAndKickY-this.m_posY);if(this.m_myTeam.m_type==0&&CPlayer.dirDifference(this.m_currDir,c)!=0){this.turn(c)}}else{if(this!=CPlayer.s_ballLastOwner&&Actor.s_ball_state==0&&this.m_myTeam.m_state==1&&this.m_opTeam.isPointInMyFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY)){var b=cGame.random(0,99);b=((b<30)?1:3);if(b==3){this.m_myTeam.m_rcvAddedKeyFrame=5;this.m_myTeam.m_specialDirectType=1}}}}},isBallPassedMe:function(){var a=0;if(this.m_myTeam.m_type==0){a=0}else{if(this.m_def>=80||(this.m_starAbility&32)!=0){a=16384}else{if(cGame.random(0,1)==0){a=0}else{a=-8192}}}return this.m_myTeam.m_leftSide?(Actor.s_football.m_posX<this.m_posX+a):(Actor.s_football.m_posX>this.m_posX-a)},updateBallReceiverDest:function(){if(CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID&&!CPlayer.s_shoveLostBall&&!Actor.s_ballDestReached&&Actor.s_ball_state==0){if(CPlayer.s_bIsThroughPass||this.m_myTeam.isPointInMyFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY)){if((this.m_starAbility&32)==0){if(CPlayer.s_bIsThroughPass){if(this.isBallPassedMe()){this.runTo(Actor.s_football.m_destX,Actor.s_football.m_destY,true)}else{this.runTo(this.m_posX,this.m_posY,false)}return}}}else{if(CPlayer.s_ballReceiver[this.m_opTeam.m_ID]!=null){var j=CPlayer.s_ballReceiver[this.m_opTeam.m_ID];var n=CPlayer.dirTo(this.m_posX-j.m_posX,this.m_posY-j.m_posY);if(j.m_dirToBall!=n){var h=this.m_myTeam.m_leftSide?135168:-135168;var g=0;CPlayer.parseVector_dup_III(6400,j.m_posX-h,j.m_posY);this.runTo(j.m_posX+CPlayer.s_vectorX,j.m_posY+CPlayer.s_vectorY,false);if(n==this.m_myTeam.convertDir(6)){this.m_param3=1}return}}}}var w=0;var o=0;var r=cGame.fastDistance(this.m_vX,this.m_vY);var s=cGame.fastDistance(Actor.s_football.m_vX,Actor.s_football.m_vY);var l=false;if(r==0){r=this.m_speed}var k=gloft.casttoint(this.m_disToBall/(this.m_speed+s));var b=gloft.casttoint(null);for(b=0,b=0;b<Actor.s_futureBallPosX.length-1&&(Actor.s_futureBallPosX[b]!=Actor.s_futureBallPosX[b+1]||Actor.s_futureBallPosY[b]!=Actor.s_futureBallPosY[b+1]);++b){}if(this.ballOverMeIn(b-Actor.s_ctrFutureBallFrame)){this.runTo(this.m_posX,this.m_posY,false);return}k=0;var c=this.m_dirToBall;var e=0;for(var q=k-1+Actor.s_ctrFutureBallFrame;q<b;++q){if(q<0){break}var d=q-Actor.s_ctrFutureBallFrame;var u=Actor.s_futureBallPosX[q];var t=Actor.s_futureBallPosY[q];if((Actor.s_ball_state!=10&&Actor.s_ball_state!=1)||Actor.s_futureBallPosZ[q]<=16640){var m=CPlayer.dirTo(u-this.m_posX,t-this.m_posY);if(c!=m){c=m;e=0}else{++e}CPlayer.parseVector_dup_III(this.m_speed,u-this.m_posX,t-this.m_posY);var v=cGame.screenDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);if(v!=0){var a=this.m_speed*256>>8;CPlayer.s_vectorX=gloft.casttoint(CPlayer.s_vectorX*a/v);CPlayer.s_vectorY=gloft.casttoint(CPlayer.s_vectorY*a/v)}var x=cGame.screenDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);o=cGame.fastDistance(u-this.m_posX,t-this.m_posY);if(x==0){x=this.m_speed}var p=gloft.casttoint((o+x)/x);if(p<d&&e>3){w=q-1;l=true;break}}}if(!l){w=b}var u=Actor.s_futureBallPosX[w];var t=Actor.s_futureBallPosY[w];if(this.m_currState==1){}var f=true;if(cGame.fastDistance(u-this.m_posX,t-this.m_posY)<5120&&this.m_preState==-1){f=false}if(CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_myTeam.m_ID){f=false}this.runTo(u,t,f||this.m_fastrun);CPlayer.s_runFrame=w;var d=CPlayer.getRunFrames(this.m_speed,this.m_posX,this.m_posY,Actor.s_futureBallPosX[w],Actor.s_futureBallPosY[w])},updateBallReceiver:function(a){if(a!=-1&&this.m_preState!=4&&this.m_preState!=2){this.directTurn(a)}if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep>=33){return}switch(this.m_ballReceiverState){case 1:var e=false;if(!this.m_myTeam.m_rcvUseNewPointingSystem){var m=Actor.s_football.m_destX;var l=Actor.s_football.m_destY;if((Actor.s_ball_state==1||Actor.s_ball_state==10)&&this.m_myTeam.m_state==1){this.m_myTeam.rcvSelectpoint(1);m=this.m_myTeam.m_rcvGoAndKickX;l=this.m_myTeam.m_rcvGoAndKickY}var d=Actor.s_futureBallPosX[0];var c=Actor.s_futureBallPosY[0];var b=Actor.s_futureBallPosZ[0];var g=gloft.casttoint(null);for(g=1;g<200;++g){var k=Actor.s_futureBallPosX[g];var h=Actor.s_futureBallPosY[g];var f=Actor.s_futureBallPosZ[g];if(k==d&&h==c&&k==d){break}if(cGame.isPointBetweenTwoPoints(m,l,k,h,d,c)){break}d=k;c=h;b=f}if(CPlayer.getRunFrames(this.m_speed,this.m_posX,this.m_posY,Actor.s_football.m_destX,Actor.s_football.m_destY)>g){e=true}if(this.m_myTeam.m_state==-1&&this.m_myTeam.m_type==0&&!CPlayer.s_shoveLostBall&&!this.m_isStronger&&!this.m_isWeaker&&CPlayer.s_ballOwner==null&&CPlayer.s_ballFastOwner==null){if(this.m_myTeam.m_leftSide){m-=16384}else{m+=16384}}if(Actor.s_ballDestReached){if(Actor.s_ball_state!=0){this.runTo(Actor.s_football.m_destX,Actor.s_football.m_destY,true)}else{this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true)}}else{this.runTo(m,l,e||this.m_fastrun)}if(CPlayer.isTurnBehavior(this.m_behavior)&&this!=CPlayer.s_ballLastOwner&&(this.m_myTeam.m_state==1||this.m_myTeam.m_type==1)&&(this.m_currState==0||this.m_currState==1)){this.set_currDir(this.m_nextDir);this.m_actionOver=true}this.m_ballReceiverState=2;break}var j=CPlayer.getRunFrames(this.m_speed,this.m_posX,this.m_posY,this.m_myTeam.m_rcvGoAndKickX,this.m_myTeam.m_rcvGoAndKickY)+this.m_myTeam.m_rcvAddedKeyFrame;if(j>this.m_myTeam.m_rcvFitFrameOff){j=CPlayer.getRunFrames(this.m_speedFast,this.m_posX,this.m_posY,this.m_myTeam.m_rcvGoAndKickX,this.m_myTeam.m_rcvGoAndKickY)+this.m_myTeam.m_rcvAddedKeyFrame;e=true}if(j<this.m_myTeam.m_rcvFitFrameOff){var n=this.m_myTeam;n.m_rcvFitFrameOff-=Actor._frameInc;break}if(j==this.m_myTeam.m_rcvFitFrameOff){this.runTo(this.m_myTeam.m_rcvGoAndKickX,this.m_myTeam.m_rcvGoAndKickY,e)}else{this.runTo(cGame.limit(Actor.s_football.m_destX,-135168,135168),cGame.limit(Actor.s_football.m_destY,-86272,86272),true);this.m_myTeam.m_rcvUseNewPointingSystem=false;this.m_myTeam.m_specialDirectType=0}this.m_myTeam.m_rcvFitFrameOff=-1;if(this.m_myTeam.m_rcvUseNewPointingSystem){this.m_ballReceiverState=4}else{this.m_ballReceiverState=2}break;case 2:if(this.m_destReached){if(this.m_currDir!=this.m_dirToBall&&this.m_nextDir!=this.m_dirToBall&&!this.ballOverMeIn(9)&&!this.canTrap()){this.turn(-1)}this.m_ballReceiverState=3;break}if(this.m_isStronger||this.m_isWeaker||CPlayer.s_shoveLostBall){if(Actor.s_ballDestReached){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true);break}break}else{if(!Actor.s_ballDestReached){this.updateBallReceiverDest();break}if(this.m_currState==0&&this.m_nextState==0){this.runTo(this.m_param1,this.m_param2,false);break}if(CPlayer.s_ballFastOwner!=null&&this!=CPlayer.s_ballFastOwner){this.m_myTeam.computeFastRunPoint(this.m_Number,CPlayer.s_ballFastOwner.m_Number);this.runTo(CTeam.fastRunPointX,CTeam.fastRunPointY,true);break}this.updateBallReceiverDest();break}break;case 3:if(this.m_actionOver||this.m_actionCycle){this.m_ballReceiverState=4;break}break;case 4:if(Actor.s_ballDestReached){if(CPlayer.s_ballFastOwner!=null&&this!=CPlayer.s_ballFastOwner){this.m_myTeam.computeFastRunPoint(this.m_Number,CPlayer.s_ballFastOwner.m_Number);this.runTo(CTeam.fastRunPointX,CTeam.fastRunPointY,true);break}this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true);break}else{if(!this.m_isFocus){break}if(Actor.s_ball_state==6){if(this.m_myTeam.m_state==-1&&this.m_myTeam.m_type==0){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,false);break}this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true);break}else{if(Actor.s_ball_state==0){if(!CPlayer.s_bIsThroughPass&&cGame.fastDistance(this.m_posX-Actor.s_football.m_destX,this.m_posY-Actor.s_football.m_destY)>this.m_speed){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,false);break}this.runTo(Actor.s_football.m_destX,Actor.s_football.m_destY,false);break}else{if((Actor.s_ball_state==1||Actor.s_ball_state==10)&&this.m_myTeam.m_state==-1&&Actor.s_football.m_posZ<16640&&this.m_disToBall<20480&&(Actor.s_ball_state==10||Actor.s_ball_state==1)&&Actor.s_ctrFutureBallFrame>5&&this.ballOverMeIn(-4)){this.runTo(Actor.s_football.m_posX,Actor.s_football.m_posY,true);break}break}}}break}},setBehavior:function(d){this.m_behavior=d;this.m_actionCycle=(this.m_behavior==0||this.m_behavior==1||this.m_behavior==23||this.m_behavior==24||this.m_behavior==33||this.m_behavior==34||this.m_behavior==37||this.m_behavior==39||this.m_behavior==61||this.m_behavior==57||this.m_behavior==32||this.m_behavior==56||this.m_behavior==93);var f=0;switch(d){case 0:if(this.m_Number==0){if(CTeam.s_kickPlayer==this&&CTeam.s_matchState!=0){f=10}else{if(CTeam.s_matchState==4){f=31}else{f=0}}}else{if(CTeam.s_matchState==0){f=10}else{if(CTeam.s_matchState==7){if(this.m_doHumanWallJump){f=286}else{f=10}}else{if(this.m_myTeam.m_ID==CTeam.s_kickTeamID&&this.m_Number==CTeam.s_kickPlayerID&&CTeam.s_period>=5&&CTeam.s_period!=12){f=((CTeam.s_matchState==3)?279:302)}else{f=10}}}}break;case 1:case 34:f=(this.m_withBall?310:0);break;case 119:f=208;break;case 2:case 3:if(this.m_withBall){f=108}break;case 4:case 5:if(!this.m_withBall){f=84;break}if(this.m_curAbilityTech==0){f=55;break}if(this.m_curAbilityTech==3){f=63;break}f=59;break;case 6:case 7:if(!this.m_withBall){f=81;break}if(this.m_curAbilityTech==0){f=72;break}if(this.m_curAbilityTech==3){f=78;break}f=75;break;case 8:case 9:f=122;break;case 29:case 30:if(this.m_curAbilityTech==0){f=141;break}if(this.m_curAbilityTech==3){f=151;break}f=146;break;case 10:if(this.m_curAbilityTech==0){f=126;break}if(this.m_curAbilityTech==3){f=136;break}f=131;break;case 150:f=158;break;case 11:if(this.m_myTeam.m_type==0&&CPlayer.s_power>=3){f=50;break}if(CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]!=this){f=50;break}f=25;break;case 12:f=35;break;case 13:f=((cGame.random(0,1)==0)?178:183);if(!this.m_destReached){f=183;break}break;case 14:f=163;break;case 15:f=173;this.m_slideTraceEffect=true;break;case 90:f=168;this.m_slideTraceEffect=true;break;case 16:f=213;break;case 46:f=277;break;case 17:f=223;break;case 18:if(this.m_outBallParam3>0){f=30;break}f=40;break;case 19:case 20:f=88;break;case 151:case 152:f=92;break;case 21:case 22:f=116;break;case 25:case 26:f=100;break;case 111:case 112:f=96;break;case 27:case 28:f=119;break;case 80:f=293;break;case 71:f=233;this.m_actionCycle=true;break;case 92:f=275;this.m_actionCycle=false;break;case 72:f=244;this.m_actionCycle=true;break;case 23:f=15;break;case 24:f=5;break;case 31:f=218;break;case 32:f=315;break;case 102:f=5;break;case 115:f=17;break;case 116:f=15;break;case 122:f=21;break;case 123:f=19;break;case 107:if(this.m_withBall){f=29;break}f=218;break;case 103:f=11;break;case 104:f=12;break;case 108:f=26;break;case 109:f=27;break;case 33:f=228;break;case 110:f=36;break;case 124:f=23;break;case 36:f=239;break;case 37:f=248;break;case 56:f=234;break;case 93:f=270;break;case 48:f=((cGame.random(0,3)==0)?265:267);break;case 49:f=260;break;case 50:f=188;break;case 35:f=253;break;case 54:f=232;break;case 55:f=230;break;case 38:f=246;break;case 51:f=269;break;case 39:f=302;break;case 40:f=67;break;case 57:f=257;break;case 47:f=156;break;case 53:f=255;break;case 60:f=193;break;case 61:f=198;break;case 63:f=203;break;case 118:f=281;break}if(this.m_Number==0&&this!=Actor.s_menuPlayer){if(this.m_withBall&&(d==0||d==1)){Actor.s_ball_heldbygk=false}var b=null;if((d>0&&d<100)||(CTeam.s_kickPlayer==this&&(d==0||d==125)&&CTeam.s_matchState!=0)){b=cGame.s_gameSprites[0];this.m_spriteID=0}else{if(d==107&&!this.m_withBall){b=cGame.s_gameSprites[0];this.m_spriteID=0}else{b=cGame.s_gameSprites[1];this.m_spriteID=1}}if(d>=150){b=cGame.s_gameSprites[0];this.m_spriteID=0}if(this.m_animationPlayer.GetSprite()!=b){this.m_mustChangeAction=true;this.m_animationPlayer.SetSprite(b)}}var c=this.m_currDir&7;var a=c>4;var e=true;switch(d){case 0:if(f==279){if(this.m_posY>0){a=!this.m_myTeam.m_leftSide}else{a=!this.m_myTeam.m_leftSide;f=280}c=0;break}if(a){c=8-c;break}break;case 1:case 10:case 11:case 12:case 14:case 15:case 16:case 17:case 18:case 23:case 24:case 29:case 30:case 31:case 32:case 34:case 36:case 37:case 39:case 40:case 49:case 50:case 56:case 60:case 61:case 63:case 90:case 93:case 119:case 150:if(a){c=8-c;break}break;case 107:if(this.m_withBall){if(this.m_currDir>6||this.m_currDir<=2){c=0}else{c=1}a=(this.m_posX>0);break}if(a){c=8-c;break}break;case 13:if(Actor.s_football.m_vY<0){if(c==6&&f==183){c=4}else{if(c==1||c==7){c^=2}}}else{if(Actor.s_football.m_vY>0&&(c==3||c==5)){c^=2}}if(a){c=8-c;break}break;case 2:a=false;break;case 3:c=(8-c&7);a=true;break;case 4:case 9:case 19:case 25:case 111:case 151:c>>=1;a=false;break;case 5:case 8:case 20:case 26:case 112:case 152:c=(4-(c>>1)&3);a=true;break;case 6:case 7:case 21:case 22:case 27:case 28:if(a){c=8-c>>1;break}c>>=1;break;case 103:case 104:c=0;a=(this.m_posX>0);break;case 80:c=((this.m_currDir!=2)?1:0);a=(this.m_currDir==6);break;case 46:if(this.m_posY>0){a=(this.m_posX>CTeam.s_kickToX)}else{a=(this.m_posX>CTeam.s_kickToX);f=278}c=0;break;case 33:case 35:case 38:case 48:case 53:case 92:a=(this.m_currDir>5||this.m_currDir<2);if(this.m_currDir>2&&this.m_currDir<7){c=1;break}c=0;break;case 102:case 115:case 116:case 122:case 123:if(this.m_currDir>6||this.m_currDir<2){c=0}else{c=1}a=(this.m_posX>0);break;case 47:c=((this.m_posY>=0)?1:0);a=(this.m_posX>0);break;case 55:c=((this.m_posY>=0)?1:0);a=(this.m_posX<0);break;case 71:c=0;a=(this.m_posX>0);break;case 54:c=0;a=(this.m_posX<0);break;case 51:c=0;break;case 72:c=0;a=true;break;case 57:c=0;a=false;if(this.m_currDir==2){f=258;break}if(this.m_currDir==6){f=259;break}if(this.m_currDir==0){f=257;a=true;break}break;case 109:if(a){++f}case 108:c=0;break;case 110:case 124:c=CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY);if(c>2&&c<6){++f}c=0;break;case 100:case 105:f=9;c=0;a=(this.m_posX>0);break;case 101:case 106:f=10;c=0;a=(this.m_posX>0);break;case 114:f=7;c=0;a=(this.m_posX>0);break;case 113:f=8;c=0;a=(this.m_posX>0);break;case 117:f=((this.m_myTeam.m_ID==0)?308:309);c=0;a=false;break;case 125:a=false;c=0;if(CTeam.s_matchState==5){if(this.m_posY<0){f=301;if(this.m_posX>0){a=true;break}break}else{f=299;if(this.m_posX>0){a=true;break}break}}else{if(CTeam.s_matchState!=6&&CTeam.s_matchState!=7){break}if(this.m_currDir>6||this.m_currDir<2){f=299}if(this.m_currDir==6||this.m_currDir==2){f=300}else{f=301}if(this.m_currDir>4){a=true;break}break}break;case 118:if(a){c=8-c;break}break;default:e=false;break}if(e){if(f==156){cGame.s_special_shoot=true}else{cGame.s_special_shoot=false}if(this.m_flipX!=a){this.m_mustChangeAction=true}this.m_flipX=a;this.setAction_dup_IZZ(f+c,this.m_mustChangeAction,this.m_actionCycle);this.m_mustChangeAction=false}},isInMyField:function(){return this.m_myTeam.m_leftSide?(this.m_posX<0):(this.m_posX>0)},posBehindMeBySide:function(a,b){return this.m_myTeam.m_leftSide?(a<this.m_posX):(a>this.m_posX)},posBehindMe:function(a,b){a-=this.m_posX;b-=this.m_posY;switch(this.m_currDir){case 0:return b>0;case 1:return b>a;case 2:return a<0;case 3:return b<-a;case 4:return b<0;case 5:return b<a;case 6:return a>0;case 7:return b>-a;default:return false}},posClockwiseOfMe:function(a,c,b){a-=this.m_posX;c-=this.m_posY;switch(b){case 0:return a>0;case 1:return c>-a;case 2:return c>0;case 3:return c>a;case 4:return a<0;case 5:return c<-a;case 6:return c<0;case 7:return c<a;default:return false}},isNeedFreekickAssit:function(){return this.m_gridX<14},myPosInAcrossingZone:function(){if(this.m_myTeam.m_leftSide){if(this.m_posX<CPlayer.ACCROSSING_ZONE_X<<8){return false}}else{if(this.m_posX>-CPlayer.ACCROSSING_ZONE_X<<8){return false}}if(this.m_posY>=CPlayer.ACCROSSING_ZONE_Y<<8||this.m_posY<=-CPlayer.ACCROSSING_ZONE_Y<<8){return true}return false},setOneTwoPlayer:function(){CPlayer.s_oneTwoPlayer[this.m_myTeam.m_ID]=this;CPlayer.s_oneTwoStartPointX[this.m_myTeam.m_ID]=this.m_posX;this.m_startToRunFor12=true;this.set_currState(1);this.set_nextState(1);this.m_actionOver=true;this.set_directDir(this.m_myTeam.convertDir(2))},updatePlayerEffect:function(){if(cGame.s_weather==1){if(this.m_behavior==15){var b=this.m_effectIndex*8;this.m_playerEffects[b+0]=15;var e=gloft.casttobyte(null);if(this.m_currDir==4){e=3}else{if(this.m_currDir==2||this.m_currDir==3||this.m_currDir==7){e=4}else{e=2}}this.m_playerEffects[b+1]=e;this.m_playerEffects[b+2]=gloft.casttobyte((cGame.s_gameSprites[15].GetAFrames(e)&255));this.m_playerEffects[b+3]=0;cGame.pos3DTo2D(this.m_posX,this.m_posY,this.m_posZ);this.m_playerEffects[b+4]=gloft.casttobyte((cGame.s_pos2Dx&255));this.m_playerEffects[b+4+1]=gloft.casttobyte((cGame.s_pos2Dx>>8&255));this.m_playerEffects[b+6]=gloft.casttobyte((cGame.s_pos2Dy&255));this.m_playerEffects[b+6+1]=gloft.casttobyte((cGame.s_pos2Dy>>8&255));this.m_effectIndex=(this.m_effectIndex+1)%4}else{if(this.m_ctrRainEffect++%4==0&&(this.m_vX!=0||this.m_vY!=0)){var b=this.m_effectIndex*8;this.m_playerEffects[b+0]=15;this.m_playerEffects[b+1]=6;this.m_playerEffects[b+2]=gloft.casttobyte((cGame.s_gameSprites[15].GetAFrames(6)&255));this.m_playerEffects[b+3]=0;cGame.pos3DTo2D(this.m_posX,this.m_posY,this.m_posZ);this.m_playerEffects[b+4]=gloft.casttobyte((cGame.s_pos2Dx&255));this.m_playerEffects[b+4+1]=gloft.casttobyte((cGame.s_pos2Dx>>8&255));this.m_playerEffects[b+6]=gloft.casttobyte((cGame.s_pos2Dy&255));this.m_playerEffects[b+6+1]=gloft.casttobyte((cGame.s_pos2Dy>>8&255));this.m_effectIndex=(this.m_effectIndex+1)%4}}}else{if(cGame.s_weather==2&&this.m_ctrRainEffect++%4==0&&(this.m_vX!=0||this.m_vY!=0)){var b=this.m_effectIndex*8;this.m_playerEffects[b+0]=15;this.m_playerEffects[b+1]=0;this.m_playerEffects[b+2]=gloft.casttobyte((cGame.s_gameSprites[15].GetAFrames(0)&255));this.m_playerEffects[b+3]=0;cGame.pos3DTo2D(this.m_posX,this.m_posY,this.m_posZ);this.m_playerEffects[b+4]=gloft.casttobyte((cGame.s_pos2Dx&255));this.m_playerEffects[b+4+1]=gloft.casttobyte((cGame.s_pos2Dx>>8&255));this.m_playerEffects[b+6]=gloft.casttobyte((cGame.s_pos2Dy&255));this.m_playerEffects[b+6+1]=gloft.casttobyte((cGame.s_pos2Dy>>8&255));this.m_effectIndex=(this.m_effectIndex+1)%4}}if(this.m_slideTraceEffect){this.m_slideTraceID=cGame.s_traceIndex++;if(cGame.s_traceIndex>=10){cGame.s_traceIndex=0}var b=this.m_slideTraceID*5;var a=0;var d=this.m_currDir&7;if(d>4){d=8-d;a|=64}cGame.s_slideTraceData[b]=(0+d|a);cGame.s_slideTraceData[b+1]=0;cGame.s_slideTraceData[b+4]=200;this.m_slideTraceEffect=false}if(this.m_slideTraceID>=0&&(this.m_behavior==15||this.m_behavior==90)){var b=this.m_slideTraceID*5;if(cGame.s_slideTraceData[b+1]<4){cGame.pos3DTo2D(this.m_posX,this.m_posY,this.m_posZ);cGame.s_slideTraceData[b+2]=cGame.s_pos2Dx;cGame.s_slideTraceData[b+3]=cGame.s_pos2Dy}}if(!this.m_inCamera){for(var c=0;c<4;++c){this.m_playerEffects[c*8]=-1}}},drawPlayerEffects:function(f,p,m){CPlayer.drawAlphaShadow(f,p,m,this.m_frameIndex,this.m_flipX);if(this.m_isReferee){return}if(this!=Actor.s_menuPlayer&&this.m_inCamera&&cGame.isPlayerInjured(this)){if(this==CTeam.s_potentialPlayer||this==CPlayer.s_focusPlayer){cGame.drawInjuredPlayerIcon(this,p,m-18)}else{cGame.drawInjuredPlayerIcon(this,p,m)}}for(var e=0;e<4;++e){var j=e*8;if(this.m_playerEffects[j+0]>=0){var o=cGame.s_gameSprites[this.m_playerEffects[j+0]];if(this.m_playerEffects[j+3]<this.m_playerEffects[j+2]){var c=this.m_playerEffects[j+1]&63;var k=(this.m_playerEffects[j+1]&192)>>6;var d=o;var a=c;var q=this.m_playerEffects;var h=j+3;var l=q[h];q[h]=gloft.casttobyte((l+1));d.PaintAFrame(f,a,l,(this.m_playerEffects[j+4]&255)+(this.m_playerEffects[j+4+1]<<8)-cGame.s_camX,(this.m_playerEffects[j+6]&255)+(this.m_playerEffects[j+6+1]<<8)-cGame.s_camY,k,0,0)}}}},setRefereePos:function(b,a){this.m_posX=b;this.m_posY=a;this.m_refereeLastX=this.m_posX},setRefereeAction:function(b,a){this.setAction_dup_IZ(b,a)},refereeTurn:function(a){this.set_currDir(a)},doRefereeOutSide:function(){this.m_vX=0;this.m_vY=0;this.setAction_dup_IZZ((this.m_referee_ID==0)?(CPlayer.s_outSideTeamLeft?24:25):(CPlayer.s_outSideTeamLeft?26:27),false,false);this.doRefereeStand(false);this.m_actionCycle=false},refereeOutSide:function(a){this.set_nextState(40);CPlayer.s_outSideTeamLeft=a},doRefereeOffside:function(){this.m_vX=0;this.m_vY=0;this.setAction_dup_IZZ((this.m_referee_ID==0)?30:31,false,false);this.doRefereeStand(false);this.m_actionCycle=false},refereeOffside:function(){this.set_nextState(42)},doRefereeCorner:function(){this.m_vX=0;this.m_vY=0;this.setAction_dup_IZZ((this.m_referee_ID==0)?28:29,false,false);this.doRefereeStand(false);this.m_actionCycle=false},refereeCorner:function(){if(cGame.fastDistance(((this.m_posX<0)?(-CPlayer.REFEREE_CORNER_POSX):CPlayer.REFEREE_CORNER_POSX)-this.m_posX,0)<=this.m_destRangeRadius){this.doRefereeStand(true);this.set_nextState((CTeam.s_matchState==5)?41:42);this.m_refereeArrive=true}else{this.refereeRunTo((this.m_posX<0)?(-CPlayer.REFEREE_CORNER_POSX):CPlayer.REFEREE_CORNER_POSX,this.m_posY)}},updateRefereeAI:function(){this.m_destRangeRadius=1024;if(CTeam.s_matchState==0||CTeam.s_matchState==3){var c=Actor.s_football.m_posX;var a=Actor.s_football.m_posX;var d=Actor.s_football.m_posY-5120;var b=Actor.s_football.m_posY+5120;this.m_refereeArrive=false;if(CTeam.s_matchState==3&&(CTeam.s_period==11||CTeam.s_period==5)&&CTeam.s_kickPlayer!=null){this.refereeRunTo((CTeam.s_kickPlayer.m_posX>this.m_posX)?(CTeam.s_kickPlayer.m_posX-3840):(CTeam.s_kickPlayer.m_posX+3840),this.m_posY)}else{this.refereeRunTo(CTeam.s_offsideLine[this.m_referee_ID],this.m_posY)}}else{if(CTeam.s_matchState==1){this.refereeRunTo(0,this.m_posY)}else{if(CTeam.s_matchState==5||CTeam.s_matchState==3||CTeam.s_matchState==4||CTeam.s_matchState==6){if((CTeam.s_matchState==5||CTeam.s_matchState==4)&&!this.m_refereeArrive){this.refereeCorner()}}else{this.doRefereeStand(true)}}}Label_0369:{switch(this.m_currState){case 0:case 1:if(!this.m_actionOver&&!this.m_actionCycle){break}switch(this.m_nextState){case 0:this.doRefereeStand(true);break Label_0369;case 1:this.doRefereeRun();break Label_0369;case 40:this.doRefereeOutSide();break Label_0369;case 42:this.doRefereeOffside();break Label_0369;case 41:this.doRefereeCorner();break Label_0369}break}}},refereeRunTo:function(a,e){if(this.m_nextState==40){return}var b=CPlayer.dirTo(a-this.m_posX,e-this.m_posY);var c=cGame.fastDistance(this.m_posX-a,this.m_posY-e);var d=CPlayer.dirDifference(this.m_currDir,b);if(c>1024){this.set_nextDir(b)}this.set_nextState(1);this.m_param1=a;this.m_param2=e;this.m_param3=((c<3840)?1:0);if(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY)<=this.m_destRangeRadius){this.m_destReached=true;this.m_vX=0;this.m_vY=0}else{this.m_destReached=(java.lang.Math.abs(this.m_param1-(this.m_posX+this.m_vX))+java.lang.Math.abs(this.m_param2-(this.m_posY+this.m_vY))>java.lang.Math.abs(this.m_param1-this.m_posX)+java.lang.Math.abs(this.m_param2-this.m_posY))}if(this.m_destReached){if(CTeam.s_matchState==5||CTeam.s_matchState==4){this.set_nextState((CTeam.s_matchState==5)?41:42);this.m_actionOver=true;this.m_refereeArrive=true}else{this.doRefereeStand(true)}return}if(c<2560&&CTeam.s_matchState==0){this.m_destReached=true;this.doRefereeStand(false);return}if(this.m_param1>135168||this.m_param1<-135168||this.m_param2>86272||this.m_param2<-86272){}this.m_param3=((c<6400)?1:0);this.m_destReached=false;this.m_destChanged=true;this.m_waitEndsTick=0},doRefereeStand:function(a){if(a){this.m_vX=0;this.set_currState(this.m_vY=0);this.set_nextState(0);this.set_nextDir(this.m_currDir);this.m_mustChangeAction=true;this.m_destReached=false;this.setRefereeAction((this.m_referee_ID==0)?14:15,a);this.m_actionCycle=true}else{this.set_nextState(0)}},doRefereeRun:function(){if(this.m_nextState==40){return}if(java.lang.Math.abs(this.m_param1)>135168){this.m_param1=((this.m_param1>0)?5:-135168)}var b=CPlayer.dirTo(this.m_param1-this.m_posX,this.m_param2-this.m_posY);var e=cGame.fastDistance(this.m_posX-this.m_param1,this.m_posY-this.m_param2);var f=CPlayer.dirDifference(this.m_currDir,b);if(e>1024){this.m_nextDir=b}if(cGame.fastDistance(this.m_param1-this.m_posX,this.m_param2-this.m_posY)<=this.m_destRangeRadius){this.m_destReached=true;this.m_posX=this.m_param1;this.m_posY=this.m_param2}else{this.m_destReached=(java.lang.Math.abs(this.m_param1-(this.m_posX+this.m_vX))+java.lang.Math.abs(this.m_param2-(this.m_posY+this.m_vY))>java.lang.Math.abs(this.m_param1-this.m_posX)+java.lang.Math.abs(this.m_param2-this.m_posY))}if(this.m_destReached){if(CTeam.s_matchState==5||CTeam.s_matchState==4){this.set_nextState((CTeam.s_matchState==5)?41:42);this.m_actionOver=true;this.m_refereeArrive=true}else{this.doRefereeStand(false)}return}var c=-1;if(this.m_destChanged){c=((this.m_param3==1)?(CPlayer.BASIC_SPEED>>1):CPlayer.BASIC_SPEED);CPlayer.parseVector_dup_III(c,this.m_param1-this.m_posX,this.m_param2-this.m_posY);this.m_destChanged=false}if(this.m_param3==1){this.setRefereeAction((this.m_param1>this.m_posX)?((this.m_referee_ID==0)?20:22):((this.m_referee_ID==0)?21:23),true)}else{this.setRefereeAction((this.m_param1>this.m_posX)?16:17,true)}this.m_actionCycle=true;if(c!=-1){this.m_destRangeRadius=(c>>1)+256;this.m_vX=CPlayer.s_vectorX;this.m_vY=CPlayer.s_vectorY;var d=cGame.screenDistance(this.m_vX,this.m_vY);if(d!=0){var a=c*256>>8;this.m_vX=gloft.casttoint(this.m_vX*a/d);this.m_vY=gloft.casttoint(this.m_vY*a/d);this.m_destRangeRadius=gloft.casttoint(this.m_destRangeRadius*a/d)}this.m_vXToGet=this.m_vX;this.m_vYToGet=this.m_vY}this.set_currState(1);this.set_nextState(1)},doRefereeTurn:function(){var a=CPlayer.dirDifference(this.m_currDir,this.m_nextDir);if(a!=1&&a!=-1){this.m_vX=0;this.m_vY=0}switch(a){case 2:this.setRefereeAction((this.m_referee_ID==0)?18:19,true);break;case -2:this.setRefereeAction((this.m_referee_ID==0)?18:19,true);break;case 4:this.setRefereeAction((this.m_referee_ID==0)?18:19,true);break}this.set_currDir(this.m_currDir+a&7)},updateRefereePos:function(){if(CTeam.s_matchState!=0){return}Actor.s_side_referee[Actor.T_REFEREE].m_posX=CTeam.s_offsideLine[Actor.T_REFEREE];Actor.s_side_referee[Actor.B_REFEREE].m_posX=CTeam.s_offsideLine[Actor.B_REFEREE]},});CPlayer.GOALKEEPER=0;CPlayer.DEFENDER=1;CPlayer.MIDFIELDER=2;CPlayer.ATTACKER=3;CPlayer.DEBUG_STAND=false;CPlayer.DEBUG_GK=false;CPlayer.PLAYER_STATICS_NUMER=15;CPlayer.CHARACTER_NORMAL=0;CPlayer.CHARACTER_DRIBBLER=1;CPlayer.CHARACTER_LONG_PASSER=2;CPlayer.CHARACTER_SHORT_PASSER=3;CPlayer.CHARACTER_DIRECT_PASSER=4;CPlayer.STAR_ABILITY_INSTINCTIVE_SHOOTER=1;CPlayer.STAR_ABILITY_CURVE_KICKER=2;CPlayer.STAR_ABILITY_POWERFUL_SHOOTER=4;CPlayer.STAR_ABILITY_GOOD_PASSER=8;CPlayer.STAR_ABILITY_TALENT_DRIBBLER=16;CPlayer.STAR_ABILITY_IMPASSABLE_DEFENDER=32;CPlayer.STAR_ABILITY_UNTIRED_PLAYER=64;CPlayer.STAR_ABILITY_GREAT_STOPPER=128;CPlayer.STAR_ABILITY_SPEEDSTER=256;CPlayer.STAR_ABILITY_FK_SPECIALIST=512;CPlayer.STAR_ABILITY_PENALTY_KICKER=1024;CPlayer.STAR_ABILITY_CAPTAINCY=2048;CPlayer.STAR_ABILITY_GLASS_MAN=4096;CPlayer.STAR_ABILITY_IRON_MAN=8192;CPlayer.STAR_ABILITY_LONG_KICK_GK=16384;CPlayer.STAR_ABILITY_LONG_THROW_GK=32768;CPlayer.STAR_ABILITY_TIGHT_MARKING=65536;CPlayer.STAR_ABILITY_CROSSER=131072;CPlayer.STAR_ABILITY_LONG_BALL_EXPERT=262144;CPlayer.STAR_ABILITY_PLAYMAKER=524288;CPlayer.STAR_ABILITY_FINESSE_SHOT=1048576;CPlayer.BASIC_REACTION=2;CPlayer.BASIC_INACCURACY=256;CPlayer.BASIC_CONTROLRANGE=3840;CPlayer.BASIC_HANDLING=2560;CPlayer.BASIC_BLOCKRANGE=256;CPlayer.BASIC_SPEED=gloft.casttoint(null);CPlayer.BASIC_SPEED_DEFAULT=1170;CPlayer.REACTION_DIFFERENCE=2;CPlayer.SPEED_DIFFERENCE=gloft.casttoint(null);CPlayer.SPEED_DIFFERENCE_DEFAULT=64;CPlayer.INACCURACY_DIFFERENCE=768;CPlayer.CONTROLRANGE_DIFFERENCE=512;CPlayer.HANDLING_DIFFERENCE=384;CPlayer.BLOCKRANGE_DIFFERENCE=256;CPlayer.SPEED_VAR=null;CPlayer.WASTING_SPEED=gloft.casttoint(null);CPlayer.WASTING_SPEED_DEFAULT=132;CPlayer.FAST_SPEED_MULTIPLIER=gloft.casttoint(null);CPlayer.FAST_SPEED_MULTIPLIER_DEFAULT=20;CPlayer.FAST_BALL_SPEED_MULTIPLIER=gloft.casttoint(null);CPlayer.FAST_BALL_SPEED_MULTIPLIER_DEFAULT=20;CPlayer.ON_COURT=0;CPlayer.OFF_COURT=1;CPlayer.MAX_PLAYERTOUCHRECT=5;CPlayer.s_tempAbility=null;CPlayer.MAX_SPEED=gloft.casttoint(null);CPlayer.MAX_REACTION=2;CPlayer.MAX_HANDLING=2560;CPlayer.MAX_BLOCKRANGE=256;CPlayer.MAX_INACCURACY=256;CPlayer.MAX_CONTROLRANGE=5376;CPlayer.DB_ABILITY_LEVEL_MIN=0;CPlayer.DB_ABILITY_LEVEL_MAX=3;CPlayer.DB_ABILITY_LEVELS=4;CPlayer.ABILITY_HIGH=0;CPlayer.ABILITY_MIDDLE_HIGH=1;CPlayer.ABILITY_MIDDLE_LOW=2;CPlayer.ABILITY_LOW=3;CPlayer.ABILITY_KEEP=0;CPlayer.ABILITY_INCREASE=1;CPlayer.ABILITY_DECREASE=-1;CPlayer.ABILITY_DECREASE_DOUBLE=-2;CPlayer.ABILITY_TOMAX=4;CPlayer.ABILITY_TOMIN=-4;CPlayer.FATIGUE_INIT=0;CPlayer.FATIGUE_90MIN_UNTIRED=30;CPlayer.FATIGUE_90MIN_GK=40;CPlayer.FATIGUE_90MIN_DF=50;CPlayer.FATIGUE_90MIN_MF=60;CPlayer.FATIGUE_90MIN_FW=70;CPlayer.FATIGUE_LIMIT1=600;CPlayer.FATIGUE_LIMIT2=700;CPlayer.FATIGUE_LIMIT3=900;CPlayer.SIDE_LEFT=1;CPlayer.SIDE_LEFTCENTER=2;CPlayer.SIDE_CENTER=3;CPlayer.SIDE_RIGHT=4;CPlayer.SIDE_RIGHTCENTER=5;CPlayer.INFO_POS=0;CPlayer.INFO_SPEED=1;CPlayer.INFO_SHOVED=2;CPlayer.INFO_RECEIVER=3;CPlayer.INFO_ACCELERATION=4;CPlayer.INFO_STATE=5;CPlayer.INFO_TOWARD=6;CPlayer.INFO_TAC_STATE=7;CPlayer.INFO_NUMBER=8;CPlayer.INFO_COMMAND=9;CPlayer.INFO_FATIGUE=10;CPlayer.SIDE_INFO_TABLE=null;CPlayer.ROLE_CB=0;CPlayer.ROLE_SB=1;CPlayer.ROLE_CM=2;CPlayer.ROLE_SM=3;CPlayer.ROLE_CF=4;CPlayer.ROLE_GK=5;CPlayer.GK_FAST_RUN_DISTANCE=9216;CPlayer.RUN_BACK_FRAMES=3;CPlayer.my_destReached=gloft.casttoboolean(null);CPlayer.my_destChanged=gloft.casttoboolean(null);CPlayer.PASS_MIN_DISTANCE=12288;CPlayer.PASS_MAX_DISTANCE=49152;CPlayer.PASS_MIN_LIMIT=6144;CPlayer.PASS_MAX_LIMIT=98304;CPlayer.PASS_DEFAULT_DISTANCE=25600;CPlayer.s_bIsThroughPass=gloft.casttoboolean(null);CPlayer.s_chaseBallPercent=gloft.casttoint(null);CPlayer.s_bIsPreDecision=gloft.casttoboolean(null);CPlayer.s_cpuNeedThrough=gloft.casttoboolean(null);CPlayer.THROUGH_PASS_AHEADX=25600;CPlayer.s_throughPass=gloft.casttoboolean(null);CPlayer.PSS_GRID_WIDTH=10;CPlayer.s_pass_grid=null;CPlayer.s_passGridX=gloft.casttoint(null);CPlayer.s_passGridY=gloft.casttoint(null);CPlayer.s_orgGridX=gloft.casttoint(null);CPlayer.s_orgGridY=gloft.casttoint(null);CPlayer.s_passFromGridY=gloft.casttoint(null);CPlayer.s_passFromGridX=gloft.casttoint(null);CPlayer.s_offsetDir=gloft.casttoint(null);CPlayer.s_orgX=gloft.casttoint(null);CPlayer.s_orgY=gloft.casttoint(null);CPlayer.s_passToX=gloft.casttoint(null);CPlayer.s_passToY=gloft.casttoint(null);CPlayer.s_blockPlayerPos=null;CPlayer.s_blockPlayerMirrorPos=null;CPlayer.s_isBlock=null;CPlayer.s_blockPlayerArrayIndex=gloft.casttoint(null);CPlayer.s_passFromY=gloft.casttoint(null);CPlayer.s_passFromX=gloft.casttoint(null);CPlayer.LONGPASS_MIN_DISTANCE=30720;CPlayer.LONGPASS_MAX_DISTANCE=122880;CPlayer.LONGPASS_DEFAULT_DISTANCE=76800;CPlayer.LONGPASS_DEST_HEIGHT=5120;CPlayer.s_longpass_extend=gloft.casttoboolean(null);CPlayer.k_FK_SOOT_START_Z=10240;CPlayer.SHOOT_MAX_HEIGHT=gloft.casttoint(null);CPlayer.SHOOT_MAX_HEIGHT_DEFAULT=gloft.casttoint(null);CPlayer.SHOOT_DRIVE_HEIGHT=gloft.casttoint(null);CPlayer.SHOOT_MAX_DISTANCE=102400;CPlayer.SHOOT_FORWARD_ADJUST=51200;CPlayer.SHOOT_POWER_ADJUST=10240;CPlayer.RATIO_180_SHOOT=60;CPlayer.RATIO_135_SHOOT=70;CPlayer.RATIO_90_SHOOT=80;CPlayer.BC_SHOOT_POWER_MIN=null;CPlayer.BC_SHOOT_POWER_MAX=null;CPlayer.BC_SHOOT_POWER_MIN_CPU=null;CPlayer.BC_SHOOT_POWER_MAX_CPU=null;CPlayer.BC_SHOOT_ACCURATE_PERSENT=null;CPlayer.BC_SHOOT_ACCURATE_PERSENT_CPU=null;CPlayer.s_shootDir=gloft.casttoint(null);CPlayer.s_shootToX=gloft.casttoint(null);CPlayer.s_shootToY=gloft.casttoint(null);CPlayer.s_shootToZ=gloft.casttoint(null);CPlayer.s_shootFromX=gloft.casttoint(null);CPlayer.s_shootFromY=gloft.casttoint(null);CPlayer.s_shootFromZ=gloft.casttoint(null);CPlayer.EMOTION_WIN_RUN=1;CPlayer.EMOTION_WIN_NORMAL=2;CPlayer.EMOTION_WIN_EXTREME=3;CPlayer.EMOTION_WIN_EXTREME2=4;CPlayer.EMOTION_LOSE_POSE=5;CPlayer.EMOTION_LOSE_CRY=6;CPlayer.EMOTION_STAND02=7;CPlayer.EMOTION_LOSE_ANGRY=8;CPlayer.EMOTION_INJURE=11;CPlayer.EMOTION_WIN_FLIP=12;CPlayer.EMOTION_WIN_JUMP=13;CPlayer.EMOTION_SAMBA=14;CPlayer.EMOTION_SHOOTGUN=16;CPlayer.EMOTION_CELEBRATE_WITH_COACH=17;CPlayer.EMOTION_WALK=19;CPlayer.EMOTION_RUN_SLOWLY=20;CPlayer.EMOTION_UPSET=21;CPlayer.EMOTION_LOSE_WALK=22;CPlayer.EMOTION_GK_SLAP=23;CPlayer.EMOTION_BOLT=24;CPlayer.EMOTION_FLY=25;CPlayer.PLAYER_BALL_DISTANCE=1280;CPlayer.PLAYER_BALL_DISTANCE_CARRIED=1280;CPlayer.PLAYER_DEST_DISTANCE=1024;CPlayer.PLAYER_MOVE_DISTANCE=12800;CPlayer.GK_MOVE_DISTANCE=25600;CPlayer.PLAYER_PLAYER_DISTANCE=2048;CPlayer.PLAYER_TRAP_DYNAMIC_DISTANCE=4608;CPlayer.PLAYER_TRAP_STATIC_DISTANCE=2560;CPlayer.PLAYER_TRAP_HIGH_DISTANCE=1536;CPlayer.PLAYER_CHEST_CONTROL_DISTANCE=2560;CPlayer.PLAYER_GETANDPASS_DISTANCE=10240;CPlayer.PLAYER_PASS_HEIGHT=10240;CPlayer.PLAYER_TRAP_OUT_HEIGHT=14080;CPlayer.PLAYER_HEAD_HEIGHT=20480;CPlayer.PLAYER_BIKE_HEIGHT=17920;CPlayer.PLAYER_TRAP_HEIGHT=16640;CPlayer.PLAYER_DIVE_HEIGHT=16640;CPlayer.PLAYER_THROWIN_HEIGHT=20480;CPlayer.PLAYER_PICKUP_DISTANCE=4608;CPlayer.PLAYER_PICKUP_HEIGHT=3072;CPlayer.PLAYER_SLIDETACKLE_DISTANCE=4352;CPlayer.PLAYER_SLIDETACKLE_SPEED=768;CPlayer.BALL_OUT_DISTANCE=5120;CPlayer.FREEKICK_ASSIT_BALL_DISTANCE=2048;CPlayer.OUTBALL_DIRECT_MAX_DISTANCE=30720;CPlayer.PLAYER_DIVE_DISTANCE=6400;CPlayer.FAST_PLAYER_STAGGER_DISTANCE=3840;CPlayer.ST_NONE=-1;CPlayer.ST_STAND=0;CPlayer.ST_RUN=1;CPlayer.ST_PASS=2;CPlayer.ST_LONGPASS=3;CPlayer.ST_SHOOT=4;CPlayer.ST_TACKLE=5;CPlayer.ST_SLIDETACKLE=6;CPlayer.ST_SAVEBALL=7;CPlayer.ST_STANDWITHBALL=8;CPlayer.ST_FOOL=9;CPlayer.ST_INERTIA=10;CPlayer.ST_EMOTION=11;CPlayer.ST_GETTING_UP=12;CPlayer.ST_FEINT=13;CPlayer.ST_CHEST_CONTRL=14;CPlayer.ST_DODGE=15;CPlayer.ID_NONE=-1;CPlayer.ID_TRACEPLAYER=0;CPlayer.ID_TRACEBALL=1;CPlayer.ID_GOPOS=2;CPlayer.ID_DEFEND=3;CPlayer.ID_LOB=4;CPlayer.ID_DESTORY=5;CPlayer.s_doDirectTurn=gloft.casttoboolean(null);CPlayer.PA_RUN_TO_POINT=0;CPlayer.PA_MOVE_TO_POINT=1;CPlayer.PA_BACK_TO_POINT=2;CPlayer.PA_RUN_ON_DIR=3;CPlayer.PA_MOVE_ON_DIR=4;CPlayer.PA_BACK_ON_DIR=5;CPlayer.PA_FAST_ON_DIR=7;CPlayer.PA_FAST_RUN_TO_POINT=8;CPlayer.CURSOR_ACTIVE_ZONE=10;CPlayer.s_bDebugAcceleration=false;CPlayer.ACCELERATE_STEP_MY_RUN=gloft.casttoint(null);CPlayer.MAX_RUNNING_TICKS=3;CPlayer.s_speedRate=gloft.casttoint(null);CPlayer.RUN_SPEED_RATE=null;CPlayer.s_shoveLostBall=gloft.casttoboolean(null);CPlayer.s_extraRun=gloft.casttoboolean(null);CPlayer.s_extraRunFrame=gloft.casttoint(null);CPlayer.s_extraRunDuration=gloft.casttoint(null);CPlayer.s_lostBallPlayer=null;CPlayer.s_shoveBallPlayer=null;CPlayer.s_loseBall_tick=gloft.casttolong(null);CPlayer.TURN_FAST_NONE=-1;CPlayer.TURN_FAST_90_NORMAL=0;CPlayer.TURN_FAST_135_NORMAL=1;CPlayer.TURN_FAST_180_NORMAL=2;CPlayer.TURN_FAST_135_FAST=3;CPlayer.TURN_FAST_180_FAST=4;CPlayer.s_foulTick=gloft.casttolong(null);CPlayer.FOUL_DURATION=1890;CPlayer.s_curCardFoul=gloft.casttoint(null);CPlayer.WIN_EXTREME_DURATION=20;CPlayer.WIN_EXTREME2_DURATION=20;CPlayer.WIN_FLIP_DURATION=15;CPlayer.WIN_JUMP_DURATION=15;CPlayer.BICYLE_FRAMES=12;CPlayer.FEINT_STYLE_1=0;CPlayer.FEINT_STYLE_2=1;CPlayer.FEINT_STYLE_4=3;CPlayer.TRANSVERSE_FRAMES=12;CPlayer.SLIDE_SHOOT_KEYFRAME_ID=2;CPlayer.SLIDE_SHOOT_KEYFRAME_DUR=5;CPlayer.DIVE_KEYFRAME_ID=1;CPlayer.DIVE_KEYFRAME_DUR=3;CPlayer.SPECIAL_DIRECT_NONE=0;CPlayer.SPECIAL_DIRECT_SLIDE=1;CPlayer.SPECIAL_DIRECT_DIVE=2;CPlayer.TRAP_STATIC_BALL_DURATION=2;CPlayer.PLAYER_CHEST_TRAP_HEIGHT=6;CPlayer.s_fastRunShoot=gloft.casttoboolean(null);CPlayer.s_bGKKickout=gloft.casttoboolean(null);CPlayer.s_ballTackledOutBy=null;CPlayer.s_tackleFail=gloft.casttoboolean(null);CPlayer.MAX_Y_AHEAD_AMOUNT=40;CPlayer.MAX_X_AHEAD_AMOUNT=200;CPlayer.BLANK_AREA_EDGE=7680;CPlayer.s_passPointX=gloft.casttoint(null);CPlayer.s_passPointY=gloft.casttoint(null);CPlayer.s_passPlayerNumber=gloft.casttoint(null);CPlayer.s_touchPlayerNumber=gloft.casttoint(null);CPlayer.PS_PASS=0;CPlayer.PS_LONGPASS=1;CPlayer.PS_LONGPASS_HUMAN_POWER=2;CPlayer.PS_LONGPASS_MAX_POWER=3;CPlayer.PS_PASS_FIND_PLAYER_ONLY=4;CPlayer.PS_LONGPASS_HUMAN_FIND_PLAYER_IN_DIR=5;CPlayer.PS_LONGPASS_FIND_PLAYER_ONLY=6;CPlayer.PS_FIND_NEAR_POTENTIAL_PLAYER=7;CPlayer.PS_FIND_FAR_POTENTIAL_PLAYER=8;CPlayer.PS_FIND_SAFE_PLAYER=9;CPlayer.s_longPassPointX=gloft.casttoint(null);CPlayer.s_longPassPointY=gloft.casttoint(null);CPlayer.s_longPassPlayerNumber=gloft.casttoint(null);CPlayer.s_longPassByPosPointX=gloft.casttoint(null);CPlayer.s_longPassByPosPointY=gloft.casttoint(null);CPlayer.s_longPassByPosPlayerNumber=gloft.casttoint(null);CPlayer.SHOOT_MUST_SCORE_X=gloft.casttoint(null);CPlayer.SHOOT_MUST_SCORE_Y=gloft.casttoint(null);CPlayer.CPU_SHOOT_MUST_SCORE_X=gloft.casttoint(null);CPlayer.CPU_SHOOT_MUST_SCORE_Y=gloft.casttoint(null);CPlayer.SHOOT_LINE_LIMIT=gloft.casttoint(null);CPlayer.SHOOT_MAX_HALF_RANGE=gloft.casttoint(null);CPlayer.SHOOT_MIN_HALF_RANGE=null;CPlayer.s_shootMinY=gloft.casttoint(null);CPlayer.s_shootMaxY=gloft.casttoint(null);CPlayer.s_bDebugShove=false;CPlayer.REDUCE_SPEED_DISTANCE=gloft.casttoint(null);CPlayer.KEEP_SPEED_DISTANCE=3840;CPlayer.SHOVE_DISTANCE=1536;CPlayer.s_competitorStrong=null;CPlayer.s_competitorWeak=null;CPlayer.MAX_CONTINUOUS_BC_TIME=gloft.casttoint(null);CPlayer.BASIC_CONTINUOUS_BC_REDUCE_BODY=gloft.casttoint(null);CPlayer.BC_PASS_SPEED_REDUCE=gloft.casttoint(null);CPlayer.MOST_SHOVE_FRAMES=15;CPlayer.BC_DIS_DRILLBE_TEMP=gloft.casttoint(null);CPlayer.BC_DIS_DEFEND_TEMP=gloft.casttoint(null);CPlayer.BC_DIS_REDUCE=null;CPlayer.BC_DIS_ADD=null;CPlayer.s_haveCompetition=gloft.casttoboolean(null);CPlayer.s_haveOverLop=gloft.casttoboolean(null);CPlayer.s_reduceSpeed=gloft.casttoboolean(null);CPlayer.s_reduceSpeedFinished=gloft.casttoboolean(null);CPlayer.s_keepSpeed=gloft.casttoboolean(null);CPlayer.s_shoveAll=gloft.casttoboolean(null);CPlayer.s_speedReduced=gloft.casttoboolean(null);CPlayer.s_speedReducedFrame=gloft.casttoint(null);CPlayer.s_speedReducedFrameStep=gloft.casttoint(null);CPlayer.REDUCE_FRAME=gloft.casttoint(null);CPlayer.STABLE_FRAME=gloft.casttoint(null);CPlayer.STABLE_FRAME_NEW=null;CPlayer.INCREASE_FRAME=gloft.casttoint(null);CPlayer.TOTAL_FRAME=gloft.casttoint(null);CPlayer.reduce_speed_base=gloft.casttoint(null);CPlayer.REDUCE_SPEED_NONE=0;CPlayer.REDUCE_SPEED_IN_FRAME=1;CPlayer.REDUCE_SPEED_IN_FRAME_ONEPLAYER=2;CPlayer.speedAdjustType=gloft.casttoint(null);CPlayer.s_savePointX=gloft.casttoint(null);CPlayer.s_savePointY=gloft.casttoint(null);CPlayer.s_savePointZ=gloft.casttoint(null);CPlayer.s_saveTick=gloft.casttoint(null);CPlayer.s_saveMin=gloft.casttoint(null);CPlayer.SAVE_BEGIN_FRAME=5;CPlayer.SAVE_BALL_SPEED=4096;CPlayer.SAVE_SIDE_SPEED=512;CPlayer.SAVE_JUMP_SPEED=768;CPlayer.STAND_BLOCK_WIDTH=22;CPlayer.STAND_BLOCK_HEIGHT=35;CPlayer.STAND_BLOCK_UP_HEIGHT=80;CPlayer.SIDE_BLOCK_WIDTH=63;CPlayer.SIDE_BLOCK_HEIGHT=63;CPlayer.JUMP_BLOCK_WIDTH=84;CPlayer.JUMP_BLOCK_HEIGHT=100;CPlayer.MID_BLOCK_HEIGHT=75;CPlayer.Ball_Speed_when_save_db=gloft.casttoint(null);CPlayer.BALL_SPEED_DIFFERENCE=512;CPlayer.GK_SAVE_SIDE_DOWN_STOP_FRAME_ID=4;CPlayer.GK_SAVE_MID_JUMP_STOP_FRAME_ID=5;CPlayer.GK_SAVE_HIGH_JUMP_STOP_FRAME_ID=6;CPlayer.GK_DIVE_DIST=15360;CPlayer.GK_SAVE_DIST=7680;CPlayer.GK_GETBALL_DIST=4608;CPlayer.GK_SAVE_LOB_DELAY=11;CPlayer.s_save_speed_add=gloft.casttoint(null);CPlayer.s_GKPickingUpBall=gloft.casttoboolean(null);CPlayer.THROW_OUT_MAX_DISTANCE=102400;CPlayer.THROW_OUT_MIN_DISTANCE=76800;CPlayer.THROW_OUT_DEFAULT_DISTANCE=89600;CPlayer.m_focusTickCounter=gloft.casttolong(null);CPlayer.s_focusPlayer=null;CPlayer.s_controlPlayer=null;CPlayer.s_player=null;CPlayer.s_legendPlayer=null;CPlayer.s_bAskForBall=gloft.casttoboolean(null);CPlayer.s_legendPlayerNumber=gloft.casttoint(null);CPlayer.s_legendPlayerGetBallTime=gloft.casttoint(null);CPlayer.s_radar=gloft.casttoint(null);CPlayer.RD_NONE=0;CPlayer.RD_PASS=1;CPlayer.RD_LONGPASS_POWER=2;CPlayer.RD_SHOOT_POWER=3;CPlayer.RD_STAND=4;CPlayer.RD_PASS_POWER=5;CPlayer.RD_CORNERKICK_POWER=7;CPlayer.CORNERKICK_MAX_POWER=12;CPlayer.s_RunToStandStep=gloft.casttoint(null);CPlayer.RunToStandStepMax=8;CPlayer.s_powerForHitBar=gloft.casttoint(null);CPlayer.s_powerincreaseForHitBar=gloft.casttoint(null);CPlayer.HITBAR_MAX_POWER=48;CPlayer.s_power=gloft.casttoint(null);CPlayer.s_powerLastHitbarShoot=gloft.casttoint(null);CPlayer.s_radarPower=gloft.casttoint(null);CPlayer.LONGPASS_MIN_POWER=4;CPlayer.LONGPASS_MAX_POWER=12;CPlayer.SHOOT_MIN_POWER=1;CPlayer.SHOOT_MAX_POWER=12;CPlayer.FREEKICK_SHOOT_MAX_POWER=10;CPlayer.PASS_MIN_POWER=0;CPlayer.THROWPASS_MIN_POWER=3;CPlayer.PASS_MAX_POWER=12;CPlayer.RD_FEINT=6;CPlayer.FEINT_CLEAR=0;CPlayer.FEINT_HOLD=1;CPlayer.FEINT_PRESSED=2;CPlayer.FEINT_RELEASED=3;CPlayer.RD_PREFEINT=9;CPlayer.s_preFeintStyle=gloft.casttoint(null);CPlayer.s_powerDisappearTime=gloft.casttolong(null);CPlayer.POWER_APPEAR_DURATION=15;CPlayer.CORNERKICK_MAX_DISTANCE=148480;CPlayer.CORNERKICK_DISTANCE_PER_POWER=12373;CPlayer.LONGPASS_DISTANCE_PER_POWER=10240;CPlayer.HOLD_PAD_TICKS=10;CPlayer.s_lastPadTick=null;CPlayer.s_lastPadDir=null;CPlayer.s_lastInputDir=null;CPlayer.DRIBBLE_NORMAL=0;CPlayer.DRIBBLE_PUSHBALL=1;CPlayer.DRIBBLE_PUSHBALL_STOP=2;CPlayer.s_debug_value=gloft.casttoint(null);CPlayer.s_bGoingToTackle=gloft.casttoboolean(null);CPlayer.s_bDoneTackle=gloft.casttoboolean(null);CPlayer.s_bGoingPress=gloft.casttoboolean(null);CPlayer.s_bGoingToThroughPass=gloft.casttoboolean(null);CPlayer.s_autoDefend=gloft.casttoint(null);CPlayer.s_inputDir=gloft.casttoint(null);CPlayer.DEFEND_AUTO=gloft.casttoint(null);CPlayer.DEFEND_MANUAL=gloft.casttoint(null);CPlayer.DEFEND_HELP_AUTO=gloft.casttoint(null);CPlayer.s_arrivedInFastRun=gloft.casttoboolean(null);CPlayer.s_ignoreInput=gloft.casttoint(null);CPlayer.s_bDebugCenterPass=false;CPlayer.tacArray=null;CPlayer.s_ballOwner=null;CPlayer.s_ballLastOwner=null;CPlayer.s_ballFastOwner=null;CPlayer.s_shootPlayer=null;CPlayer.s_ballLastPlayer=null;CPlayer.s_ctrWithBall=gloft.casttoint(null);CPlayer.s_ctrWithoutBall=gloft.casttoint(null);CPlayer.s_lastAsistPlayer=null;CPlayer.s_getBallPlayer=null;CPlayer.s_ballLastOwnerEverDefend=null;CPlayer.s_ballReceiver=null;CPlayer.BR_NONE=0;CPlayer.BR_START=1;CPlayer.BR_RUN_TO_DEST=2;CPlayer.BR_TURN_TO_BALL=3;CPlayer.BR_WAIT=4;CPlayer.BR_URGENTTRAP=5;CPlayer.s_rcvPointIndex=gloft.casttoint(null);CPlayer.RCV_POINT_ARRAY=null;CPlayer.s_potentialOffsidePlayer=null;CPlayer.s_runFrame=gloft.casttoint(null);CPlayer.BE_STAND=0;CPlayer.BE_RUN=1;CPlayer.BE_TURN45_LEFT=2;CPlayer.BE_TURN45_RIGHT=3;CPlayer.BE_TURN90_LEFT=4;CPlayer.BE_TURN90_RIGHT=5;CPlayer.BE_TURN180_LEFT=6;CPlayer.BE_TURN180_RIGHT=7;CPlayer.BE_TURN180_FAST_LEFT=8;CPlayer.BE_TURN180_FAST_RIGHT=9;CPlayer.BE_RUN_FAST=32;CPlayer.BE_TRAP=29;CPlayer.BE_TRAP_RUNSTOP=30;CPlayer.BE_TRAP_HIGH=10;CPlayer.BE_PASS=11;CPlayer.BE_LONGPASS=12;CPlayer.BE_HEAD=13;CPlayer.BE_TACKLE=14;CPlayer.BE_SLIDETACKLE=15;CPlayer.BE_STAGGER=16;CPlayer.BE_TUMBLE=17;CPlayer.BE_SHOOT=18;CPlayer.BE_PASS_TURN90_LEFT=19;CPlayer.BE_PASS_TURN90_RIGHT=20;CPlayer.BE_PASS_TURN180_LEFT=21;CPlayer.BE_PASS_TURN180_RIGHT=22;CPlayer.BE_SHOOT_TURN90_LEFT=25;CPlayer.BE_SHOOT_TURN90_RIGHT=26;CPlayer.BE_SHOOT_TURN180_LEFT=27;CPlayer.BE_SHOOT_TURN180_RIGHT=28;CPlayer.BE_PASS_FALL_TURN90_LEFT=111;CPlayer.BE_PASS_FALL_TURN90_RIGHT=112;CPlayer.BE_CHEST_CONTROL=150;CPlayer.BE_LONGPASS_TURN90_LEFT=151;CPlayer.BE_LONGPASS_TURN90_RIGHT=152;CPlayer.BE_MOVE=23;CPlayer.BE_RUN_BACK=24;CPlayer.BE_GET_UP=31;CPlayer.BE_WIN_NORMAL=33;CPlayer.BE_WIN_RUN=34;CPlayer.BE_WIN_EXTREME=35;CPlayer.BE_WIN_EXTREME2=36;CPlayer.BE_LOSE_POSE=37;CPlayer.BE_LOSE_CRY=38;CPlayer.BE_LOSE_WALK=51;CPlayer.BE_LOSE_ANGRY=48;CPlayer.BE_UPSET=49;CPlayer.BE_DIVE=50;CPlayer.BE_CHEER_RUN=56;CPlayer.BE_STAND02=39;CPlayer.BE_STAND03=40;CPlayer.BE_THROWIN=46;CPlayer.BE_BIKE=47;CPlayer.BE_INJURED=53;CPlayer.BE_WIN_FLIP=54;CPlayer.BE_WIN_JUMP=55;CPlayer.BE_IGNORE=57;CPlayer.BE_FEINT1=60;CPlayer.BE_FEINT2=61;CPlayer.BE_FEINT4=63;CPlayer.BE_SHOOTGUN=71;CPlayer.BE_WINSHOUT=72;CPlayer.BE_WARMINGUP=80;CPlayer.BE_SHORT_SLIDETACKLE=90;CPlayer.BE_BOLT=92;CPlayer.BE_FLY=93;CPlayer.BE_SAVE_MID_JUMP_RIGHT=100;CPlayer.BE_SAVE_MID_JUMP_LEFT=101;CPlayer.BE_SAVE_MID_GROUND=102;CPlayer.BE_SAVE_SIDE_DOWN_RIGHT=103;CPlayer.BE_SAVE_SIDE_DOWN_LEFT=104;CPlayer.BE_SAVE_MID_INVALID_RIGHT=105;CPlayer.BE_SAVE_MID_INVALID_LEFT=106;CPlayer.BE_SAVE_HIGH_JUMP_LEFT=113;CPlayer.BE_SAVE_HIGH_JUMP_RIGHT=114;CPlayer.BE_SAVE_MID_STAND=115;CPlayer.BE_SAVE_MID_JUMP=116;CPlayer.BE_BLOCK_MID_STAND=122;CPlayer.BE_BLOCK_MID_JUMP=123;CPlayer.BE_UP_TO_STAND=107;CPlayer.BE_STAND_WITH_BALL=108;CPlayer.BE_KICK_OUT=109;CPlayer.BE_THROW_OUT=110;CPlayer.BE_THROW_OUT_GROUND=124;CPlayer.BE_HANDSHAKE=117;CPlayer.BE_HUMANWALL_JUMP=118;CPlayer.BE_DODGE=119;CPlayer.BE_WAVEHAND=125;CPlayer.MAX_DIR=7;CPlayer.TAN_22P5=106;CPlayer.TAN_67P5=618;CPlayer.TAN_30=148;CPlayer.TAN_60=443;CPlayer.TAN_11=50;CPlayer.TAN_34=173;CPlayer.TAN_56=340;CPlayer.TAN_79=1317;CPlayer.TAN_20=93;CPlayer.TAN_70=703;CPlayer.SQRT_2=362;CPlayer.SIN_22_5=98;CPlayer.COS_22_5=237;CPlayer.s_vectorX=gloft.casttoint(null);CPlayer.s_vectorY=gloft.casttoint(null);CPlayer.ACCROSSING_ZONE_X=gloft.casttoint(null);CPlayer.ACCROSSING_ZONE_Y=gloft.casttoint(null);CPlayer.s_oneTwoPlayer=null;CPlayer.s_oneTwoStartPointX=null;CPlayer.s_oneTwoPressed=null;CPlayer.MAX_PLAYER_EFFECTS=4;CPlayer.EFFECT_PARAM_NUM=8;CPlayer.EFFECT_PARAM_ANIM=0;CPlayer.EFFECT_PARAM_ACTION=1;CPlayer.EFFECT_PARAM_FRAME_NUM=2;CPlayer.EFFECT_PARAM_FRAME=3;CPlayer.EFFECT_PARAM_POSX=4;CPlayer.EFFECT_PARAM_POSY=6;CPlayer.FLAG_FLIP_X=64;CPlayer.FLAG_FLIP_Y=128;CPlayer.FLAG_FLIP_XY=192;CPlayer.ST_REFEREE_OUTSIDE=40;CPlayer.ST_REFEREE_CORNER=41;CPlayer.ST_REFEREE_OFFSIDE=42;CPlayer.s_outSideTeamLeft=gloft.casttoboolean(null);CPlayer.REFEREE_CORNER_POSX=gloft.casttoint(null);CPlayer.getSideString=function(a){switch(a){case 1:return"L";case 2:return"LC";case 3:return"C";case 5:return"RC";case 4:return"R";default:return""}};CPlayer.getPosString=function(a){switch(a){case 0:return"GK";case 1:return"D";case 2:return"M";case 3:return"F";default:return""}};CPlayer.getPlayerPosString=function(a){return CPlayer.getSideString(a.m_side)+CPlayer.getPosString(a.m_role)+" "+a.m_Number};CPlayer.getPlayerSpeedString=function(a){return 7-a.m_curAbilitySpd+" "+a.m_speed+" "+a.m_speedFast};CPlayer.getPlayerInfoString=function(b,a){Label_0582:{switch(a){case 10:return b.m_fatigue+"";case 8:return b.m_Number+"";case 0:return b.m_gridX+" "+b.m_gridY+" d:"+b.m_destGridX+" "+b.m_destGridY;case 9:if(b.m_tacState==1||b.m_tacState==5){return b.m_myTeam.m_commandIndex[b.m_Number]+" "+b.m_myTeam.getCommandString(b.m_Number)}break;case 6:switch(b.m_tacState){case 5:return"WB";case 1:return"GB s:";case 7:return"PR s:";case 3:return"TF";case 2:return"TS";case 4:return"TG";case 0:return"SP";case 8:return"MK";default:break Label_0582}break;case 1:return" v:"+cGame.fastDistance(b.m_vX,b.m_vY);case 5:return b.m_currState+" "+b.m_nextState+" "+b.m_currDir+" "+b.m_nextDir+" "+b.m_preState;case 7:return b.m_currState+" "+b.m_nextState+" "+b.m_tacState+" "+b.m_waitEndsTick;case 3:if(b.m_isBallReceiver){return" R:"+b.m_ballReceiverState+" "+(b.m_destReached?1:0)+" "}break;case 4:return cGame.fastDistance(b.m_vX,b.m_vY)+" s:"+b.m_accStepIndex+" f:"+b.m_accFrameIndex}}return""};CPlayer.getShovedPlayerState=function(a){return" "+cGame.fastDistance(a.m_vX,a.m_vY)};CPlayer.getPlayerState=function(a){switch(a.m_tacState){case 7:return"PRESS";case 8:return"MARK";default:return""}};CPlayer.getSide=function(b,a){return CPlayer.SIDE_INFO_TABLE[a-1][b]};CPlayer.paintPssGrid=function(f){if(CPlayer.s_pass_grid==null||CPlayer.s_focusPlayer==null){return}GLLib.SetClip(GLLib.g,0,0,640,360,true);var c=3;var j=50;GLLib.g.setColor(16777215);for(var e=0;e<22;++e){GLLib.DrawLine(GLLib.g,3,50+e*10,333,50+e*10)}for(var e=0;e<34;++e){GLLib.DrawLine(GLLib.g,3+e*10,50,3+e*10,260)}for(var e=0;e<693;++e){if(CPlayer.s_pass_grid[e]!=0){var h=e%21;var b=gloft.casttoint(e/21);GLLib.g.setColor(16711680);if(CPlayer.s_focusPlayer.m_myTeam.m_ID+1==CPlayer.s_pass_grid[e]){GLLib.g.setColor(16777215);GLLib.FillRect(GLLib.g,4+b*10,51+h*10,4,9)}else{GLLib.FillRect(GLLib.g,4+b*10+5,51+h*10,4,9)}}}GLLib.g.setColor(65280);var d=4+(CPlayer.s_passFromGridX+16)*10;var a=51+(CPlayer.s_passFromGridY+10)*10;GLLib.FillRect(GLLib.g,d,a,9,4);GLLib.g.setColor(16711168);d=4+(CPlayer.s_passGridX+16)*10;a=51+(CPlayer.s_passGridY+10)*10;GLLib.FillRect(GLLib.g,d,a+4,9,5);if(CPlayer.s_orgGridX!=-100&&CPlayer.s_orgGridY!=-100){GLLib.g.setColor(16690690);d=5+(CPlayer.s_orgGridX+16)*10;a=52+(CPlayer.s_orgGridY+10)*10;GLLib.FillArc(GLLib.g,d,a,7,7,0,360)}};CPlayer.getSootPosZ=function(){if(CPlayer.s_power!=0){var h=Actor.s_ball_state;Actor.setBallOutTo(2,((Actor.s_football.m_posX>0)?1:-1)*135168,cGame.s_pkTargetY,10240+gloft.casttoint((CPlayer.SHOOT_MAX_HEIGHT-10240)*CPlayer.s_power/((CPlayer.s_power==12)?10:12)),-1,-1);Actor.s_ball_state=h;var f=Actor.s_football;var e=Actor.s_football;var d=Actor.s_football;var c=Actor.s_football;var a=false;c.m_posZ=(a?1:0);d.m_vZ=(a?1:0);e.m_vY=(a?1:0);f.m_vX=(a?1:0);for(var g=0;g<Actor.s_futureBallPosX.length;++g){if(Actor.s_futureBallPosX[g]>=135168||Actor.s_futureBallPosX[g]<=-135168){return Actor.s_futureBallPosZ[g]}}}return 0};CPlayer.setShootDir=function(a){CPlayer.s_shootDir=a};CPlayer.getShootDir=function(){return CPlayer.s_shootDir};CPlayer.getPunishment_PlayerID=function(d){var a=-1;for(var c=0;c<11;++c){if(CTeam.s_team0.m_players[c]==d){a=c;var b=CTeam.m_playerID_in_default_order[a];return b}}return a};CPlayer.setPunishment_Card=function(a,b){CTeam.m_punishment[a]=b};CPlayer.checkPunished_PlayerID_dup_=function(){if(cGame.s_menuSelectPlayerID!=-1&&cGame.s_selectedIndex!=-1){var d=cGame.s_subs_N[0][cGame.s_menuSelectPlayerID];var c=cGame.s_subs_N[0][cGame.s_selectedIndex];GLLib.Dbg("playerID1====================== "+d);GLLib.Dbg("playerID2====================== "+c);var b=CTeam.m_punishment[d];var a=CTeam.m_punishment[c];CTeam.m_punishment[d]=a;CTeam.m_punishment[c]=b}};CPlayer.checkPunished_PlayerID_dup_II=function(d,c){var b=CTeam.m_punishment[d];var a=CTeam.m_punishment[c];CTeam.m_punishment[d]=a;CTeam.m_punishment[c]=b};CPlayer.setCPlayerFinalVar=function(){CPlayer.SHOOT_MUST_SCORE_X=124928;CPlayer.SHOOT_MUST_SCORE_Y=gloft.casttoint(cGame.CAGE_RANGE/2)<<8;CPlayer.CPU_SHOOT_MUST_SCORE_X=(cGame.FORBIDDEN_ZONE_LEFT<<8)+5120;CPlayer.CPU_SHOOT_MUST_SCORE_Y=cGame.SMALL_FORBIDDEN_ZONE_BOTTOM<<8;CPlayer.SHOOT_LINE_LIMIT=32768;CPlayer.SHOOT_MAX_HALF_RANGE=gloft.casttoint(cGame.CAGE_RANGE/2);CPlayer.REFEREE_CORNER_POSX=130048};CPlayer.findNearestToBallInTeam_dup_IZ=function(e,c){var d=null;var a=334848;if(cGame.s_aiMode==6&&e==0&&CTeam.s_newtutorialStep==9&&CTeam.s_newtutorialStep==9){return CTeam.s_teams[0].m_players[8]}for(var b=c?0:1;b<11;++b){var f=CTeam.s_teams[e].m_players[b];if(f.m_court==0){if(f.m_disToBall<a){a=f.m_disToBall;d=f}}}return d};CPlayer.findNearestToBallInTeam_dup_IIII=function(h,b,g,f){var a=null;var j=334848;if(cGame.s_aiMode==6&&h==0&&CTeam.s_newtutorialStep==9&&CTeam.s_newtutorialStep==9){return CTeam.s_teams[0].m_players[8]}for(var c=1;c<11;++c){var e=CTeam.s_teams[h].m_players[c];var d=cGame.fastDistance(e.m_posX-g,e.m_posY-f);if(e.m_court==0){if(e.m_Number!=b){if(d<j){j=d;a=e}}}}return a};CPlayer.competitorClear=function(){if(CPlayer.s_competitorStrong!=null){CPlayer.s_competitorStrong.m_isStronger=false;CPlayer.s_competitorStrong.m_isWeaker=false}if(CPlayer.s_competitorWeak!=null){CPlayer.s_competitorWeak.m_isStronger=false;CPlayer.s_competitorWeak.m_isWeaker=false}CPlayer.s_haveCompetition=false;CPlayer.s_reduceSpeedFinished=false};CPlayer.competitorSet=function(b,a){CPlayer.competitorClear();CPlayer.s_competitorStrong=b;CPlayer.s_competitorWeak=a;if(b.m_isStronger||b.m_isWeaker||a.m_isStronger||a.m_isWeaker){cGame.P("error in competitor set")}CPlayer.s_competitorStrong.m_isStronger=true;CPlayer.s_competitorWeak.m_isWeaker=true};CPlayer.competitorFind=function(){if(CPlayer.s_haveCompetition){return}CPlayer.competitorClear();if(cGame.s_aiMode==2||cGame.s_aiMode==6||cGame.s_aiMode==9){return}if(CTeam.s_matchState!=0){return}var j=null;var A=null;if(CPlayer.s_ballOwner==null){var d=null;if(CPlayer.s_ballReceiver[0]==null||CPlayer.s_ballReceiver[0].m_Number==0){d=CPlayer.findNearestToBallInTeam_dup_IZ(0,false)}else{d=CPlayer.s_ballReceiver[0]}var b=null;if(CPlayer.s_ballReceiver[1]==null||CPlayer.s_ballReceiver[1].m_Number==0){b=CPlayer.findNearestToBallInTeam_dup_IZ(1,false)}else{b=CPlayer.s_ballReceiver[1]}if(CPlayer.s_ballLastOwner==null){j=d;A=b}else{j=((CPlayer.s_ballLastOwner.m_myTeam.m_ID==0)?b:d);A=((CPlayer.s_ballLastOwner.m_myTeam.m_ID==0)?d:b)}if(j!=null&&A!=null&&j==CPlayer.s_ballLastPlayer){var h=A;A=j;j=h}}else{A=CPlayer.s_ballOwner;if(CPlayer.s_ballOwner.m_opTeam.m_type==1){for(var q=1;q<11;++q){var e=CPlayer.s_ballOwner.m_opTeam.m_players[q];if(e.m_court==0&&e.m_tacState==7){j=e;break}}}else{if(CPlayer.s_focusPlayer.m_Number!=0){j=CPlayer.s_focusPlayer}}if(j==null){j=CPlayer.findNearestToBallInTeam_dup_IZ(1-A.m_myTeam.m_ID,false)}}if(j==null||A==null){return}if(j.m_Number==0||A.m_Number==0){return}var m=0;var k=0;var o=0;if(A.m_myTeam.m_type==0){var c=j;c.m_body+=m}else{var z=A;z.m_body+=m}var v=[[0,0],[0,0],[0,20],[20,40],[30,50],[50,60]];var g=[[0,0],[0,0],[0,20],[20,40],[30,50],[50,60]];var f=[0,0,0,0,0,0];if(CPlayer.s_ballOwner!=null){var y=j;y.m_body+=o;var w=A;w.m_body+=k}var p=0;var a=0;if(A.m_currState==0){p=1}else{if(j.m_currState==0){a=1}else{if(j.m_disToBall<A.m_disToBall&&j.m_body>A.m_body&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_behavior!=1){p=1}else{if(j.m_disToBall>A.m_disToBall&&j.m_body<A.m_body&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_behavior!=1){a=1}else{p=((j.m_disToBall<A.m_disToBall)?f[cGame.s_matchDifficult]:0);a=((j.m_disToBall>A.m_disToBall)?f[cGame.s_matchDifficult]:0);p+=j.getPlayerData(11);a+=A.getPlayerData(11);if(GLLib.s_game_currentFrameNB-A.m_lastBCTime>CPlayer.MAX_CONTINUOUS_BC_TIME){A.m_continuousBCTime=0}else{if(A.m_continuousBCTime>0){a-=CPlayer.BASIC_CONTINUOUS_BC_REDUCE_BODY*(1<<A.m_continuousBCTime-1)}}if(GLLib.s_game_currentFrameNB-j.m_lastBCTime>CPlayer.MAX_CONTINUOUS_BC_TIME){j.m_continuousBCTime=0}else{if(j.m_continuousBCTime>0){p-=CPlayer.BASIC_CONTINUOUS_BC_REDUCE_BODY*(1<<j.m_continuousBCTime-1)}}var l=(GLLib.s_game_currentFrameNB&-16)>>4}}}}if(cGame.s_matchDifficult<2&&((p>=a&&A.m_myTeam.m_type==0)||(p<a&&j.m_myTeam.m_type==0))){var x=a;a=p;p=x}CPlayer.s_speedReducedFrameStep=java.lang.Math.abs(cGame.convertPlayerValue(j.m_body)-cGame.convertPlayerValue(A.m_body))+1>>1;if(CPlayer.s_speedReducedFrameStep==0){CPlayer.s_speedReducedFrameStep=1}if(A.m_myTeam.m_type==0){var u=j;u.m_body-=m}else{var t=A;t.m_body-=m}var s=j;s.m_body-=o;var r=A;r.m_body-=k;if(p>=a){j.m_bcValue=p;A.m_bcValue=a;CPlayer.competitorSet(j,A)}else{j.m_bcValue=p;A.m_bcValue=a;CPlayer.competitorSet(A,j)}};CPlayer.getReduceSpeedDis=function(c,a){var b=CPlayer.REDUCE_SPEED_DISTANCE>>8;if(c==CPlayer.s_ballOwner||c==CPlayer.s_ballFastOwner){b=b-CPlayer.BC_DIS_REDUCE[c.m_curAbilityDri]+CPlayer.BC_DIS_ADD[a.m_curAbilityDef]}else{b=b-CPlayer.BC_DIS_REDUCE[a.m_curAbilityDri]+CPlayer.BC_DIS_ADD[c.m_curAbilityDef]}b=b-CPlayer.BC_DIS_DRILLBE_TEMP+CPlayer.BC_DIS_DEFEND_TEMP;return b<<8};CPlayer.competitionCheck=function(){var g=CPlayer.s_competitorStrong;var b=CPlayer.s_competitorWeak;if(g!=null&&b!=null&&g!=b){var a=cGame.fastDistance(b.m_vX,b.m_vY);var h=cGame.fastDistance(g.m_vX,g.m_vY);if(g.m_behavior==15||g.m_behavior==90||g.m_behavior==17||g.m_behavior==14||g.m_behavior==31||g.m_behavior==13||g.m_currState==9||g.m_currState==13||g.m_behavior==16||g.m_behavior==119||b.m_behavior==119||b.m_currState==9||b.m_currState==13||b.m_behavior==14||b.m_behavior==15||b.m_behavior==90||b.m_behavior==17||b.m_behavior==16||b.m_behavior==31){CPlayer.competitorClear();CPlayer.s_competitorStrong=null;CPlayer.s_competitorWeak=null;CPlayer.s_reduceSpeed=false;return}var d=cGame.screenDistance(g.m_posX-b.m_posX,g.m_posY-b.m_posY);var f=CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_dribble>85&&CPlayer.s_ballOwner.m_tech>85;if(d<=CPlayer.getReduceSpeedDis(g,b)){if(d<=2048){CPlayer.s_haveOverLop=true}if(!CPlayer.s_haveCompetition){if(!CPlayer.dirIn3(b.m_currDir,g.m_currDir)){CPlayer.competitorClear();return}var e=CPlayer.dirTo(b.m_posX-g.m_posX,b.m_posY-g.m_posY);var c=e+4&7;if(b.m_currDir==c){CPlayer.competitorClear();return}if(g.m_currDir==e){CPlayer.competitorClear();return}}CPlayer.s_haveCompetition=true;CPlayer.s_reduceSpeed=true;return}}CPlayer.competitorClear();CPlayer.s_competitorStrong=null;CPlayer.s_competitorWeak=null;CPlayer.s_haveOverLop=false;CPlayer.s_haveCompetition=false;CPlayer.s_reduceSpeed=false;CPlayer.s_reduceSpeedFinished=false};CPlayer.calReduceFrame=function(){var a=cGame.convertPlayerValue(CPlayer.s_competitorStrong.getPlayerData(11))>>1;var b=cGame.convertPlayerValue(CPlayer.s_competitorWeak.getPlayerData(11))>>1;CPlayer.STABLE_FRAME=CPlayer.STABLE_FRAME_NEW[java.lang.Math.abs(a-b)];if(cGame.s_matchDifficult>2&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_currState==1&&!CPlayer.s_ballOwner.m_isFastRun){CPlayer.STABLE_FRAME=10}CPlayer.TOTAL_FRAME=CPlayer.REDUCE_FRAME+CPlayer.STABLE_FRAME+CPlayer.INCREASE_FRAME};CPlayer.reduceShoveSpeed=function(){var a=CPlayer.s_competitorStrong;var g=CPlayer.s_competitorWeak;if(CPlayer.s_haveCompetition&&CPlayer.s_reduceSpeed){CPlayer.calReduceFrame();var i=cGame.fastDistance(g.m_vX,g.m_vY);var b=cGame.fastDistance(a.m_vX,a.m_vY);var m=gloft.casttoint(((b>i)?i:b)*80/100);CPlayer.reduce_speed_base=1100;if(CPlayer.reduce_speed_base>m&&m!=0){CPlayer.reduce_speed_base=m}if(CPlayer.speedAdjustType==0){if(i>CPlayer.reduce_speed_base||b>CPlayer.reduce_speed_base){CPlayer.speedAdjustType=1}else{CPlayer.speedAdjustType=2}}if(CPlayer.s_reduceSpeedFinished){CPlayer.s_speedReducedFrame=CPlayer.STABLE_FRAME;CPlayer.s_reduceSpeedFinished=false}switch(CPlayer.speedAdjustType){case 1:if(CPlayer.s_speedReducedFrame<CPlayer.REDUCE_FRAME){if(b>CPlayer.reduce_speed_base){a.adjustSpeedToBase();var l=gloft.casttoint((b-CPlayer.reduce_speed_base)/CPlayer.REDUCE_FRAME);CPlayer.parseVector_dup_III(b-l*(CPlayer.s_speedReducedFrame+1),a.m_vX,a.m_vY);var e=a;e.m_posX+=CPlayer.s_vectorX;var k=a;k.m_posY+=CPlayer.s_vectorY}if(i>CPlayer.reduce_speed_base){g.adjustSpeedToBase();var l=gloft.casttoint((i-CPlayer.reduce_speed_base)/CPlayer.REDUCE_FRAME);CPlayer.parseVector_dup_III(i-l*(CPlayer.s_speedReducedFrame+1),g.m_vX,g.m_vY);var j=g;j.m_posX+=CPlayer.s_vectorX;var h=g;h.m_posY+=CPlayer.s_vectorY}}else{if(CPlayer.s_speedReducedFrame>=CPlayer.REDUCE_FRAME&&CPlayer.s_speedReducedFrame<CPlayer.STABLE_FRAME+CPlayer.REDUCE_FRAME){a.keepSpeedInBase(a);g.keepSpeedInBase((m==0||!CPlayer.dirIn3(g.m_currDir,CPlayer.dirTo(a.m_vX,a.m_vY)))?g:a)}else{if(CPlayer.s_speedReducedFrame<CPlayer.TOTAL_FRAME){g.keepSpeedInBase(g);var c=gloft.casttoint((b-CPlayer.reduce_speed_base)/CPlayer.INCREASE_FRAME);CPlayer.parseVector_dup_III(c,a.m_vX,a.m_vY);c=gloft.casttoint((i-CPlayer.reduce_speed_base)/CPlayer.INCREASE_FRAME);CPlayer.parseVector_dup_III(c,g.m_vX,g.m_vY)}else{if(CPlayer.s_speedReducedFrame>=CPlayer.TOTAL_FRAME){CPlayer.s_speedReducedFrame=0;CPlayer.speedAdjustType=0;var n=CPlayer.dirTo(g.m_posX-a.m_posX,g.m_posY-a.m_posY);if(cGame.s_matchDifficult>2&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_currState==1&&!CPlayer.s_ballOwner.m_isFastRun){CPlayer.changeBallOwner(g,a)}else{CPlayer.changeBallOwner(a,g)}var f=g;++f.m_continuousBCTime;var d=a;++d.m_continuousBCTime;a.m_lastBCTime=GLLib.s_game_currentFrameNB;g.m_lastBCTime=GLLib.s_game_currentFrameNB;CPlayer.s_reduceSpeed=false;CPlayer.s_reduceSpeedFinished=true}}}}CPlayer.s_speedReducedFrame+=CPlayer.s_speedReducedFrameStep;break;case 2:CPlayer.speedAdjustType=0;break}}else{CPlayer.s_speedReducedFrame=0;CPlayer.speedAdjustType=0}};CPlayer.changeBallOwner=function(c,a){if(c.m_currState==0&&!c.m_withBall){return}var b=false;if(c.m_currState==0){b=false}else{if(GLLib.s_game_currentFrameNB==Actor.s_turnEndsTick){if(cGame.convertPlayerValue(c.m_body)-2>=cGame.convertPlayerValue(a.m_body)){b=true}}else{if(!CPlayer.s_haveCompetition){if((cGame.convertPlayerValue(c.m_body)-cGame.convertPlayerValue(a.m_body)>3&&GLLib.s_game_currentFrameNB%10<3)||a.m_withBall){b=true}}else{if(c.m_disToBall>a.m_disToBall&&GLLib.s_game_currentFrameNB%10<5){b=true}}}}if(CPlayer.s_ballOwner==a||CPlayer.s_ballFastOwner==a){if(!cGame.isInMiniGame()){++c.m_tackleTime;++c.m_successTackleTime}if(c.m_myTeam.m_ID==0){cGame.processAchievementInMatch(1)}a.doCompteitionOnBall();c.set_currState(1);c.set_nextState(1)}if(Actor.s_football.m_posZ<2560&&(c.m_withBall||c.canTrap())&&CPlayer.s_ballLastOwner!=c){if(c.m_withBall){c.loseBall()}CPlayer.parseVector_dup_II(5120,c.m_currDir);Actor.setBallOutTo(4,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0,-1,-1)}if(b){a.set_directDir(c.m_currDir);a.setBehavior(17);a.doFool(40)}else{a.setBehavior(16);a.doFool(12)}c.m_myTeam.deleteAllCommand(c.m_Number);c.m_idea=((CPlayer.s_ballOwner!=c&&CPlayer.s_ballFastOwner!=c)?1:-1);CPlayer.competitorClear()};CPlayer.shoveAll=function(){if(cGame.s_aiMode==2||cGame.s_aiMode==6||cGame.s_aiMode==9){return}if(CTeam.s_matchState!=0){return}var c=CPlayer.s_competitorStrong;var d=CPlayer.s_competitorWeak;if(c!=null&&d!=null&&c!=d&&CPlayer.s_haveOverLop){var e=cGame.fastDistance(d.m_vX,d.m_vY);var a=cGame.fastDistance(c.m_vX,c.m_vY);if(c.m_behavior==15||c.m_behavior==90||c.m_behavior==17||c.m_behavior==14||c.m_behavior==31||c.m_behavior==13||c.m_currState==13||d.m_currState==13||d.m_currState==9||d.m_behavior==14||d.m_behavior==15||d.m_behavior==90||d.m_behavior==17||d.m_behavior==16||d.m_behavior==31){CPlayer.s_haveOverLop=false;return}var i=java.lang.Math.abs(c.m_posX+c.m_vX-d.m_posX-d.m_vX)+java.lang.Math.abs(c.m_posY+c.m_vY-d.m_posY-d.m_vY)>java.lang.Math.abs(d.m_posX-c.m_posX)+java.lang.Math.abs(d.m_posY-c.m_posY);var h=cGame.isLineSegmentCrossPoint(d.m_posX,d.m_posY,c.m_posX+c.m_vX,c.m_posY+c.m_vY,c.m_posX,c.m_posY,2048);var f=cGame.isLineSegmentCrossPoint(c.m_posX,c.m_posY,d.m_posX+d.m_vX,d.m_posY+d.m_vY,d.m_posX,d.m_posY,2048);if(i&&!h&&!f){return}var b=cGame.screenDistance(c.m_posX-d.m_posX,c.m_posY-d.m_posY);CPlayer.s_shoveAll=false;if(b<=1536){CPlayer.s_shoveAll=true;if(!CPlayer.s_haveCompetition&&c.m_body<d.m_body&&d.m_currState!=0&&cGame.convertPlayerValue(d.m_body)-cGame.convertPlayerValue(c.m_body)>2&&(GLLib.s_game_currentFrameNB&1)==0){d=CPlayer.s_competitorStrong;c=CPlayer.s_competitorWeak}var g=false;var j=CPlayer.dirTo(d.m_posX-c.m_posX,d.m_posY-c.m_posY);if(cGame.getSystemMillis()-CPlayer.s_loseBall_tick>3000&&((!CPlayer.s_haveCompetition&&b<1280)||d.m_currState==0)){if(c.m_currState==0){if(d!=CPlayer.s_focusPlayer||CPlayer.s_ignoreInput<=0){d.doTackle()}}else{if(c!=CPlayer.s_focusPlayer||CPlayer.s_ignoreInput<=0){c.doTackle()}}return}CPlayer.parseVector_dup_III(2048,d.m_posX-c.m_posX,d.m_posY-c.m_posY);d.m_posX=c.m_posX+CPlayer.s_vectorX;d.m_posY=c.m_posY+CPlayer.s_vectorY;d.m_destChanged=true;d.m_beShoved=true;if(!c.posBehindMe(d.m_posX,d.m_posY)&&CPlayer.dirIn3(c.m_currDir,j)&&c.m_currDir==j){CPlayer.parseVector_dup_II(204,j+2&7);d.m_posX+=CPlayer.s_vectorX;d.m_posY+=CPlayer.s_vectorY}if(cGame.fastDistance(d.m_posX-c.m_posX,d.m_posY-c.m_posY)<1408){CPlayer.parseVector_dup_III(2048,d.m_posX-c.m_posX,d.m_posY-c.m_posY);d.m_posX=c.m_posX+CPlayer.s_vectorX;d.m_posY=c.m_posY+CPlayer.s_vectorY;g=true}if(g&&(!d.m_isFocus||d.m_currState!=1||d.m_param3!=7)){d.m_destChanged=true;d.m_beShoved=true;if(d.m_currDir!=d.m_dirToBall){d.m_nextDir=d.m_dirToBall}}}}};CPlayer.getLeftRightForBC=function(b,a){var c=false;switch(b.m_currDir){case 0:c=(a.m_posX<b.m_posX);break;case 1:case 2:case 3:c=(a.m_posY<b.m_posY);break;case 4:c=(a.m_posX>b.m_posX);break;case 5:case 6:case 7:c=(a.m_posY>b.m_posY);break}if(a.m_currDir>4){c=!c}return c};CPlayer.isJustKickOut=function(){return CPlayer.s_ballOwner==null&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number==0&&(CPlayer.s_ballLastOwner.m_behavior==109||CPlayer.s_ballLastOwner.m_behavior==110||CPlayer.s_ballLastOwner.m_behavior==124)&&CPlayer.s_ctrWithoutBall==0};CPlayer.clearFocus=function(){if(CPlayer.s_focusPlayer!=null){CPlayer.s_focusPlayer.m_preDir=-1;CPlayer.s_focusPlayer.set_preState(-1);CPlayer.s_focusPlayer.m_preFastRun=false;CPlayer.s_focusPlayer.m_isFocus=false;CPlayer.s_focusPlayer.stand(false);CPlayer.s_focusPlayer=null}CPlayer.s_radar=0};CPlayer.clearBallReceivers=function(){if(CPlayer.s_ballReceiver[0]!=null){CPlayer.s_ballReceiver[0].m_isBallReceiver=false;CPlayer.s_ballReceiver[0].m_ballReceiverState=0;CPlayer.s_ballReceiver[0]=null}if(CPlayer.s_ballReceiver[1]!=null){CPlayer.s_ballReceiver[1].m_isBallReceiver=false;CPlayer.s_ballReceiver[1].m_ballReceiverState=0;CPlayer.s_ballReceiver[1]=null}};CPlayer.getRunFrames=function(a,f,e,i,h){var d=0;var b=(a>>1)+256;CPlayer.parseVector_dup_III(a,i-f,h-e);var g=cGame.screenDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);if(g!=0){var c=a*256>>8;CPlayer.s_vectorX=gloft.casttoint(CPlayer.s_vectorX*c/g);CPlayer.s_vectorY=gloft.casttoint(CPlayer.s_vectorY*c/g);b=gloft.casttoint(b*c/g)}while(cGame.fastDistance(i-f,h-e)>b){f+=CPlayer.s_vectorX;e+=CPlayer.s_vectorY;++d}return d+2};CPlayer.dirTo=function(a,c){if(a==0){return(c>0)?4:0}if(c==0){return(a>0)?2:6}var b=gloft.casttoint((c<<8)/a);if(b<0){b=-b}if(b<=93){return(a>0)?2:6}if(b>=703){return(c>0)?4:0}if(a>0){return(c>0)?3:1}return(c>0)?5:7};CPlayer.dirToForFastRun=function(a,c){if(a==0){return(c>0)?8:0}if(c==0){return(a>0)?4:12}var b=gloft.casttoint((c<<8)/a);if(b<0){b=-b;if(b<=50){return(a>0)?4:12}if(b<=173){return(a>0)?3:11}if(b<=340){return(a>0)?2:10}return(a>0)?1:9}else{if(b>=1317){return(c>0)?8:0}if(b>=340){return(c>0)?7:15}if(b>=173){return(c>0)?6:14}return(c>0)?5:13}};CPlayer.dirTo_GK=function(a,c){if(a==0){return(c>0)?4:0}if(c==0){return(a>0)?2:6}var b=gloft.casttoint((c<<8)/a);if(b<0){b=-b}if(b<=93){return(a>0)?2:6}if(b>=443){return(c>0)?4:0}if(a>0){return(c>0)?3:1}return(c>0)?5:7};CPlayer.dirDifference=function(c,a){var b=a-c;if(b>4){return b-7-1}if(b<-3){return b+7+1}return b};CPlayer.dirDifferenceForFastRun=function(c,a){var b=a-c;if(b>8){return b-15-1}if(b<-7){return b+15+1}return b};CPlayer.dirIn3=function(c,a){var b=a-c;return(b<2&&b>-2)||b==7||b==-7};CPlayer.dirIn5=function(c,a){var b=a-c;return(b<3&&b>-3)||b>5||b<-5};CPlayer.parseVector_dup_II=function(a,b){switch(b){case 0:CPlayer.s_vectorX=0;CPlayer.s_vectorY=-a;break;case 1:CPlayer.s_vectorX=a*362>>9;CPlayer.s_vectorY=-CPlayer.s_vectorX;break;case 2:CPlayer.s_vectorX=a;CPlayer.s_vectorY=0;break;case 3:CPlayer.s_vectorX=(CPlayer.s_vectorY=a*362>>9);break;case 4:CPlayer.s_vectorX=0;CPlayer.s_vectorY=a;break;case 5:CPlayer.s_vectorY=a*362>>9;CPlayer.s_vectorX=-CPlayer.s_vectorY;break;case 6:CPlayer.s_vectorX=-a;CPlayer.s_vectorY=0;break;case 7:CPlayer.s_vectorX=-(a*362>>9);CPlayer.s_vectorY=CPlayer.s_vectorX;break}};CPlayer.parseVectorFastRun=function(a,b){switch(b){case 0:CPlayer.s_vectorX=0;CPlayer.s_vectorY=-a;break;case 1:CPlayer.s_vectorX=a*98>>8;CPlayer.s_vectorY=-(a*237)>>8;break;case 2:CPlayer.s_vectorX=a*362>>9;CPlayer.s_vectorY=-CPlayer.s_vectorX;break;case 3:CPlayer.s_vectorX=a*237>>8;CPlayer.s_vectorY=-(a*98)>>8;break;case 4:CPlayer.s_vectorX=a;CPlayer.s_vectorY=0;break;case 5:CPlayer.s_vectorX=a*237>>8;CPlayer.s_vectorY=a*98>>8;break;case 6:CPlayer.s_vectorX=(CPlayer.s_vectorY=a*362>>9);break;case 7:CPlayer.s_vectorX=a*98>>8;CPlayer.s_vectorY=a*237>>8;break;case 8:CPlayer.s_vectorX=0;CPlayer.s_vectorY=a;break;case 9:CPlayer.s_vectorX=-(a*98)>>8;CPlayer.s_vectorY=a*237>>8;break;case 10:CPlayer.s_vectorY=a*362>>9;CPlayer.s_vectorX=-CPlayer.s_vectorY;break;case 11:CPlayer.s_vectorX=-(a*237)>>8;CPlayer.s_vectorY=a*98>>8;break;case 12:CPlayer.s_vectorX=-a;CPlayer.s_vectorY=0;break;case 13:CPlayer.s_vectorX=-(a*237)>>8;CPlayer.s_vectorY=-(a*98)>>8;break;case 14:CPlayer.s_vectorX=-(a*362>>9);CPlayer.s_vectorY=CPlayer.s_vectorX;break;case 15:CPlayer.s_vectorX=-(a*98)>>8;CPlayer.s_vectorY=-(a*237)>>8;break}};CPlayer.parseVector_dup_III=function(b,a,d){var c=cGame.fastDistance(a,d);if(c==0){CPlayer.s_vectorX=(CPlayer.s_vectorY=0)}else{CPlayer.s_vectorX=gloft.casttoint(b*a/c);CPlayer.s_vectorY=gloft.casttoint(b*d/c)}};CPlayer.parseVector_screen_dup_II=function(b,c){CPlayer.parseVector_dup_II(b,c);var a=b*256>>8;var d=cGame.screenDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);if(d!=0){CPlayer.s_vectorX=gloft.casttoint(CPlayer.s_vectorX*a/d);CPlayer.s_vectorY=gloft.casttoint(CPlayer.s_vectorY*a/d)}};CPlayer.parseVector_screen_dup_IIII=function(c,a,f,d){CPlayer.parseVector_dup_III(c,a,f);var b=c*256>>8;var e=cGame.screenDistance(CPlayer.s_vectorX,CPlayer.s_vectorY);if(e!=0){CPlayer.s_vectorX=gloft.casttoint(CPlayer.s_vectorX*b/e);CPlayer.s_vectorY=gloft.casttoint(CPlayer.s_vectorY*b/e);if(d!=0){return gloft.casttoint(d*b/e)}}return 0};CPlayer.isTurnBehavior=function(a){return a>=2&&a<=9};CPlayer.drawAlphaShadow=function(d,a,e,c,b){cGame.s_gameSprites[18].PaintAFrame(d,0,0,a,e,0,0,0)};CPlayer.BASIC_SPEED=1170;CPlayer.SPEED_DIFFERENCE=64;CPlayer.SPEED_VAR=[1290,1252,1215,1170,1122,1086,1065,1035];CPlayer.WASTING_SPEED=132;CPlayer.FAST_SPEED_MULTIPLIER=20;CPlayer.FAST_BALL_SPEED_MULTIPLIER=20;CPlayer.s_tempAbility=gloft.ArrayCreation([6],gloft.casttoint(null));CPlayer.MAX_SPEED=CPlayer.BASIC_SPEED+CPlayer.SPEED_DIFFERENCE;CPlayer.SIDE_INFO_TABLE=[[3],[1,4],[2,3,5],[1,2,5,4],[1,2,3,5,4],[1,2,3,3,5,4]];CPlayer.s_bIsThroughPass=false;CPlayer.s_cpuNeedThrough=false;CPlayer.s_throughPass=false;CPlayer.s_pass_grid=gloft.ArrayCreation([693],gloft.casttobyte(null));CPlayer.s_blockPlayerPos=gloft.ArrayCreation([5,2],gloft.casttoint(null));CPlayer.s_blockPlayerMirrorPos=gloft.ArrayCreation([5,2],gloft.casttoint(null));CPlayer.s_longpass_extend=false;CPlayer.SHOOT_MAX_HEIGHT=48640;CPlayer.SHOOT_MAX_HEIGHT_DEFAULT=37184;CPlayer.SHOOT_DRIVE_HEIGHT=gloft.casttoint(CPlayer.SHOOT_MAX_HEIGHT/6)+1;CPlayer.BC_SHOOT_POWER_MIN=[20,30,30,40];CPlayer.BC_SHOOT_POWER_MAX=[80,70,60,55];CPlayer.BC_SHOOT_POWER_MIN_CPU=[25,25,20,20,20,15];CPlayer.BC_SHOOT_POWER_MAX_CPU=[35,40,65,70,75,85];CPlayer.BC_SHOOT_ACCURATE_PERSENT=[10,15,30,45];CPlayer.BC_SHOOT_ACCURATE_PERSENT_CPU=[50,40,30,20,20,10];CPlayer.s_shootDir=0;CPlayer.ACCELERATE_STEP_MY_RUN=13;CPlayer.s_speedRate=90;CPlayer.RUN_SPEED_RATE=[100,100,98,98,95,95];CPlayer.s_shoveLostBall=false;CPlayer.s_extraRun=false;CPlayer.s_extraRunDuration=10;CPlayer.s_fastRunShoot=false;CPlayer.s_bGKKickout=false;CPlayer.s_ballTackledOutBy=null;CPlayer.s_touchPlayerNumber=-1;CPlayer.SHOOT_MUST_SCORE_X=0;CPlayer.SHOOT_MUST_SCORE_Y=0;CPlayer.CPU_SHOOT_MUST_SCORE_X=0;CPlayer.CPU_SHOOT_MUST_SCORE_Y=0;CPlayer.SHOOT_LINE_LIMIT=0;CPlayer.SHOOT_MAX_HALF_RANGE=0;CPlayer.SHOOT_MIN_HALF_RANGE=[30,40,50,58,66,74];CPlayer.REDUCE_SPEED_DISTANCE=4608;CPlayer.MAX_CONTINUOUS_BC_TIME=140;CPlayer.BASIC_CONTINUOUS_BC_REDUCE_BODY=6;CPlayer.BC_PASS_SPEED_REDUCE=56;CPlayer.BC_DIS_DRILLBE_TEMP=8;CPlayer.BC_DIS_DEFEND_TEMP=6;CPlayer.BC_DIS_REDUCE=[8,4,0,0];CPlayer.BC_DIS_ADD=[5,1,0,0];CPlayer.s_speedReducedFrame=0;CPlayer.s_speedReducedFrameStep=1;CPlayer.REDUCE_FRAME=4;CPlayer.STABLE_FRAME=20;CPlayer.STABLE_FRAME_NEW=[55,45,35,20];CPlayer.INCREASE_FRAME=5;CPlayer.TOTAL_FRAME=CPlayer.REDUCE_FRAME+CPlayer.STABLE_FRAME+CPlayer.INCREASE_FRAME;CPlayer.reduce_speed_base=500;CPlayer.speedAdjustType=0;CPlayer.s_saveMin=-1;CPlayer.Ball_Speed_when_save_db=0;CPlayer.s_save_speed_add=7;CPlayer.m_focusTickCounter=0;CPlayer.s_player=gloft.ArrayCreation([2],null);CPlayer.s_legendPlayerNumber=9;CPlayer.s_powerincreaseForHitBar=1;CPlayer.s_lastPadTick=[-1,-1];CPlayer.s_lastPadDir=[-1,-1];CPlayer.s_lastInputDir=gloft.ArrayCreation([2],gloft.casttoint(null));CPlayer.s_debug_value=1;CPlayer.s_bDoneTackle=true;CPlayer.s_bGoingToThroughPass=false;CPlayer.s_autoDefend=-1;CPlayer.s_inputDir=-1;CPlayer.DEFEND_AUTO=0;CPlayer.DEFEND_MANUAL=1;CPlayer.DEFEND_HELP_AUTO=2;CPlayer.s_arrivedInFastRun=false;CPlayer.s_ignoreInput=0;CPlayer.tacArray=gloft.ArrayCreation([11],gloft.casttoint(null));CPlayer.s_ballReceiver=gloft.ArrayCreation([2],null);CPlayer.s_rcvPointIndex=0;CPlayer.RCV_POINT_ARRAY=[0,1,2,3,4,3,2,1,4,0,4,2,0,3,1,2,4,3,1,0,1,2,4,0,3];CPlayer.ACCROSSING_ZONE_X=358-170;CPlayer.ACCROSSING_ZONE_Y=1;CPlayer.s_oneTwoPlayer=gloft.ArrayCreation([2],null);CPlayer.s_oneTwoStartPointX=gloft.ArrayCreation([2],gloft.casttoint(null));CPlayer.s_oneTwoPressed=gloft.ArrayCreation([2],gloft.casttoboolean(null));CPlayer.REFEREE_CORNER_POSX=0;