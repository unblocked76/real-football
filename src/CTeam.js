"use strict";var CTeam=gloft.Class.extend({m_opTeam:null,m_leftSide:gloft.casttoboolean(null),m_goals:gloft.casttoint(null),m_players:null,m_suspension:null,m_fatigue:null,m_GK:null,m_ID:gloft.casttoint(null),m_type:gloft.casttoint(null),m_state:gloft.casttoint(null),m_rcvGoAndKickX:gloft.casttoint(null),m_rcvGoAndKickY:gloft.casttoint(null),m_rcvBallGoAndKickX:gloft.casttoint(null),m_rcvBallGoAndKickY:gloft.casttoint(null),m_rcvFitFrameOff:gloft.casttoint(null),m_rcvAddedKeyFrame:gloft.casttoint(null),m_rcvActionKind:gloft.casttoint(null),m_rcvNeedFastRun:gloft.casttoboolean(null),m_rcvUseNewPointingSystem:gloft.casttoboolean(null),m_formationID:gloft.casttoint(null),s_hotspotGridX:gloft.casttoint(null),s_hotspotGridY:gloft.casttoint(null),s_valueOfGrid:null,m_activeZoomArange:null,m_attackSide:gloft.casttoint(null),m_haveNewOrder:null,m_needRefresh:gloft.casttoboolean(null),m_havePressPlayer:gloft.casttoboolean(null),m_pressTime:gloft.casttoint(null),m_pressDis:gloft.casttoint(null),m_respondNewOrderTime:null,waitToDoNewOrder:null,avoidPlayerData:null,avoidPlayerNumber:null,m_inOpForbidden:gloft.casttoboolean(null),m_dribbleTime:gloft.casttoboolean(null),m_dangerArea:gloft.casttoboolean(null),m_inTopCorner:gloft.casttoboolean(null),m_inBottomCorner:gloft.casttoboolean(null),m_inLongShotArea:gloft.casttoboolean(null),m_feintStyle:gloft.casttoint(null),m_lastDecision:gloft.casttoint(null),m_dribbleScore:gloft.casttoint(null),m_needFastDribble:gloft.casttoboolean(null),m_offsideGridX:gloft.casttoint(null),m_refreshing:gloft.casttoboolean(null),m_commandList:null,m_commandIndex:null,m_tacticInfo:null,m_curTactic:gloft.casttoint(null),m_attackTime:gloft.casttoint(null),s_isOnTimePoint:gloft.casttoboolean(null),m_formationChange:gloft.casttoboolean(null),m_defaultPosX:null,m_defaultPosY:null,m_defaultPosX_new:null,m_defaultPosY_new:null,m_attackGridLine:gloft.casttoint(null),m_defendGridLine:gloft.casttoint(null),m_ctrGKGuardPos:gloft.casttolong(null),m_emotionMode:gloft.casttoint(null),m_emotionRun:gloft.casttoint(null),m_emotionCount:gloft.casttoint(null),m_emotionFacePointX:gloft.casttoint(null),m_emotionFacePointY:gloft.casttoint(null),m_morale:gloft.casttoint(null),m_moraleState:gloft.casttoint(null),m_lastUpdateMoraleTime:gloft.casttolong(null),m_specialDirectType:gloft.casttoint(null),ctor:function(){this.m_players=gloft.ArrayCreation([11],null);this.m_suspension=gloft.ArrayCreation([30],gloft.casttoboolean(null));this.m_fatigue=gloft.ArrayCreation([30],gloft.casttoint(null));this.m_state=-1;this.m_rcvFitFrameOff=-1;this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));this.m_activeZoomArange=gloft.ArrayCreation([44],gloft.casttobyte(null));this.m_attackSide=0;this.m_haveNewOrder=gloft.ArrayCreation([11],gloft.casttoboolean(null));this.m_pressTime=0;this.m_pressDis=1;this.m_respondNewOrderTime=gloft.ArrayCreation([11],gloft.casttoint(null));this.waitToDoNewOrder=gloft.ArrayCreation([11],gloft.casttoboolean(null));this.avoidPlayerData=gloft.ArrayCreation([20],gloft.casttoint(null));this.avoidPlayerNumber=gloft.ArrayCreation([10],gloft.casttoint(null));this.m_dribbleScore=5;this.m_commandList=gloft.ArrayCreation([176],gloft.casttoint(null));this.m_commandIndex=gloft.ArrayCreation([11],gloft.casttoint(null));this.m_tacticInfo=[0,0,0,0];this.m_curTactic=0;this.s_isOnTimePoint=true;this.m_formationChange=false;this.m_defaultPosX=gloft.ArrayCreation([11],gloft.casttoint(null));this.m_defaultPosY=gloft.ArrayCreation([11],gloft.casttoint(null));this.m_defaultPosX_new=gloft.ArrayCreation([11],gloft.casttoint(null));this.m_defaultPosY_new=gloft.ArrayCreation([11],gloft.casttoint(null));this.m_emotionMode=0;this.m_emotionRun=0;this.m_moraleState=0},rcvSelectpoint:function(a){var e=gloft.casttoint(null);if(Actor.s_ctrFutureBallFrame>0){e=Actor.s_futureBallPosZ[Actor.s_ctrFutureBallFrame-1]}else{e=Actor.s_futureBallPosZ[0]}this.m_specialDirectType=0;var d=gloft.casttoint(null);if(a==0){d=20480;this.m_rcvAddedKeyFrame=6}else{if(a==4){d=17920;this.m_rcvAddedKeyFrame=6}else{if(a==1){d=8704;this.m_rcvAddedKeyFrame=3}else{if(a==2){d=16640;this.m_rcvAddedKeyFrame=3;this.m_specialDirectType=2}else{d=5120;this.m_rcvAddedKeyFrame=5;this.m_specialDirectType=1}}}}this.m_rcvFitFrameOff=Actor.s_ctrFutureBallFrame;for(var b=Actor.s_ctrFutureBallFrame;b<200&&java.lang.Math.abs(Actor.s_futureBallPosX[b])<=135168;++b){if(java.lang.Math.abs(Actor.s_futureBallPosY[b])>86272){break}if(Actor.s_futureBallPosZ[b]-e<0){if(Actor.s_futureBallPosZ[b]<=0){break}if(Actor.s_futureBallPosZ[b]<=d){this.m_rcvFitFrameOff=b;break}}else{this.m_rcvFitFrameOff=b}e=Actor.s_futureBallPosZ[b]}this.m_rcvGoAndKickX=Actor.s_futureBallPosX[this.m_rcvFitFrameOff];this.m_rcvGoAndKickY=Actor.s_futureBallPosY[this.m_rcvFitFrameOff];this.m_rcvFitFrameOff-=Actor.s_ctrFutureBallFrame-1;this.m_rcvBallGoAndKickX=this.m_rcvGoAndKickX;this.m_rcvBallGoAndKickY=this.m_rcvGoAndKickY;if(CPlayer.s_ballReceiver[this.m_ID]!=null&&this.m_ID==CTeam.s_rcvUseNewPointingSystemTeamID&&this.m_specialDirectType!=0){var c=this.convertDir(CPlayer.dirTo(this.m_rcvBallGoAndKickX-CPlayer.s_ballReceiver[this.m_ID].m_posX,this.m_rcvBallGoAndKickY-CPlayer.s_ballReceiver[this.m_ID].m_posY));if((c>0&&c<4&&this.m_leftSide)||(c<=7&&c>4&&!this.m_leftSide)){if(a==2){CPlayer.parseVector_dup_II(6400,this.convertDir(c));this.m_rcvGoAndKickX-=CPlayer.s_vectorX;this.m_rcvGoAndKickY-=CPlayer.s_vectorY}else{if(a==3){CPlayer.parseVector_dup_II(4352,this.convertDir(c));this.m_rcvGoAndKickX-=CPlayer.s_vectorX;this.m_rcvGoAndKickY-=CPlayer.s_vectorY}}}else{if(a==2){CPlayer.parseVector_dup_II(6400,this.convertDir(this.m_leftSide?2:4));this.m_rcvGoAndKickX-=CPlayer.s_vectorX;this.m_rcvGoAndKickY-=CPlayer.s_vectorY}else{a=1;this.m_specialDirectType=0}}}this.m_rcvActionKind=a},initializeTeam:function(b){this.m_ID=b;this.m_opTeam=CTeam.s_teams[1-b];this.m_GK=this.m_players[0];this.m_GK.m_coachSetTacState=14;this.m_GK.m_speed=CPlayer.BASIC_SPEED;for(var a=0;a<11;++a){this.m_players[a].m_myTeam=this;this.m_players[a].m_opTeam=this.m_opTeam;this.m_players[a].m_Number=a}if(cGame.s_matchMode!=1&&cGame.s_matchMode!=2&&cGame.s_matchMode!=4&&cGame.s_matchMode!=6){for(var a=0;a<this.m_suspension.length;++a){this.m_suspension[a]=false}cGame.s_suspension_mask=0}for(var a=0;a<this.m_suspension.length;++a){if(cGame.s_matchMode!=8||cGame.s_stateCurrent==74){this.m_fatigue[a]=0}CTeam.m_playerID_in_default_order[a]=a}this.loadFormation(cGame.TeamselForm[this.m_ID])},loadFormation:function(b){this.m_formationID=b;var c=cGame.s_formation[b*67+1]-48;var d=c+cGame.s_formation[b*67+2]-48;var a=b*67+5;this.m_GK.m_formationGridX=-16;this.m_GK.m_formationGridY=0;this.m_GK.m_role=0;for(var f=1;f<11;++f){var g=(f-1)*6;var k=this.m_players[f];k.m_formationGridX=cGame.s_formation[a+g];k.m_formationGridY=gloft.casttoint(cGame.s_formation[a+g+1]*18/15);java.lang.System.arraycopy(cGame.s_formation,a+g+2,this.m_activeZoomArange,f<<2,4);if(f<=c){k.m_role=1;k.m_side=CPlayer.getSide(f-1,c);k.m_GridOffsetX=gloft.casttoint((k.m_formationGridX+12)/2)}else{if(f<=d){k.m_role=2;k.m_side=CPlayer.getSide(f-c-1,d-c);k.m_GridOffsetX=gloft.casttoint((k.m_formationGridX-0)/2)}else{k.m_role=3;k.m_side=CPlayer.getSide(f-d-1,10-d);k.m_GridOffsetX=gloft.casttoint((k.m_formationGridX-12)/2)}}var h=k.getFormationPos();k.m_defendGridX=CTeam.ATTACK_DEFEND_OFFSET[h<<2];k.m_attackGridX=CTeam.ATTACK_DEFEND_LINE[(h<<2)+3]+CTeam.ATTACK_DEFEND_OFFSET[(h<<2)+3]}if(this.m_type==1){this.m_attackGridLine=cGame.s_attackLine4CPU}else{this.m_attackGridLine=cGame.s_attackLine}this.m_defendGridLine=cGame.s_formation[b*67+66];var l=gloft.ArrayCreation([7],gloft.casttobyte(null));for(var e=0;e<l.length;++e){if((e&1)==1){l[e]=45}else{l[e]=cGame.s_formation[67*this.m_formationID+1+gloft.casttoint(e/2)]}}cGame.s_formationName[this.m_ID]=new java.lang.String(l)},restorFatigueInHalfEnd:function(){var c=0;switch(cGame.s_whichHalf){case 2:c=60;break;case 3:c=30;break;case 4:c=20;break}for(var b=0;b<11;++b){if(this.m_players[b].m_timeFatigue+this.m_players[b].m_baseFatigue-c<0){this.m_players[b].m_baseFatigue=-this.m_players[b].m_timeFatigue}else{var a=this.m_players[b];a.m_baseFatigue-=c}this.m_players[b].updateFatigue()}},restoreBalFatigueInHalfEnd:function(){if(cGame.s_balFatigue==null){GLLib.Pack_Open("/2");cGame.s_balFatigue=GLLib.Pack_ReadArray(26);GLLib.Pack_Close()}var c=0;switch(cGame.s_whichHalf){case 2:case 3:case 4:c=cGame.s_balFatigue[0][5];for(var b=0;b<11;++b){var a=this.m_players[b];a.m_baseFatigue-=c;this.m_players[b].updateFatigue()}default:}},inArea:function(a,b){if(a>-CTeam.FORBIDDEN_ZONE_RIGHT_GRID){if(b>=CTeam.FORBIDDEN_ZONE_TOP_GRID&&b<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID){return 2}return 0}else{if(a<-CTeam.FORBIDDEN_ZONE_RIGHT_GRID-3){return 4}if(b>=CTeam.FORBIDDEN_ZONE_TOP_GRID&&b<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID){return 3}return 1}},convertPos:function(a){return this.m_leftSide?a:(-a)},convertDir:function(a){return this.m_leftSide?a:(a+4&7)},PosToGrid:function(a){return gloft.casttoint((((this.m_leftSide?a:(-a))>>8)+16)/32)},GridToPos:function(a){return this.m_leftSide?(a*32<<8):(-(a*32<<8))},GridToPosRandom:function(a){return this.m_leftSide?(a*32+cGame.random(-16,16)<<8):(-(a*32+cGame.random(-16,16)<<8))},calGridCoordinates:function(){for(var a=0;a<11;++a){var b=this.m_players[a];if(b.m_court==0){b.m_gridX=gloft.casttoint((((this.m_leftSide?b.m_posX:(-b.m_posX))>>8)+16)/32);b.m_gridY=gloft.casttoint((((this.m_leftSide?b.m_posY:(-b.m_posY))>>8)+16)/32)}}},setGridValue:function(d,c,t,g,f,o){var b=gloft.casttoint(null);var m=b=-t;var a=gloft.casttoint(null);var l=a=t;var s=-16-d;var r=16-d;var q=-10-c;var p=10-c;if(m<s){m=s}else{if(m>r){m=r}}if(l<s){l=s}else{if(l>r){l=r}}if(b<q){b=q}else{if(b>p){b=p}}if(a<q){a=q}else{if(a>p){a=p}}var e=(d+m+16)*21+(b+c+10);var n=a-b+1;for(var k=m;k<=l;++k){if(k==m){for(var h=b;h<=a;++h){CTeam.s_lineOfGrid[h-b]=gloft.casttobyte(g)}}java.lang.System.arraycopy(CTeam.s_lineOfGrid,0,this.s_valueOfGrid,e,n);e+=21}},getSupportGrid:function(m){var g=this.m_players[m];var l=g.m_defaultGridX;var k=g.m_defaultGridY;var h=m<<2;var r=CPlayer.dirTo(this.s_hotspotGridX-l,this.s_hotspotGridY-k);var q=gloft.casttoint(null);var o=gloft.casttoint(null);if(this.m_state==1&&this.isInPlayfield(this.s_hotspotGridX,this.s_hotspotGridY)&&this.isInActiveZoom(m,this.s_hotspotGridX,this.s_hotspotGridY)){q=l;o=k}else{if(this.m_state==-1){q=l;o=k;var p=cGame.fastDistance(l-this.s_hotspotGridX,k-this.s_hotspotGridY);var A=(r>3)?CTeam.DEFEND_ZONE[this.m_formationID][h+0]:CTeam.DEFEND_ZONE[this.m_formationID][h+1];var b=(r<2||r>6)?CTeam.DEFEND_ZONE[this.m_formationID][h+2]:CTeam.DEFEND_ZONE[this.m_formationID][h+3];var B=false;if(this.isInDefendZone(m,this.s_hotspotGridX,this.s_hotspotGridY)){B=true}else{if(p>=12){A-=2;b+=0}else{if(p>=6){--A;b+=0}else{if(p>4){A+=0;b+=0}else{B=true}}}}A=((A<0)?1:A);b=((b<0)?1:b);if(B){var z=CTeam.DIR_TRANSFORM[r+2];var w=CTeam.DIR_TRANSFORM[r+0];var v=l;var u=k;var f=l;var e=k;var c=p;var a=p;for(var t=0;t<A;++t){for(var s=0;s<b;++s){v=l+z*t;u=k+w*s;c=cGame.fastDistance(v-this.s_hotspotGridX,u-this.s_hotspotGridY);if(c<a){a=c;f=v;e=u}}}q=f;o=e}else{q=l+CTeam.DIR_TRANSFORM[r+2]*A;o=k+CTeam.DIR_TRANSFORM[r+0]*b}if(this.s_hotspotGridX<=CTeam.FORBIDDEN_ZONE_RIGHT_GRID&&g.m_role==2&&(g.m_side==2||g.m_side==5||g.m_side==3)){q-=3}if(this.s_hotspotGridX<=CTeam.FORBIDDEN_ZONE_RIGHT_GRID+10&&this.s_hotspotGridY>-5&&this.s_hotspotGridY<5&&(g.m_role==1||g.m_role==2)){o>>=1;if(g.m_side==1&&this.s_hotspotGridY<-5){o<<=1}else{if(g.m_side==4&&this.s_hotspotGridY>5){o<<=1}}}}else{var n=(r>3)?this.m_activeZoomArange[h+0]:this.m_activeZoomArange[h+1];var d=(r<2||r>6)?this.m_activeZoomArange[h+2]:this.m_activeZoomArange[h+3];q=l;if(g.m_side==1||g.m_side==4){o=k+CTeam.DIR_TRANSFORM[r+0]*1}else{o=k+CTeam.DIR_TRANSFORM[r+0]*d}}}if(this.m_state!=-1){if(this.s_hotspotGridX<-4&&q>8){q=8}else{if(this.s_hotspotGridX<4&&q>12){q=12}}}if(CTeam.s_matchState==0&&this.m_state==1&&g.m_role!=1&&q>=this.s_hotspotGridX-4){if(k>5&&this.m_attackSide==1){o=k}else{if(k<-5&&this.m_attackSide==0){o=k}}}if(CTeam.s_matchState==0&&this.m_state==1&&g.m_role==3&&q>=this.m_offsideGridX){q=this.m_offsideGridX}if(o==this.s_hotspotGridY&&this.m_state==1){o+=(GLLib.s_game_currentFrameNB>>7&10)-1}if((Actor.s_ball_heldbygk||CTeam.s_matchState==4)&&this.m_state==-1&&cGame.s_aiMode!=12){if(cGame.s_aiMode==6&&q>=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[2].m_coachSetDestGridX))){q=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[2].m_coachSetDestGridX))-1}else{if(cGame.s_aiMode==10){if(q>=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[CTeam.getNextPlayerID(1-this.m_ID,0,11,1)].m_coachSetDestGridX))){q=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[CTeam.getNextPlayerID(1-this.m_ID,0,11,1)].m_coachSetDestGridX))-1}}else{if(cGame.s_aiMode!=6&&q>=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[CTeam.getNextPlayerID(1-this.m_ID,2,10,1)].m_coachSetDestGridX))){q=this.PosToGrid(this.m_opTeam.GridToPos(this.m_opTeam.m_players[CTeam.getNextPlayerID(1-this.m_ID,2,10,1)].m_coachSetDestGridX))-1}}}}if(!this.selectGoodSpace(m,q,o,true)&&CTeam.s_matchState!=0){this.selectGoodSpace(m,q,o,false)}},getTowardGrid:function(d){switch(d){case 4:case 5:if(this.m_offsideGridX>=13){if(cGame.s_aiMode==12){CTeam.s_towardGridX=cGame.random(12,13)}else{CTeam.s_towardGridX=cGame.random(11,12)}}else{CTeam.s_towardGridX=this.s_hotspotGridX+cGame.random(0,2)}if(d==4){CTeam.s_towardGridY+=cGame.random(4,5);break}CTeam.s_towardGridY+=-cGame.random(4,5);break;case 3:CTeam.s_towardGridX=cGame.random(4,6);if(this.m_attackSide==1){CTeam.s_towardGridY=cGame.random(9,8);break}CTeam.s_towardGridY=cGame.random(-9,-8);break;case 0:if(this.m_offsideGridX>=13){CTeam.s_towardGridX=cGame.random(11,12)}else{CTeam.s_towardGridX=cGame.random(this.m_offsideGridX-2,this.m_offsideGridX);CTeam.s_towardGridX=java.lang.Math.min(CTeam.s_towardGridX,11)}if(this.m_attackSide==1){CTeam.s_towardGridY=cGame.random(6,9);break}CTeam.s_towardGridY=cGame.random(-9,-6);break;case 1:if(this.m_offsideGridX>=13){CTeam.s_towardGridX=cGame.random(12,13)}else{CTeam.s_towardGridX=cGame.random(java.lang.Math.max(this.m_offsideGridX-4,this.s_hotspotGridX),(this.s_hotspotGridX>8)?this.m_offsideGridX:(this.m_offsideGridX-2))}CTeam.s_towardGridY=cGame.random(-3,3);if(CTeam.s_matchState!=0){CTeam.s_towardGridY=cGame.random(-3,3);break}CTeam.s_towardGridY=cGame.random(1,3);if(this.m_attackSide==1){CTeam.s_towardGridY=-CTeam.s_towardGridY;break}break;case 2:var f=(CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner:CPlayer.s_ballFastOwner;var b=gloft.casttoint(null);for(b=1;b<11;++b){var g=this.m_opTeam.m_players[b];if(g.m_court==0){if(g.m_disToBall<=64&&CPlayer.dirIn3(f.m_currDir+4&7,g.m_dirToBall)){break}}}if(b==11){return false}var a=this.m_opTeam.m_players[b];var e=this.convertDir(f.m_currDir);CTeam.s_towardGridX=this.PosToGrid(a.m_posX);CTeam.s_towardGridY=this.PosToGrid(a.m_posY);var c=f.posClockwiseOfMe(a.m_posX,a.m_posY,f.m_currDir);CPlayer.parseVector_dup_II(2,e+(c?-2:2)+8&7);CTeam.s_towardGridX+=CPlayer.s_vectorX;CTeam.s_towardGridY+=CPlayer.s_vectorY;CPlayer.parseVector_dup_II(2,e);CTeam.s_towardGridX+=CPlayer.s_vectorX;CTeam.s_towardGridY+=CPlayer.s_vectorY;return this.isInPlayfield(CTeam.s_towardGridX,CTeam.s_towardGridY)}return true},getMarkPos:function(b,a){if(this.m_opTeam.m_players[b]==CPlayer.s_ballFastOwner){CTeam.s_markX=Actor.s_football.m_destX;CTeam.s_markY=Actor.s_football.m_destY;CPlayer.parseVector_dup_II(((a==0)?32:(a*32))<<8,CPlayer.dirTo(CTeam.s_markX-CPlayer.s_ballFastOwner.m_posX,CTeam.s_markY-CPlayer.s_ballFastOwner.m_posY));CTeam.s_markX+=CPlayer.s_vectorX;CTeam.s_markY+=CPlayer.s_vectorY}else{CTeam.s_markX=this.m_opTeam.m_players[b].m_posX;CTeam.s_markY=this.m_opTeam.m_players[b].m_posY;if(a==0){CPlayer.parseVector_dup_II(1280,this.m_opTeam.m_players[b].m_currDir);CTeam.s_markX+=CPlayer.s_vectorX;CTeam.s_markY+=CPlayer.s_vectorY}else{CTeam.getPointBetweenTwoPoint(a*32,this.m_leftSide?(-cGame.CAGE_LEFT+8<<8):(cGame.CAGE_LEFT-8<<8),0,CTeam.s_markX,CTeam.s_markY);CTeam.s_markX=CTeam.s_middlePointX;CTeam.s_markY=CTeam.s_middlePointY}}},getMarkPos1:function(e,a){var c=this.m_opTeam.m_players[e].m_currDir;var d=a*362>>1;var b=a*362>>1;if(this.m_leftSide){switch(c){case 5:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX-d;CTeam.s_markY=this.m_opTeam.m_players[e].m_posY+b;break;case 7:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX-d;CTeam.s_markY=this.m_opTeam.m_players[e].m_posY-b;break;default:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX-(a<<8);CTeam.s_markY=this.m_opTeam.m_players[e].m_posY;break}}else{switch(c){case 1:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX+d;CTeam.s_markY=this.m_opTeam.m_players[e].m_posY-b;break;case 3:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX+d;CTeam.s_markY=this.m_opTeam.m_players[e].m_posY+b;break;default:CTeam.s_markX=this.m_opTeam.m_players[e].m_posX+(a<<8);CTeam.s_markY=this.m_opTeam.m_players[e].m_posY;break}}},getMyCloseDownPos:function(a,d,c){CTeam.s_markX=this.m_opTeam.m_players[c].m_posX;CTeam.s_markY=this.m_opTeam.m_players[c].m_posY;var b=CPlayer.dirTo(this.s_hotspotGridX-a,this.s_hotspotGridY-d);CPlayer.parseVector_dup_II(12800,b);CTeam.s_markX+=CPlayer.s_vectorX;CTeam.s_markY+=CPlayer.s_vectorY},isInGridZone:function(i,h,f,g,c,a,e){var d=this.PosToGrid(i.m_posX);var b=this.PosToGrid(i.m_posY);return d>=h-g&&d<=h+c&&b>=f-a&&b<=f+e},isInGridZone_Optimized:function(b,a,d,c){return b>=0&&a>=0&&b<=d&&a<=c},isInActiveZoom:function(c,a,f){var d=this.m_players[c].m_defaultGridX;var b=this.m_players[c].m_defaultGridY;var e=c<<2;return a>=d-this.m_activeZoomArange[e+0]&&a<=d+this.m_activeZoomArange[e+1]&&f>=b-this.m_activeZoomArange[e+2]&&f<=b+this.m_activeZoomArange[e+3]&&(this.m_state==-1||a<=this.m_offsideGridX+1)},isInOpForbidden:function(b,d){var a=this.PosToGrid(b);var c=this.PosToGrid(d);return a>=-CTeam.FORBIDDEN_ZONE_RIGHT_GRID&&c>=CTeam.FORBIDDEN_ZONE_TOP_GRID&&c<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID},isInPlayfield:function(a,b){return a<=16&&a>=-16&&b<=10&&b>=-10},isInDefendZone:function(b,a,c){return a<=this.m_players[b].m_defaultGridX+CTeam.DEFEND_ZONE[this.m_formationID][b*4+1]&&a>=this.m_players[b].m_defaultGridX-CTeam.DEFEND_ZONE[this.m_formationID][b*4]&&c<=this.m_players[b].m_defaultGridY+CTeam.DEFEND_ZONE[this.m_formationID][b*4+3]&&c>=this.m_players[b].m_defaultGridY-CTeam.DEFEND_ZONE[this.m_formationID][b*4+2]},selectGoodSpace:function(k,i,g,a){var b=(i+16)*21+g+10;if(this.isInPlayfield(i,g)){if(this.s_valueOfGrid[b]==0&&(!a||this.isInActiveZoom(k,i,g))){this.setPlayerDest(k,i,g);return true}var d=(CTeam.s_matchState==0)?8:16;if(CTeam.s_matchState==5||CTeam.s_matchState==7||CTeam.s_matchState==6){d=2}for(var h=1;h<=d;++h){var l=g-h;var f=2;var n=1;var m=0;var e=0;var c=h;var p=i;var o=l;var j=b-h;do{if(this.isInPlayfield(p,o)&&this.s_valueOfGrid[j]==0&&(!a||this.isInActiveZoom(k,p,o))){if(CTeam.s_matchState!=4){this.setPlayerDest(k,p,o);return true}if(this.m_state!=-1||p<this.m_offsideGridX){this.setPlayerDest(k,p,o);return true}}if(e==c){f=(f+2&7);n=CTeam.DIR_TRANSFORM[f+2];m=CTeam.DIR_TRANSFORM[f+0];e=0;c=h<<1}p+=n;o+=m;if(f==0){--j}else{if(f==4){++j}else{if(f==2){j+=21}else{if(f==6){j-=21}}}}++e}while(p!=i||o!=l)}this.setPlayerDest(k,i,g)}else{this.setPlayerDest(k,this.m_players[k].m_defaultGridX,this.m_players[k].m_defaultGridY)}return false},refreshGridOfOpTeam:function(){this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));var c=1-this.m_ID;for(var a=0;a<11;++a){var b=this.m_opTeam.m_players[a];if(cGame.ENABLE_CHEAT_TEST){if(b.m_court==0){this.setGridValue(this.PosToGrid(b.m_posX),this.PosToGrid(b.m_posY),0,c+1,-1,false)}b=CTeam.s_team0.m_players[a];if(b.m_court==0){this.setGridValue(this.PosToGrid(b.m_posX),this.PosToGrid(b.m_posY),0,this.m_ID+1,-1,false)}}else{if(b.m_court==0){this.setGridValue(this.PosToGrid(b.m_posX),this.PosToGrid(b.m_posY),0,c+1,-1,false)}}}java.lang.System.arraycopy(this.s_valueOfGrid,0,CPlayer.s_pass_grid,0,693)},selectGoodPassPoint:function(B,A,b,c){for(var u=0;u<CTeam.s_bHasDefInDir.length;++u){CTeam.s_bHasDefInDir[u]=false}var d=this.m_players[b];var t=CPlayer.dirTo(d.m_posX-B,d.m_posY-A);CPlayer.s_orgGridX=this.PosToGrid(B);CPlayer.s_orgGridY=this.PosToGrid(A);for(var s=0;s<11;++s){var h=this.m_opTeam.m_players[s];if(this.PosToGrid(h.m_posX)==this.PosToGrid(B)&&this.PosToGrid(h.m_posY)==this.PosToGrid(A)){CTeam.s_bHasDefInDir[8]=true}else{var z=h.m_posX-B;var y=h.m_posY-A;if(cGame.fastDistance(z,y)<16384){CTeam.s_bHasDefInDir[CPlayer.dirTo(z,y)]=true}}}if(CPlayer.s_blockPlayerArrayIndex>0){for(var s=0;s<CPlayer.s_blockPlayerArrayIndex;++s){var f=CPlayer.s_blockPlayerMirrorPos[s][0];var e=CPlayer.s_blockPlayerMirrorPos[s][1];if(this.PosToGrid(f)==this.PosToGrid(B)&&this.PosToGrid(f)==this.PosToGrid(A)){CTeam.s_bHasDefInDir[8]=true;CTeam.s_bHasDefInDir[t]=true;CTeam.s_bHasDefInDir[t+4&7]=true}else{var n=cGame.fastDistance(f-B,e-A);var o=CPlayer.dirTo(f-B,e-A);var a=CPlayer.dirDifference(t,o);switch(a){case 0:CTeam.s_bHasDefInDir[8]=true;CTeam.s_bHasDefInDir[t]=true;CTeam.s_bHasDefInDir[t+4&7]=true;break;case 4:CTeam.s_bHasDefInDir[o]=true;break;case 1:case 3:CTeam.s_bHasDefInDir[t+1&7]=true;CTeam.s_bHasDefInDir[t+3&7]=true;case 2:CTeam.s_bHasDefInDir[t+2&7]=true;break;case -3:case -1:CTeam.s_bHasDefInDir[t+7&7]=true;CTeam.s_bHasDefInDir[t+5&7]=true;case -2:CTeam.s_bHasDefInDir[t+6&7]=true;break}}}}var m=0;var p=gloft.ArrayCreation([9],gloft.casttoint(null));var w=gloft.casttoint(null);var v=w=0;var x=-1;for(var r=0;r<CTeam.s_bHasDefInDir.length;++r){if(CTeam.s_bHasDefInDir[r]){p[m]=r;++m}}if(m==1){x=this.getOffsetDirInPass(t,p[0])}else{var g=-1;for(var q=0;q<m;++q){x=this.getOffsetDirInPass(t,p[q]);if(g==-1){g=x}else{if(g!=x){x=t;break}}}}CPlayer.s_offsetDir=x;if(m==0){d.setPassDest(B,A)}else{w=CTeam.DIR_TRANSFORM[x+2]*32<<6;v=CTeam.DIR_TRANSFORM[x+0]*32<<6;d.setPassDest(B+w,A+v)}},getOffsetDirInPass:function(c,b){var a=gloft.casttoint(null);if(b==8){a=c}else{var d=CPlayer.dirDifference(c,b);if(d==0){if(c%2==0){a=(c+((GLLib.s_game_currentFrameNB%2==0)?-1:1)&7)}else{a=(c+((GLLib.s_game_currentFrameNB%2==0)?-2:2)&7)}}else{if(d==4){a=c}else{if(d>0){a=(c-2&7)}else{if(d<0){a=(c+2&7)}else{a=(b+4&7)}}}}}return a},findNearstPlayer:function(c,f,g){if(CTeam.s_SkipedNearstPlayerId!=-1){g=true}var b=10240;var a=0;for(var e=g?1:0;e<11;++e){var d=this.m_players[e];if(d.m_court==0){if(d.m_coachSetTacState!=0&&d.m_coachSetTacState!=14){if(CTeam.s_matchState==0){continue}if(d.m_coachSetTacState!=12){continue}}var h=cGame.fastDistance(c-d.m_gridX<<8,f-d.m_gridY<<8);if(e==0){h>>=1}if(b>h&&CTeam.s_SkipedNearstPlayerId!=e){b=h;a=e}}}return a},findNearstPlayerForPress:function(a,g){var b=40;var c=0;var f=null;if(CPlayer.s_ballOwner!=null){f=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){f=CPlayer.s_ballFastOwner}}var h=f.m_side;for(var d=1;d<11;++d){var j=this.m_players[d];if(j.m_court==0){if(j.m_gridX<=this.s_hotspotGridX){if(java.lang.Math.abs(this.s_hotspotGridY)>5){if(this.s_hotspotGridY<0&&j.m_side!=1){continue}if(this.s_hotspotGridY>0&&j.m_side!=4){continue}}else{if(this.s_hotspotGridY<0&&j.m_side==4){continue}if(this.s_hotspotGridY>0&&j.m_side==1){continue}}var e=cGame.fastDistance(a-j.m_gridX,g-j.m_gridY);if(b>e){b=e;c=d}}}}if(c==0){for(var d=1;d<11;++d){var j=this.m_players[d];if(j.m_court==0){var e=cGame.fastDistance(a-j.m_gridX,g-j.m_gridY);if(b>e){b=e;c=d}}}}return c},findPlayerByPosNew:function(c,f,g){var b=135168;var a=0;for(var e=g?1:0;e<11;++e){var d=this.m_players[e];if(d.m_court==0){if(d.m_coachSetTacState!=0&&d.m_coachSetTacState!=14){if(CTeam.s_matchState==0){continue}if(d.m_coachSetTacState!=12){continue}}var h=cGame.fastDistance(c-d.m_posX,f-d.m_posY);if(b>h){b=h;a=e}}}return a},findPlayerByPos:function(b,j,f){var c=40;var d=0;for(var e=f?1:0;e<11;++e){var k=this.m_players[e];if(k.m_court==0){if(k.m_coachSetTacState!=0&&k.m_coachSetTacState!=14){if(CTeam.s_matchState==0){continue}if(k.m_coachSetTacState!=12){continue}}var a=b-k.m_defaultGridX;var h=j-k.m_defaultGridY;var g=((a>=0)?a:(-a))+((h>=0)?h:(-h));if(e==0){g>>=1}if(c>g){c=g;d=e}}}return d},findPlayerByDis:function(b,a,g,h){var d=h;var e=-1;var f=gloft.casttoint(null);for(var c=f=(g?1:0);f<11;++f){var k=this.m_players[f];if(k.m_court==0){var j=cGame.fastDistance(b-k.m_posX,a-k.m_posY);if(j<=d){d=j;e=f}}}return e},getGoForBallPlayerID:function(){if(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner.m_myTeam.m_ID==this.m_ID){return CPlayer.s_ballFastOwner.m_Number}if(CPlayer.s_oneTwoPlayer[this.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_ID]!=CPlayer.s_ballLastOwner){return CPlayer.s_oneTwoPlayer[this.m_ID].m_Number}if(CPlayer.s_haveCompetition){if(CPlayer.s_shoveLostBall&&this.m_ID==CPlayer.s_shoveBallPlayer.m_myTeam.m_ID){return CPlayer.s_shoveBallPlayer.m_Number}}else{if(this.m_type==0&&CTeam.s_throughReceiverID!=-1){return this.m_players[CTeam.s_throughReceiverID].m_Number}}var a=this.findNearstPlayer(this.s_hotspotGridX,this.s_hotspotGridY,this.m_state!=1||(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_ID)||this.s_hotspotGridX>=-12||java.lang.Math.abs(this.s_hotspotGridY)>=4);if(CPlayer.s_ballReceiver[this.m_ID]==null||CPlayer.s_ballReceiver[this.m_ID].m_Number==a){return a}if(this.m_players[a].m_disToBall<gloft.casttoint(CPlayer.s_ballReceiver[this.m_ID].m_disToBall*3/5)){return a}return CPlayer.s_ballReceiver[this.m_ID].m_Number},setPlayerDest:function(b,a,d){if(CTeam.s_matchState==5&&this.m_state==-1&&this.m_players[b].m_coachSetTacState==0){if(this.m_players[b].m_role==3){a=((a+16)*3>>2)-16}d=d*3>>2}if(a>this.m_offsideGridX&&cGame.random(0,9)<=6){this.m_players[b].m_coachSetDestGridX=this.m_offsideGridX}else{this.m_players[b].m_coachSetDestGridX=a}this.m_players[b].m_coachSetDestGridY=d;var c=2;if(CTeam.s_period==0&&CTeam.s_matchState!=0){c=0}else{if(this.m_state==-1){c=1}}this.setGridValue(a,d,c,this.m_ID+1,-1,false)},refreshCoachOrder_step1:function(){this.calGridCoordinates();this.m_needRefresh=false;if(CPlayer.s_ballOwner!=null){this.s_hotspotGridX=this.PosToGrid(CPlayer.s_ballOwner.m_posX);this.s_hotspotGridY=this.PosToGrid(CPlayer.s_ballOwner.m_posY)}else{this.s_hotspotGridX=this.PosToGrid(Actor.s_football.m_destX);this.s_hotspotGridY=this.PosToGrid(Actor.s_football.m_destY)}this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));this.gkRefreshCoachOrder();for(var D=1;D<11;++D){this.m_players[D].m_coachSetTacState=0;this.m_players[D].m_isGoForBall=false}if(Actor.s_ball_heldbygk){return}if(CPlayer.s_ballOwner==null){if(this.m_type==0){}var z=this.getGoForBallPlayerID();var q=this.m_players[z];if(q!=CPlayer.s_ballLastOwner||q==CPlayer.s_shoveBallPlayer||q==CPlayer.s_competitorStrong){q.setBallReceiver()}else{if(q!=CPlayer.s_ballTackledOutBy&&q!=CPlayer.s_ballReceiver[this.m_ID]){CTeam.s_SkipedNearstPlayerId=z;z=this.getGoForBallPlayerID();q=this.m_players[z];if(CTeam.s_SkipedNearstPlayerId!=z){q.setBallReceiver()}CTeam.s_SkipedNearstPlayerId=-1}}if(q.m_Number==0){if(cGame.s_aiMode!=6){q.m_coachSetTacState=15;if(this.m_state==-1){z=this.getGoForBallPlayerID();q=this.m_players[z];q.m_coachSetTacState=1}}}else{if((this.m_type==1||CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_ID)&&(CTeam.s_throughReceiverID==-1||cGame.s_aiMode!=10)){q.m_coachSetTacState=1}}if(this.m_state==1){var G=Actor.s_football.m_destX;var F=Actor.s_football.m_destY;if((Actor.s_ball_state==1||Actor.s_ball_state==10)&&!this.m_rcvUseNewPointingSystem){this.rcvSelectpoint(1);G=this.m_rcvGoAndKickX;F=this.m_rcvGoAndKickY}else{if(Actor.s_ball_state==0&&q.m_isWeaker){var h=CPlayer.s_competitorStrong;CPlayer.parseVector_dup_II(2048,h.m_currDir+4&7);G=h.m_posX+CPlayer.s_vectorX;F=h.m_posY+CPlayer.s_vectorY}}q.m_destX=G;q.m_destY=F}else{var f=Actor.s_football.m_destX;var e=Actor.s_football.m_destY;if(Actor.s_ball_state==0&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_ID&&(CPlayer.s_bIsThroughPass||this.isPointInMyFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY))){var H=gloft.casttoint(q.getPlayerData(18)/3)+(((q.m_starAbility&32)!=0)?5:0);if(CPlayer.s_chaseBallPercent<H){for(var C=Actor.s_ctrFutureBallFrame;C<189;++C){if(Actor.ballOverPointOn(Actor.s_football.m_destX,Actor.s_football.m_destY,C-Actor.s_ctrFutureBallFrame)){break}if(CPlayer.getRunFrames(q.m_speed,q.m_posX,q.m_posY,Actor.s_futureBallPosX[C],Actor.s_futureBallPosY[C])+6<C){f=Actor.s_futureBallPosX[C];e=Actor.s_futureBallPosY[C];break}}q.m_destX=f;q.m_destY=e}else{if(q.isBallPassedMe()){q.m_destX=f;q.m_destY=e}else{q.m_destX=q.m_posX;q.m_destY=q.m_posY}}}else{if(Actor.s_ball_state==1||Actor.s_ball_state==10){var n=Actor.s_ballDestReached?Actor.s_football.m_posX:Actor.s_football.m_destX;var m=Actor.s_ballDestReached?Actor.s_football.m_posY:Actor.s_football.m_destY;q.m_destX=n;q.m_destY=m}else{if(Actor.s_ball_state==0&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_ID&&(q.m_currState==1||q.m_coachSetTacState==1)&&!Actor.s_ballDestReached){var g=CPlayer.dirTo(Actor.s_football.m_destX-q.m_posX,Actor.s_football.m_destY-q.m_posY);var d=CPlayer.dirTo(q.m_destX-q.m_posX,q.m_destY-q.m_posY);if(q.m_isWeaker){var t=CPlayer.s_competitorStrong;CPlayer.parseVector_dup_II(2048,t.m_currDir+4&7);q.m_destX=t.m_posX+CPlayer.s_vectorX;q.m_destY=t.m_posY+CPlayer.s_vectorY}else{if(!CPlayer.dirIn3(g,d)&&!CPlayer.dirIn5(d,this.convertDir(6))){q.m_destX=q.m_posX;q.m_destY=q.m_posY}else{if(q.isBallPassedMe()){q.m_destX=f;q.m_destY=e}}}}}}}q.m_destX=cGame.limit(q.m_destX,-135168,135168);q.m_destY=cGame.limit(q.m_destY,-86272,86272)}else{if(this.m_state==1&&CPlayer.s_ballOwner.m_Number!=0){CPlayer.s_ballOwner.m_coachSetTacState=5;if(CPlayer.s_ballOwner.m_tacState!=1&&CPlayer.s_ballOwner.m_tacState!=5&&CPlayer.s_ballOwner!=CPlayer.s_focusPlayer){this.deleteAllCommand(CPlayer.s_ballOwner.m_Number)}else{if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID!=this.m_ID&&CPlayer.s_ballOwner.m_tacState==1){this.deleteAllCommand(CPlayer.s_ballOwner.m_Number)}}}}var p=null;if(CPlayer.s_ballOwner!=null){p=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){p=CPlayer.s_ballFastOwner}}if(p!=null&&!Actor.s_ball_heldbygk){if(this.m_state==1&&p!=null){if(this.PosToGrid(p.m_posY)>=0){this.m_attackSide=1}else{this.m_attackSide=0}if(this.getTowardGrid(2)){var r=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);if(this.isInGridZone_Optimized(this.m_players[r].m_gridX-CTeam.s_towardGridX+6,this.m_players[r].m_gridY-CTeam.s_towardGridY+4,8,8)){this.m_players[r].m_coachSetTacState=3;this.selectGoodSpace(r,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}}var v=0;var b=false;var c=false;var a=gloft.casttoint(null);var o=gloft.casttoint(null);if(this.s_hotspotGridX>=-CTeam.FORBIDDEN_ZONE_RIGHT_GRID&&this.s_hotspotGridY>=CTeam.FORBIDDEN_ZONE_TOP_GRID&&this.s_hotspotGridY<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID){a=2;o=1}else{if((this.s_hotspotGridY>=7||this.s_hotspotGridY<=-7)&&this.s_hotspotGridX>=9){a=1;o=2;c=true}else{a=1;o=0}}if((this.s_hotspotGridY>=7||this.s_hotspotGridY<=-7)&&this.s_hotspotGridX>0){v=0}if(b){if(cGame.s_aiMode==12){CTeam.s_towardGridY=0}if(this.s_hotspotGridY<7){this.getTowardGrid(4);var I=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);this.m_players[I].m_coachSetTacState=2;this.selectGoodSpace(I,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}if(this.s_hotspotGridY>-7){this.getTowardGrid(5);var I=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);this.m_players[I].m_coachSetTacState=2;this.selectGoodSpace(I,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}}for(var B=0;B<o;++B){var u=this.m_attackSide;if(o>1){this.m_attackSide=(((B&1)!=0)?1:0)}this.getTowardGrid(1);this.m_attackSide=u;var w=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);if((this.m_players[w].m_starAbility&1)!=0){CTeam.s_towardGridX=this.m_offsideGridX}if(c||this.isInGridZone_Optimized(this.m_players[w].m_gridX-CTeam.s_towardGridX+8,this.m_players[w].m_gridY-CTeam.s_towardGridY+2,9,4)){if(!c){CTeam.s_towardGridY=this.m_players[w].m_gridY}this.m_players[w].m_coachSetTacState=4;this.selectGoodSpace(w,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}}for(var B=0;B<a;++B){var u=this.m_attackSide;if(a>1){this.m_attackSide=((B!=0)?1:0)}this.getTowardGrid(0);this.m_attackSide=u;var s=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);if(this.s_hotspotGridX>=0){CTeam.s_towardGridX=14;if(this.m_attackSide==1){CTeam.s_towardGridY=cGame.random(2,4)}else{CTeam.s_towardGridY=cGame.random(-2,-4)}}if((this.m_attackSide==u||this.isInGridZone_Optimized(this.m_players[s].m_gridX-CTeam.s_towardGridX+8,this.m_players[s].m_gridY-CTeam.s_towardGridY+3,16,6))&&p.m_Number!=s){this.m_players[s].m_coachSetTacState=2;this.selectGoodSpace(s,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}}if(v>0){this.getTowardGrid(3);var I=this.findPlayerByPos(CTeam.s_towardGridX,CTeam.s_towardGridY,true);if(p.m_Number!=I){this.m_players[I].m_coachSetTacState=2;this.selectGoodSpace(I,CTeam.s_towardGridX,CTeam.s_towardGridY,false)}}}else{if(this.m_state==-1){this.updateTeamDefendAI()}}}else{if(this.m_state==-1){this.updateTeamDefendAI()}}if(CPlayer.s_oneTwoPlayer[1-this.m_ID]!=null&&CPlayer.s_oneTwoPlayer[1-this.m_ID].m_tacState==4){var A=CPlayer.s_oneTwoPlayer[1-this.m_ID].m_Number;this.getMarkPos(A,1);var y=this.PosToGrid(CTeam.s_markX);var x=this.PosToGrid(CTeam.s_markY);if(this.isInPlayfield(y,x)){var E=this.findNearstPlayer(y,x,true);if(this.isInGridZone_Optimized(this.m_players[E].m_gridX-y+6,this.m_players[E].m_gridY-x+6,8,12)){this.m_players[E].m_coachSetTacState=8;this.m_players[E].m_coachSetMarkID=A;this.selectGoodSpace(E,y,x,false)}}}if(cGame.s_whichHalf==5){for(var A=0;A<11;++A){this.m_players[A].m_coachSetTacState=-1;this.m_players[A].updateProperties(4)}}this.setNewOrder(false)},getPressOrder:function(k,g){var f=-1;var i=0;var e=1;var l=2;var b=-1;var c=(this.m_leftSide&&g.m_posX>k.m_posX&&java.lang.Math.abs(g.m_posY)>java.lang.Math.abs(k.m_posY))||(!this.m_leftSide&&g.m_posX<k.m_posX&&java.lang.Math.abs(g.m_posY)>java.lang.Math.abs(k.m_posY));var d=k.m_disToBall>>8;var a=false;if(cGame.s_matchDifficult>3){a=g.m_isFastRun}else{a=(cGame.s_matchDifficult>1&&d<=30&&g.m_isFastRun)}var h=null;if(CPlayer.s_ballOwner!=null){h=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){h=CPlayer.s_ballFastOwner}}if(g.m_currState==0){b=0}else{if(g.m_currState==1){if(CPlayer.dirIn3(this.m_leftSide?6:2,g.m_currDir)){b=2}else{b=1}}}var j=this.getPressPointDistance();switch(b){case 0:if((CPlayer.s_ctrWithBall-20)%50<=1&&(CPlayer.s_ctrWithBall-20)%50>-1){CTeam.tempdis-=((g.m_currState==0)?11:8)}CTeam.tempdis=((CTeam.tempdis<0)?0:CTeam.tempdis);break;case 1:CTeam.tempdis=j;break;case 2:CTeam.tempdis=j;if(c&&d<j+10){a=(cGame.s_matchDifficult>2);++this.m_pressTime;CTeam.tempdis=((this.m_pressTime*CTeam.DIS_REDUCE_PER_TICK[cGame.s_matchDifficult]>CTeam.tempdis)?0:(CTeam.tempdis-this.m_pressTime*CTeam.DIS_REDUCE_PER_TICK[cGame.s_matchDifficult]));break}if(c){CTeam.tempdis=j+10;break}CTeam.tempdis=j;a=(cGame.s_matchDifficult>2);break}this.getMarkPos1(k.m_pressID,CTeam.tempdis);return a},getPressPointDistance:function(){if(this.m_type==1){return CTeam.DIS_BETWEEN_DEFEND_AND_ATTACK[cGame.s_matchDifficult]}if(cGame.s_matchDifficult>2){return CTeam.DIS_BETWEEN_DEFEND_AND_ATTACK[5]}return CTeam.DIS_BETWEEN_DEFEND_AND_ATTACK[2]},updateTeamDefendAI:function(){var d=0;var p=null;if(CPlayer.s_ballOwner!=null){p=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){p=CPlayer.s_ballFastOwner}}for(var f=1;f<11;++f){var k=this.m_opTeam.m_players[f];k.m_isPressed=false;k.m_isMarked=false}for(var f=1;f<11;++f){var o=this.m_players[f]}CTeam.m_isPressed=false;for(var f=1;f<11;++f){var o=this.m_players[f];if(o.m_court==0){if(cGame.s_aiMode==9){if(o.m_coachSetTacState==1&&CPlayer.s_ballOwner==null){continue}if(o.isFocusPlayerCurInDfArea()||cGame.s_dribbleDefenderAlwaysActive[f]){var b=this.s_hotspotGridX;var a=this.s_hotspotGridY;o.m_coachSetTacState=7;o.m_pressID=CPlayer.s_focusPlayer.m_Number;this.selectGoodSpace(CPlayer.s_focusPlayer.m_coachSetPresserID=f,b,a,false);CPlayer.s_focusPlayer.m_isPressed=true;CTeam.m_isPressed=true;if(CPlayer.s_focusPlayer.m_coachSetPresserID!=CPlayer.s_focusPlayer.m_presserID){this.m_pressTime=0;break}break}}if(o.m_coachSetTacState!=1||CPlayer.s_ballOwner!=null){CTeam.m_receiverIsMarked=false;CTeam.m_isMarked=false;for(var e=1;e<11;++e){var k=this.m_opTeam.m_players[e];if(k.m_court==0){if(!k.m_isPressed&&this.isInDefendZone(f,this.PosToGrid(k.m_posX),this.PosToGrid(k.m_posY))&&o.m_isInSelfDefZone&&((this.m_leftSide&&k.m_posX>o.m_posX)||(!this.m_leftSide&&k.m_posX<o.m_posX))){if(CPlayer.s_ballOwner==k||k.m_isBallReceiver){if(this.m_type!=0&&cGame.fastDistance(o.m_posX-k.m_posX,o.m_posY-k.m_posY)<=15360){var c=this.s_hotspotGridX;var s=this.s_hotspotGridY;o.m_coachSetTacState=7;o.m_pressID=e;this.selectGoodSpace(k.m_coachSetPresserID=f,c,s,false);k.m_isPressed=true;CTeam.m_isPressed=true;if(k.m_coachSetPresserID!=k.m_presserID){this.m_pressTime=0;break}break}else{if(k.m_isBallReceiver){var n=k.m_gridX;var m=k.m_gridY;o.m_coachSetTacState=8;o.m_coachSetMarkID=e;o.m_isCloseDown=false;this.selectGoodSpace(f,this.m_leftSide?n:(-n),this.m_leftSide?m:(-m),false);var h=cGame.fastDistance(o.m_posX-k.m_posX,o.m_posY-k.m_posY);k.m_isMarked=true;CTeam.m_isMarked=true}}}}else{if(k.m_isPressed&&this.isInDefendZone(f,this.PosToGrid(k.m_posX),this.PosToGrid(k.m_posY))&&o.m_isInSelfDefZone){var n=k.m_gridX;var m=k.m_gridY;o.m_coachSetTacState=8;o.m_coachSetMarkID=e;o.m_isCloseDown=true;this.selectGoodSpace(f,this.m_leftSide?n:(-n),this.m_leftSide?m:(-m),false);var h=cGame.fastDistance(o.m_posX-k.m_posX,o.m_posY-k.m_posY);k.m_isMarked=true;CTeam.m_isMarked=true}}}}if(CTeam.m_isMarked){this.m_opTeam.m_players[o.m_coachSetMarkID].m_isPressed=true}}}}if(!CTeam.m_isPressed){}if(!CTeam.m_isPressed&&p!=null&&this.m_type!=0){if(p.m_presserID==p.m_coachSetPresserID&&p.m_presserID!=0&&CPlayer.s_ballLastOwnerEverDefend==p){var o=this.m_players[p.m_presserID];if((this.m_leftSide&&p.m_posX<o.m_posX)||(!this.m_leftSide&&p.m_posX>o.m_posX)){var l=0;if(p.m_vX==0&&p.m_vY==0){l=this.findNearstPlayerForPress(this.s_hotspotGridX,this.s_hotspotGridY)}else{var r=p.m_posX+p.m_vX*0;var q=p.m_posY+p.m_vY*0;l=this.findNearstPlayerForPress(this.PosToGrid(r),this.PosToGrid(q))}if(l!=0){o.m_coachSetTacState=8;o.m_coachSetMarkID=p.m_Number;o.m_isCloseDown=false;p.m_presserID=l}}}if(!CTeam.m_isPressed&&cGame.s_aiMode!=9){var g=this.findNearstPlayerForPress(this.s_hotspotGridX,this.s_hotspotGridY);this.m_players[g].m_coachSetTacState=7;this.m_players[g].m_pressID=p.m_Number;this.selectGoodSpace(p.m_coachSetPresserID=g,this.s_hotspotGridX,this.s_hotspotGridY,false);p.m_isPressed=true;CTeam.m_isPressed=true;if(p.m_coachSetPresserID!=p.m_presserID){this.m_pressTime=0}}}if(p!=null&&p.m_presserID!=p.m_coachSetPresserID){CTeam.tempdis=this.getPressPointDistance()}CPlayer.s_ballLastOwnerEverDefend=p},refreshCoachOrder_step2:function(){this.calGridCoordinates();this.setNewOrder(true)},setNewOrder:function(d){for(var b=1;b<11;++b){var a=this.m_players[b];if(a.m_court==0){if(d==(a.m_coachSetTacState==0&&a.m_tacState==0)){if(a.m_coachSetTacState==0){this.getSupportGrid(b)}if(a.m_tacState!=a.m_coachSetTacState){this.m_haveNewOrder[b]=true}else{var c=a.m_coachSetTacState;if(c==5||c==1||c==7){this.m_haveNewOrder[b]=false}else{if(c==8){this.m_haveNewOrder[b]=(a.m_markID!=a.m_coachSetMarkID)}else{this.m_haveNewOrder[b]=(a.m_destGridX!=a.m_coachSetDestGridX||a.m_destGridY!=a.m_coachSetDestGridY);if(this.m_type==1&&this.m_state==-1){this.m_haveNewOrder[b]=true}}}}if(this.m_haveNewOrder[b]){this.m_respondNewOrderTime[b]=0}}}}},tryToDefend:function(a){var c=this.m_players[a];var b=null;if(CPlayer.s_ballOwner!=null){b=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner==null){return true}b=CPlayer.s_ballFastOwner}if(CTeam.s_matchState==0&&b.m_myTeam.m_ID!=c.m_myTeam.m_ID&&!Actor.s_ball_heldbygk){if(CPlayer.s_ctrWithBall>10&&c.m_disToBall<6144&&b.m_vX==0&&b.m_vY==0){if(this.m_commandIndex[a]!=0&&this.m_commandList[a<<4]==12){this.deleteAllCommand(a)}if(this.m_commandIndex[a]==0){this.computeTacklePoint(a,b.m_Number);if(c.m_disToBall>1280&&cGame.fastDistance(CTeam.tacklePointX-c.m_posX,CTeam.tacklePointY-c.m_posY)>30){this.addCommand(a,1,CTeam.tacklePointX,CTeam.tacklePointY,1)}this.addCommand(a,7,-1,-1,-1);return true}}else{if(c.m_disToBall<=(c.m_controlRange+1280)*2&&!CPlayer.s_haveCompetition){if(c.m_role==3&&(this.PosToGrid(c.m_posX)>this.m_defendGridLine||CPlayer.dirIn3(c.m_dirToBall,b.m_currDir))){return false}if(c.m_disToBall<=java.lang.Math.max(c.m_controlRange,4352)){if(this.m_commandIndex[a]!=0&&this.m_commandList[a<<4]==12){this.deleteAllCommand(a)}if(this.m_commandIndex[a]==0){this.gotoTackle(a)}return true}}}}return false},gotoTackle:function(a){if(CPlayer.s_ballOwner!=null){this.computeTacklePoint(a,CPlayer.s_ballOwner.m_Number)}else{if(CPlayer.s_ballFastOwner!=null){this.computeTacklePoint(a,CPlayer.s_ballFastOwner.m_Number)}else{CTeam.tacklePointX=Actor.s_football.m_destX;CTeam.tacklePointX=Actor.s_football.m_destY}}if(cGame.fastDistance(CTeam.tacklePointX-this.m_players[a].m_posX,CTeam.tacklePointY-this.m_players[a].m_posY)>20||this.m_players[a].m_opTeam.m_players[this.m_players[a].m_pressID].m_currState==0){this.addCommand(a,1,CTeam.tacklePointX,CTeam.tacklePointY,(this.m_type==0||cGame.s_matchDifficult>1)?1:-1)}},rangedTackle:function(b){var e=0;for(var d=1;d<11;++d){var c=this.m_players[d];if(!c.m_isFocus&&!c.m_isBallReceiver){if(c.m_court!=1){var a=cGame.fastDistance(c.m_posX-Actor.s_football.m_posX,c.m_posY-Actor.s_football.m_posY);if(a<b){if(c.m_tacState!=7){if(cGame.s_matchDifficult>2||e<cGame.getParamByDifficult(0,1,2)||(CTeam.s_newtutorialStep==40&&e<3)){this.deleteAllCommand(d);c.m_tacState=7;++e}}else{++e}}}}}},computeTacklePoint:function(j,g){var m=this.m_players[j];var h=CTeam.s_teams[1-this.m_ID].m_players[g];if(CPlayer.isTurnBehavior(h.m_behavior)){var d=CPlayer.dirTo(m.m_posX-h.m_posX,m.m_posY-h.m_posY);CPlayer.parseVector_dup_II(4096,h.m_nextDir);CTeam.tacklePointX=h.m_posX+h.m_vX*2+CPlayer.s_vectorX;CTeam.tacklePointY=h.m_posY+h.m_vY*2+CPlayer.s_vectorY}else{if(CPlayer.s_ballFastOwner!=null&&h==CPlayer.s_ballFastOwner){CTeam.tacklePointX=Actor.s_football.m_posX+Actor.s_football.m_vX*2;CTeam.tacklePointY=Actor.s_football.m_posY+Actor.s_football.m_vY*2}else{var i=CPlayer.dirDifference(m.m_dirToBall+4&7,h.m_currDir);var a=cGame.fastDistance(m.m_posX-h.m_posX,m.m_posY-h.m_posY);var c=cGame.fastDistance(h.m_vX,h.m_vY);var b=gloft.casttoint(null);if(-1<=i&&i<=1){b=0}else{if(-2==i&&i==2){b=1}else{b=2}}if(b*c>a){b=gloft.casttoint(a/c)+1}if(CPlayer.s_ballFastOwner!=null&&h==CPlayer.s_ballFastOwner){b*=2}if(CTeam.tacklePointX==h.m_posX+h.m_vX*(b-1)&&CTeam.tacklePointY==h.m_posY+h.m_vY*(b-1)){return}CTeam.tacklePointX=h.m_posX+h.m_vX*b;CTeam.tacklePointY=h.m_posY+h.m_vY*b;if(h.m_vX==0&&h.m_vY==0){CPlayer.parseVector_dup_II(2048,h.m_currDir);CTeam.tacklePointX+=CPlayer.s_vectorX;CTeam.tacklePointY+=CPlayer.s_vectorY}if(CPlayer.dirIn3(m.m_dirToBall,h.m_currDir)){CPlayer.parseVector_dup_II(2048,h.m_currDir+2+8&7);var f=m.m_posX-CTeam.tacklePointX;var e=m.m_posY-CTeam.tacklePointY;var l=CPlayer.s_vectorX;var k=CPlayer.s_vectorY;CPlayer.parseVector_dup_II(2048,h.m_currDir-2+8&7);if(cGame.fastDistance(f-CPlayer.s_vectorX,e-CPlayer.s_vectorY)>cGame.fastDistance(f-l,e-k)){CPlayer.s_vectorX=l;CPlayer.s_vectorY=k}}else{CPlayer.parseVector_dup_II(1280,h.m_currDir)}CTeam.tacklePointX+=CPlayer.s_vectorX;CTeam.tacklePointY+=CPlayer.s_vectorY}}},computeFastRunPoint:function(i,f){var l=this.m_players[i];var g=CTeam.s_teams[1-this.m_ID].m_players[f];var h=CPlayer.dirDifference(l.m_dirToBall+4&7,g.m_currDir);var a=cGame.fastDistance(l.m_posX-g.m_posX,l.m_posY-g.m_posY);var c=cGame.fastDistance(g.m_vX,g.m_vY);var b=gloft.casttoint(null);if(-1<=h&&h<=1){b=3}else{if(-2==h&&h==2){b=4}else{b=5}}if(b*c>a){b=gloft.casttoint(a/c)+1}if(CPlayer.s_ballFastOwner!=null&&g==CPlayer.s_ballFastOwner){b*=2}if(CTeam.fastRunPointX==g.m_posX+g.m_vX*(b-1)&&CTeam.fastRunPointY==g.m_posY+g.m_vY*(b-1)){return}CTeam.fastRunPointX=g.m_posX+g.m_vX*b;CTeam.fastRunPointY=g.m_posY+g.m_vY*b;if(g.m_vX==0&&g.m_vY==0){CPlayer.parseVector_dup_II(2048,g.m_currDir);CTeam.fastRunPointX+=CPlayer.s_vectorX;CTeam.fastRunPointY+=CPlayer.s_vectorY}if(CPlayer.dirIn3(l.m_dirToBall,g.m_currDir)){CPlayer.parseVector_dup_II(2048,g.m_currDir+2+8&7);var e=l.m_posX-CTeam.fastRunPointX;var d=l.m_posY-CTeam.fastRunPointY;var k=CPlayer.s_vectorX;var j=CPlayer.s_vectorY;CPlayer.parseVector_dup_II(2048,g.m_currDir-2+8&7);if(cGame.fastDistance(e-CPlayer.s_vectorX,d-CPlayer.s_vectorY)>cGame.fastDistance(e-k,d-j)){CPlayer.s_vectorX=k;CPlayer.s_vectorY=j}}else{CPlayer.parseVector_dup_II(1280,g.m_currDir)}CTeam.fastRunPointX+=CPlayer.s_vectorX;CTeam.fastRunPointY+=CPlayer.s_vectorY},takeCoachOrder:function(){var b=null;if(CPlayer.s_ballOwner!=null){b=CPlayer.s_ballOwner}else{if(CPlayer.s_ballFastOwner!=null){b=CPlayer.s_ballFastOwner}}for(var d=10;d>=0;--d){var c=this.m_players[d];if(c.m_court==0){if(c.m_isFocus&&cGame.s_aiMode!=3&&(!CTeam.s_isGKSavingPenalty||this==CTeam.s_kickTeam)){if(cGame.s_aiMode!=13||CPlayer.s_legendPlayer==c){if(CPlayer.s_legendPlayer!=c||c.m_coachSetTacState<19){c.m_tacState=-1;if(cGame.s_aiMode==13){c.m_destGridX=c.m_coachSetDestGridX;c.m_destGridY=c.m_coachSetDestGridY}if(CTeam.s_matchState!=0){c.m_destX=this.GridToPosRandom(c.m_destGridX);c.m_destY=this.GridToPosRandom(c.m_destGridY)}continue}}}else{if(d!=0&&(Actor.s_ball_heldbygk||CTeam.s_matchState==4)&&cGame.s_whichHalf!=5&&(CTeam.s_matchState!=8||CTeam.s_period>=4)&&!cGame.s_is_in_traininig10_mode){if((this.m_ID!=cGame.s_playerChanged&&cGame.s_playerChanged!=2)||c.m_Number!=cGame.s_subsPair[6*this.m_ID+5-cGame.s_subsLeft[this.m_ID]]){if(this.m_haveNewOrder[d]){this.deleteAllCommand(d);this.m_haveNewOrder[d]=false}if(this.m_commandIndex[d]==0||(d!=0&&CPlayer.s_ctrWithBall<40)){this.deleteAllCommand(d);c.m_destX=this.GridToPosRandom(c.m_defaultGridX);c.m_destY=this.GridToPosRandom(c.m_defaultGridY);c.m_tacState=c.m_coachSetTacState;this.addCommand(d,1,c.m_destX,c.m_destY,1);this.addCommand(d,6,-1,-1,c.m_dirToBall);this.addCommand(d,12,-1,-1,cGame.random(5,15))}continue}}else{if(this.m_type==0&&CPlayer.s_radar==5&&CPlayer.s_power==3&&CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_withBall&&((CTeam.s_potentialPlayer!=null&&CTeam.s_potentialPlayer.m_Number==d)||(cGame.s_aiMode==6&&CTeam.s_newtutorialStep==9))){this.deleteAllCommand(d);this.addCommand(CTeam.s_throughReceiverID=d,1,this.GridToPosRandom(this.m_offsideGridX+1),CTeam.s_potentialPlayer.m_posY,1);continue}}}if(CPlayer.s_oneTwoPlayer[this.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_ID]==c&&!c.m_isBallReceiver){if(this.m_state==1){if(c.m_startToRunFor12){this.deleteAllCommand(d);var a=this.PosToGrid(c.m_posX)+8;a=cGame.limit(a,0,this.m_offsideGridX+1);this.addCommand(d,1,this.GridToPosRandom(a),c.m_posY,1);c.m_startToRunFor12=false;c.m_tacState=4;continue}if(this.m_commandIndex[d]!=0){continue}CPlayer.s_oneTwoPlayer[this.m_ID]=null}else{CPlayer.s_oneTwoPlayer[this.m_ID]=null}}var e=false;if(d==0&&this.m_haveNewOrder[d]&&(CTeam.s_matchState==0||CTeam.s_period!=0||(CTeam.s_matchState==8&&cGame.s_whichHalf!=5))){e=true;c.m_tacState=c.m_coachSetTacState;this.m_haveNewOrder[d]=false}else{if(c.m_coachSetTacState==5||c.m_coachSetTacState==1||c.m_coachSetTacState==3||c.m_coachSetTacState==2||c.m_coachSetTacState==4||c.m_coachSetTacState==7||c.m_coachSetTacState==34||c.m_coachSetTacState==8||CTeam.s_matchState!=0){c.m_tacState=c.m_coachSetTacState;if(this.m_haveNewOrder[d]){e=true;if(c.m_coachSetTacState!=1&&c.m_coachSetTacState!=34){c.m_destGridX=c.m_coachSetDestGridX;c.m_destGridY=c.m_coachSetDestGridY;if(!CTeam.s_specialCelebration){c.m_destX=this.GridToPosRandom(c.m_destGridX);c.m_destY=this.GridToPosRandom(c.m_destGridY)}}else{if(c.m_coachSetTacState==1){this.deleteAllCommand(d);if(CPlayer.s_haveCompetition&&c.m_isWeaker){this.addCommand(d,1,c.m_destX,c.m_destY,-1)}else{this.addCommand(d,1,c.m_destX,c.m_destY,(cGame.s_matchDifficult>0)?1:-1)}}}if(c.m_coachSetTacState==8){c.m_markID=c.m_coachSetMarkID;this.m_opTeam.m_players[c.m_markID].m_markerID=this.m_opTeam.m_players[c.m_markID].m_coachSetMarkID}else{if(c.m_coachSetTacState==7){this.m_opTeam.m_players[c.m_pressID].m_presserID=this.m_opTeam.m_players[c.m_pressID].m_coachSetPresserID}}}}else{if(this.m_haveNewOrder[d]){if(c.m_tacState==5||c.m_tacState==1||c.m_tacState==7||c.m_tacState==8||c.m_tacState==-1||c.m_tacState==3||c.m_tacState==2||c.m_tacState==4){this.deleteAllCommand(d);c.m_tacState=c.m_coachSetTacState}if(this.canDoNewOrderNow(d)){c.m_tacState=c.m_coachSetTacState;c.m_destGridX=c.m_coachSetDestGridX;c.m_destGridY=c.m_coachSetDestGridY;c.m_destX=this.GridToPosRandom(c.m_destGridX);c.m_destY=this.GridToPosRandom(c.m_destGridY);e=true}}}}if(e){this.m_haveNewOrder[d]=false}c.m_destX=cGame.limit(c.m_destX,-135168,135168);c.m_destY=cGame.limit(c.m_destY,-86272,86272);if(d==0&&(CTeam.s_matchState==0||(CTeam.s_period!=0&&CTeam.s_period!=12)||(cGame.s_aiMode==10&&CTeam.s_matchState==613))){this.gkTakeCoachOrder(c,c.m_disToBall)}else{this.takeCoachOrder1(c,d,e,b)}}}},takeCoachOrder1:function(N,M,n,m){for(var L=M;L<=M;++L){switch(N.m_tacState){case 1:if(this.m_type==0){break}if(!this.m_rcvUseNewPointingSystem&&(N.ballOverMeIn(9)||N.canTrap())){if(this.m_commandIndex[M]!=0){break}if(Actor.s_ball_state==1||Actor.s_ball_state==10){this.m_dribbleScore=5}else{this.m_dribbleScore=20}var e=this.decide(N);var T=cGame.fastDistance(CTeam.s_standbyPoints[e][2]-N.m_posX,CTeam.s_standbyPoints[e][3]-N.m_posY);this.deleteAllCommand(M);var H=0;if(CTeam.s_standbyPoints[e][0]!=1){var l=cGame.random(0,9);if(Actor.s_ball_state==1||Actor.s_ball_state==10){if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number!=0){l=9}}else{if(l<=7){if(CPlayer.dirTo(CTeam.s_standbyPoints[e][2]-N.m_posX,CTeam.s_standbyPoints[e][3]-N.m_posY)==N.m_currDir){H=0}else{H=1}}else{H=2;if(CTeam.s_standbyPoints[e][0]==5||((CTeam.s_standbyPoints[e][0]==6||CTeam.s_standbyPoints[e][0]==3||CTeam.s_standbyPoints[e][0]==10000)&&T>49152)){H=1}}}}if(H==1&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number==0&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_ID){H=0}if(H==1){if(CTeam.s_standbyPoints[e][0]==10000){this.addCommand(M,9,this.m_leftSide?135168:-135168,0,-1)}else{this.addCommand(M,9,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],-1)}}if(H!=2){this.addCommand(M,13,-1,-1,-1)}switch(CTeam.s_standbyPoints[e][0]){case 5:var Q=CPlayer.dirTo(CTeam.s_standbyPoints[e][2]-N.m_posX,CTeam.s_standbyPoints[e][3]-N.m_posY);var z=CPlayer.dirDifference(Q,N.m_currDir);z=((z>0)?z:(-z));if(z>1){this.addCommand(M,6,-1,-1,Q);break}this.addCommand(M,1,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],-1);break;case 6:if(H!=2){this.addCommand(M,2,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],CTeam.s_standbyPoints[e][4]);break}this.addCommand(M,10,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],CTeam.s_standbyPoints[e][4]);this.addCommand(M,13,-1,-1,-1);break;case 3:if(H!=2){this.addCommand(M,3,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],CTeam.s_standbyPoints[e][4]);break}this.addCommand(M,10,CTeam.s_standbyPoints[e][2],CTeam.s_standbyPoints[e][3],CTeam.s_standbyPoints[e][4]);this.addCommand(M,13,-1,-1,-1);break;case 10000:if(H!=2){this.addCommand(M,4,-1,-1,cGame.random(0,CPlayer.SHOOT_MAX_HEIGHT));break}this.addCommand(M,11,-1,-1,-1);this.addCommand(M,13,-1,-1,-1);break;case 1:this.deleteAllCommand(M);break}break}else{if(n){this.deleteAllCommand(M);if(!this.m_rcvUseNewPointingSystem){if(this.m_state==-1&&cGame.s_matchDifficult<4&&N.m_isBallReceiver&&CPlayer.s_ballFastOwner==null&&CPlayer.s_ballLastOwner!=null&&(N.m_starAbility&32)==0&&(Actor.s_ball_state==0||CPlayer.s_ballLastOwner.m_Number==0)&&!N.m_isStronger){var B=N.m_reaction*cGame.getParamByDifficult(4,2,1);if(N.m_side!=1&&N.m_side!=4&&N.m_role==1){B>>=1}this.addCommand(M,12,-1,-1,B)}this.addCommand(M,1,N.m_destX,N.m_destY,(cGame.s_matchDifficult>0)?1:-1);break}var k=CPlayer.dirTo(this.m_rcvBallGoAndKickX-N.m_posX,this.m_rcvBallGoAndKickY-N.m_posY);if(CPlayer.dirDifference(N.m_currDir,k)!=0){this.addCommand(M,6,-1,-1,k)}break}else{if(this.m_rcvUseNewPointingSystem&&this.m_commandIndex[M]==0){var q=-1;var C=CPlayer.getRunFrames(N.m_speed,N.m_posX,N.m_posY,this.m_rcvGoAndKickX,this.m_rcvGoAndKickY)+this.m_rcvAddedKeyFrame;if(C>this.m_rcvFitFrameOff){C=CPlayer.getRunFrames(N.m_speedFast,N.m_posX,N.m_posY,this.m_rcvGoAndKickX,this.m_rcvGoAndKickY)+this.m_rcvAddedKeyFrame;q=0}if(C<this.m_rcvFitFrameOff){this.m_rcvFitFrameOff-=Actor._frameInc;this.m_commandList[M<<4]=-1;this.m_commandIndex[M]=1;break}this.deleteAllCommand(M);if(C==this.m_rcvFitFrameOff){this.addCommand(M,1,this.m_rcvGoAndKickX,this.m_rcvGoAndKickY,q)}else{this.addCommand(M,1,Actor.s_football.m_destX,Actor.s_football.m_destY,1);this.m_rcvUseNewPointingSystem=false;this.m_specialDirectType=0}if(this.m_ID==CTeam.s_rcvUseNewPointingSystemTeamID&&CTeam.s_teams[1-this.m_ID].isPointInMyFBZ(N.m_posX,N.m_posY)){this.addCommand(M,11,-1,-1,-1)}else{var v=0;N.selectPassPoint(this.m_leftSide?2:6,v);this.addCommand(M,10,CPlayer.s_passPointX,CPlayer.s_passPointY,-1)}this.addCommand(M,13,-1,-1,-1);break}else{if(this.m_rcvUseNewPointingSystem){this.m_rcvFitFrameOff-=Actor._frameInc;if(this.m_rcvFitFrameOff<0){this.deleteAllCommand(M);this.addCommand(M,1,Actor.s_football.m_posX,Actor.s_football.m_posY,1);this.m_rcvUseNewPointingSystem=false;this.m_specialDirectType=0;break}break}else{if(CPlayer.s_ballFastOwner==N||(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner.m_myTeam.m_ID!=this.m_ID&&N.posBehindMe(CPlayer.s_ballFastOwner.m_posX,CPlayer.s_ballFastOwner.m_posY))||(Actor.s_football.m_vX==0&&Actor.s_football.m_vY==0)||Actor.s_ballDestReached){this.deleteAllCommand(M);this.addCommand(M,1,Actor.s_football.m_posX,Actor.s_football.m_posY,(CPlayer.s_haveCompetition&&N.m_isWeaker)?-1:1);break}if(this.m_rcvUseNewPointingSystem||this.m_commandIndex[M]!=1||this.m_commandList[M<<4]!=1){break}if(CPlayer.s_bIsThroughPass||Actor.s_ball_state==1||this.isPointInMyFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY)){this.deleteAllCommand(M);this.addCommand(M,1,N.m_destX,N.m_destY,(cGame.s_matchDifficult>0)?1:-1);break}if(Actor.s_ball_state!=0||!N.m_isWeaker){break}this.deleteAllCommand(M);if(N.m_destReached){this.addCommand(M,6,-1,-1,-1);break}this.addCommand(M,1,N.m_destX,N.m_destY,(cGame.s_matchDifficult>0)?1:-1);break}}}}break;case 0:case 2:case 3:case 4:case 10:if(CTeam.s_matchState==8){this.deleteAllCommand(M);break}var O=-1;if(N.m_tacState==4||(N.m_tacState==0&&CPlayer.s_bIsThroughPass)||N.m_tacState==2){O=1}if(n){this.deleteAllCommand(M);if(cGame.s_aiMode!=10){this.addCommand(M,1,N.m_destX,N.m_destY,O)}this.addCommand(M,6,-1,-1,-1);break}if(this.m_commandIndex[M]!=0){break}if(m==null){this.addCommand(M,6,-1,-1,-1);break}if(this.m_state!=1){break}if(this.PosToGrid(N.m_posX)>this.m_offsideGridX&&(GLLib.s_game_currentFrameNB&14)==0){if(this.isInPlayfield(this.m_offsideGridX-1,this.PosToGrid(N.m_posY))){this.addCommand(M,1,this.GridToPosRandom(this.m_offsideGridX-1),this.GridToPosRandom(this.PosToGrid(N.m_posY)),O);this.addCommand(M,6,-1,-1,-1);break}break}else{if(N.m_disToBall<=16384&&(GLLib.s_game_currentFrameNB&14)==0){var K=m.posClockwiseOfMe(N.m_posX,N.m_posY,m.m_currDir);var h=this.convertDir(m.m_currDir)+(K?2:-2)&7;if(this.isInPlayfield(this.PosToGrid(N.m_posX)+CTeam.DIR_TRANSFORM[h+2],this.PosToGrid(N.m_posY)+CTeam.DIR_TRANSFORM[h+0])){this.addCommand(M,1,this.GridToPosRandom(this.PosToGrid(N.m_posX)+CTeam.DIR_TRANSFORM[h+2]),this.GridToPosRandom(this.PosToGrid(N.m_posY)+CTeam.DIR_TRANSFORM[h+0]),O);this.addCommand(M,6,-1,-1,-1);break}break}else{if((CTeam.s_matchState==5||CTeam.s_matchState==7||CTeam.s_matchState==6)&&N.m_coachSetTacState==4){this.selectGoodSpace(N.m_Number,N.m_destGridX,N.m_destGridY,false);this.m_haveNewOrder[N.m_Number]=true;break}break}}break;case 13:if(n){this.deleteAllCommand(M);var b=this.m_opTeam.m_players[N.m_coachSetMarkID];CPlayer.parseVector_dup_II(8192,b.m_currDir+4&7);this.addCommand(M,1,b.m_posX+CPlayer.s_vectorX,b.m_posY+CPlayer.s_vectorY,0);this.addCommand(M,6,-1,-1,N.m_dirToBall);break}if(this.m_commandIndex[M]==0){var b=this.m_opTeam.m_players[N.m_coachSetMarkID];var S=b.m_coachSetDestGridX;var R=b.m_coachSetDestGridY;var u=b.m_destX;var t=b.m_destY;this.m_opTeam.selectGoodSpace(b.m_Number,b.m_destGridX,b.m_destGridY,false);if(b.m_coachSetDestGridX!=S||b.m_coachSetDestGridY!=R){this.m_opTeam.m_haveNewOrder[b.m_Number]=true}else{b.m_destX=this.GridToPos(S);b.m_destY=this.GridToPos(R);if(cGame.fastDistance(u-b.m_destX,t-b.m_destY)>7680){this.m_opTeam.m_haveNewOrder[b.m_Number]=true}}if(cGame.fastDistance(N.m_posX-b.m_posX,N.m_posY-b.m_posY)>3840){CPlayer.parseVector_dup_II(8192,b.m_currDir+4&7);this.addCommand(M,1,b.m_posX+CPlayer.s_vectorX,b.m_posY+CPlayer.s_vectorY,0);this.addCommand(M,6,-1,-1,N.m_dirToBall)}break}break;case 8:var x=this.m_players[M];if(CPlayer.s_ctrWithBall%3!=0){break}this.deleteAllCommand(M);if(N.m_isCloseDown&&m!=null){this.getMyCloseDownPos(N.m_defaultGridX,N.m_defaultGridY,N.m_markID)}else{this.getMarkPos(N.m_markID,1)}this.addCommand(M,1,CTeam.s_markX,CTeam.s_markY,(m==CPlayer.s_ballFastOwner)?1:-1);this.addCommand(M,6,-1,-1,-1);break;case 7:if(CTeam.s_matchState!=0){break}if(this.m_opTeam.m_players[N.m_pressID].m_currDir!=CTeam.s_ballOwenerDir&&CTeam.s_ticksAfterballOwenerChangeDir<10){++CTeam.s_ticksAfterballOwenerChangeDir;break}CTeam.s_ballOwenerDir=this.m_opTeam.m_players[N.m_pressID].m_currDir;CTeam.s_ticksAfterballOwenerChangeDir=0;var p=this.m_commandList[(M<<4)+4];if(this.m_commandList[M<<4]!=7&&this.m_commandList[M<<4]!=8&&p!=8){if(p!=7){if(this.m_players[M].haveCommandFinished()&&this.m_commandList[M<<4]==1&&this.m_commandIndex[M]!=0){this.deleteAllCommand(M);this.addCommand(M,6,-1,-1,-1)}else{this.deleteAllCommand(M);this.m_pressDis=((this.m_type==1)?cGame.getParamByDifficult(3,2,0):0)}}}if(m!=null){}var P=N.m_disToBall>>8;if(this.m_commandIndex[M]!=0){break}if(P<=100){var a=this.m_opTeam.m_players[N.m_pressID];if(CPlayer.s_haveCompetition){if(N.m_isStronger||N.m_isWeaker){var G=this.m_opTeam.m_players[N.m_pressID].m_posX;var F=this.m_opTeam.m_players[N.m_pressID].m_posY;CTeam.s_markX=Actor.s_football.m_posX;CTeam.s_markY=Actor.s_football.m_posY;var I=cGame.fastDistance(CTeam.s_markX-G,CTeam.s_markY-F);if(a.posBehindMe(N.m_posX,N.m_posY)){var g=a.m_currDir+(a.posClockwiseOfMe(N.m_posX,N.m_posY,a.m_currDir)?2:-2)&7;CPlayer.parseVector_dup_II(2048,g);CTeam.s_markX=Actor.s_football.m_posX+CPlayer.s_vectorX;CTeam.s_markY=Actor.s_football.m_posY+CPlayer.s_vectorY}else{if(I>1536){CTeam.getPointBetweenTwoPoint(I>>1,Actor.s_football.m_posX,Actor.s_football.m_posY,CTeam.s_markX,CTeam.s_markY);CTeam.s_markX=CTeam.s_middlePointX;CTeam.s_markY=CTeam.s_middlePointY}}}else{var f=a.m_currDir+(a.posClockwiseOfMe(N.m_posX,N.m_posY,a.m_currDir)?2:-2)&7;if(a.posBehindMe(N.m_posX,N.m_posY)){CPlayer.parseVector_dup_II(2048,f);CTeam.s_markX=Actor.s_football.m_posX+CPlayer.s_vectorX;CTeam.s_markY=Actor.s_football.m_posY+CPlayer.s_vectorY}else{CTeam.s_markX=a.m_posX;CTeam.s_markY=a.m_posY}}this.addCommand(M,1,CTeam.s_markX,CTeam.s_markY,0)}else{var d=gloft.casttoint(null);if(cGame.s_matchDifficult>3){d=0}else{if(cGame.s_matchDifficult>1){d=4}else{d=8}}if(cGame.s_aiMode==9||CPlayer.s_ctrWithBall>d){var y=this.getPressOrder(N,a);this.addCommand(M,1,CTeam.s_markX,CTeam.s_markY,y?0:-1)}}if(this.isPointInMyFBZ(a.m_posX,a.m_posY)){this.deleteAllCommand(M);this.m_pressTime=0;if(a.m_currState==4){if(P<=6144){this.addCommand(M,8,-1,-1,-1)}}else{this.gotoTackle(M)}}else{if(a.m_currState==4){this.deleteAllCommand(M);if(P>2048){this.addCommand(M,8,-1,-1,-1)}else{this.addCommand(M,7,-1,-1,-1)}}}break}this.getMarkPos1(N.m_pressID,CTeam.tempdis);if(cGame.fastDistance(CTeam.s_markX-N.m_posX,CTeam.s_markY-N.m_posY)>5120||this.m_opTeam.m_players[N.m_pressID].m_currState==0){this.addCommand(M,1,CTeam.s_markX,CTeam.s_markY,-1);break}break;case 5:if(this.m_type==0){break}if(this.m_commandIndex[M]!=0){if(this.m_commandIndex[M]!=1||this.m_commandList[M<<4]!=1){break}if(!N.haveCommandFinished()){break}}var o=this.decide(N);if(CTeam.s_standbyPoints[o][0]==5&&this.PosToGrid(N.m_posX)<this.m_offsideGridX-1){if(this.m_dribbleScore>5){this.m_dribbleScore=5}else{--this.m_dribbleScore}}else{this.m_dribbleScore=5}if(CTeam.s_standbyPoints[o][0]==1){++this.m_dribbleScore}switch(CTeam.s_standbyPoints[o][0]){case 5:if(this.m_feintStyle!=-1&&(N.m_currState==1||N.m_currState==0)){this.addCommand(M,5,-1,-1,this.m_feintStyle);break}var f=CPlayer.dirTo(CTeam.s_standbyPoints[o][2]-N.m_posX,CTeam.s_standbyPoints[o][3]-N.m_posY);var J=CPlayer.dirDifference(f,N.m_currDir);J=((J>0)?J:(-J));if(J>1){this.addCommand(M,6,-1,-1,f)}else{this.addCommand(M,1,CTeam.s_standbyPoints[o][2],CTeam.s_standbyPoints[o][3],-1)}break;case 6:var f=CPlayer.dirTo(CTeam.s_standbyPoints[o][2]-N.m_posX,CTeam.s_standbyPoints[o][3]-N.m_posY);var J=CPlayer.dirDifference(f,N.m_currDir);if(java.lang.Math.abs(J)>2&&!this.isInOpForbidden(N.m_posX,N.m_posY)){this.addCommand(M,6,-1,-1,N.m_currDir+gloft.casttoint(J/2))}this.addCommand(M,2,CTeam.s_standbyPoints[o][2],CTeam.s_standbyPoints[o][3],CTeam.s_standbyPoints[o][4]);break;case 3:this.addCommand(M,3,CTeam.s_standbyPoints[o][2],CTeam.s_standbyPoints[o][3],-1);break;case 10000:this.addCommand(M,4,-1,-1,cGame.random(0,CPlayer.SHOOT_MAX_HEIGHT));break;case 1:this.addCommand(M,12,-1,-1,5);break}break;case 12:if(n){this.deleteAllCommand(M);this.addCommand(M,12,-1,-1,cGame.random(15,25));this.addCommand(M,1,N.m_destX,N.m_destY,-1);if(CTeam.s_matchState==5||CTeam.s_matchState==7||CTeam.s_matchState==6){this.addCommand(M,6,-1,-1,-1);break}break}else{if(this.m_commandIndex[M]==0&&(CTeam.s_matchState==5||CTeam.s_matchState==7||CTeam.s_matchState==6)){N.m_destX=this.GridToPosRandom(N.m_coachSetDestGridX);N.m_destY=this.GridToPosRandom(N.m_coachSetDestGridY);this.m_haveNewOrder[N.m_Number]=true;break}break}break;case 9:if(n){this.deleteAllCommand(M);break}break;case 11:if(n){this.deleteAllCommand(M);this.addCommand(M,6,-1,-1,-1);break}break;case 19:if(n){this.deleteAllCommand(M);this.addCommand(M,6,-1,-1,-1)}N.wait(0);break;case 20:if(n){this.deleteAllCommand(M);if(N.m_posX>135168){this.addCommand(M,1,135168,N.m_posY,0)}else{if(N.m_posX<-135168){this.addCommand(M,1,-135168,N.m_posY,0)}else{this.addCommand(M,12,-1,-1,cGame.random(10,20))}}if(java.lang.Math.abs(N.m_destY>>8)<160){N.m_destY=this.GridToPosRandom(((N.m_posY>=0&&this.m_leftSide)||(N.m_posY<0&&!this.m_leftSide))?8:-8)}CTeam.s_isFlying=false;switch(CTeam.s_celebrate_condition){case 0:if(cGame.random(0,9)<6){this.addCommand(M,1,N.m_destX,N.m_destY,1);break}if(cGame.random(0,9)>6){this.addCommand(M,200,N.m_destX,N.m_destY,1);break}this.addCommand(M,200,N.m_destX,N.m_destY,1);CTeam.s_isFlying=true;break;case 1:if(cGame.random(0,9)>6){this.addCommand(M,1,N.m_destX,N.m_destY,1);break}if(cGame.random(0,9)<2){this.addCommand(M,200,N.m_destX,N.m_destY,1);break}this.addCommand(M,200,N.m_destX,N.m_destY,1);CTeam.s_isFlying=true;break;case 2:if(cGame.random(0,9)<7){this.addCommand(M,(cGame.random(0,1)==0)?1:200,N.m_destX,N.m_destY,1);break}this.addCommand(M,200,N.m_destX,N.m_destY,1);CTeam.s_isFlying=true;break}if(M==0&&N.m_currState==8){N.set_currState(11);N.set_nextState(11);break}break}else{if(this.m_commandIndex[M]==0&&this.m_emotionCount>0){if(this.m_emotionRun==3){this.addCommand(M,200,-1,-1,12)}else{if(this.m_emotionRun==4){this.addCommand(M,200,-1,-1,13)}else{if(this.m_emotionRun==5){this.addCommand(M,200,-1,-1,16)}}}--this.m_emotionCount;break}if(this.m_commandIndex[M]!=0||this.m_emotionCount!=0){break}if(this.m_emotionMode==12&&N.m_posY<0){this.m_emotionMode=13}this.addCommand(M,200,-1,-1,this.m_emotionMode);if(this.m_emotionMode==14){N.m_nextDir=CPlayer.dirTo(this.m_emotionFacePointX-N.m_posX,this.m_emotionFacePointY-N.m_posY)}if(CTeam.s_matchState==9){N.m_nextDir=CPlayer.dirTo(Actor.s_coach.m_posX-N.m_posX,Actor.s_coach.m_posY-N.m_posY);break}break}break;case 31:if(n){this.deleteAllCommand(M);this.addCommand(M,12,-1,-1,3);this.addCommand(M,200,-1,-1,2);this.addCommand(M,1,0,0,-1);break}break;case 32:if(!n){break}this.deleteAllCommand(M);this.addCommand(M,12,-1,-1,3);if(cGame.random(0,9)<3){this.addCommand(M,200,-1,-1,5);break}if(cGame.random(0,9)<8){this.addCommand(M,200,-1,-1,22);break}this.addCommand(M,200,-1,-1,6);break;case 21:if(n){this.deleteAllCommand(M);if(N.m_posX>135168){this.addCommand(M,1,135168,N.m_posY,0)}else{if(N.m_posX<-135168){this.addCommand(M,1,-135168,N.m_posY,0)}else{this.addCommand(M,12,-1,-1,cGame.random(10,20))}}this.addCommand(M,1,N.m_destX,N.m_destY,-1);break}if(this.m_commandIndex[M]!=0){break}if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==this.m_ID){if(this.m_emotionMode==14){N.m_nextDir=CPlayer.dirTo(this.m_emotionFacePointX-N.m_posX,this.m_emotionFacePointY-N.m_posY)}else{N.m_nextDir=CPlayer.dirTo(CPlayer.s_ballLastOwner.m_posX-N.m_posX,CPlayer.s_ballLastOwner.m_posY-N.m_posY)}}if(this.m_emotionMode==17||CTeam.s_matchState==9){this.addCommand(M,200,-1,-1,2);N.m_nextDir=CPlayer.dirTo(Actor.s_coach.m_posX-N.m_posX,Actor.s_coach.m_posY-N.m_posY);break}if(this.m_emotionMode==16||this.m_emotionMode==24){this.addCommand(M,200,-1,-1,2);break}this.addCommand(M,200,-1,-1,2);break;case 28:case 29:if(n){this.deleteAllCommand(M);var f=gloft.casttoint(null);var w=gloft.casttoint(null);if(N.m_tacState==28){f=((this.m_ID==CTeam.s_leftTeamID)?6:2);w=CTeam.getPlayerInitalPosX(N)}else{f=0;w=-91392}if(N.m_tacState==28){this.addCommand(M,12,-1,-1,25)}this.addCommand(M,200,f,w,19);break}break;case 30:if(n){this.deleteAllCommand(M);N.m_destReached=false;this.addCommand(M,200,-7680,-91392,20);this.addCommand(M,200,-1,-1,5);break}break;case 36:if(!n){break}this.deleteAllCommand(M);if(cGame.s_aiMode==9&&CTeam.s_team0.m_goals==0){break}this.addCommand(M,200,-1,-1,2);break;case 22:if(n){this.deleteAllCommand(M);if(CTeam.s_period==1){this.addCommand(M,6,-1,-1,CPlayer.dirTo(Actor.s_referee.m_posX-N.m_posX,Actor.s_referee.m_posY-N.m_posY));this.addCommand(M,12,-1,-1,25)}else{this.addCommand(M,12,-1,-1,cGame.random(15,35))}var A=cGame.random(0,9);if(CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_card==1){this.addCommand(M,200,-1,-1,22)}else{if(CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_card==2){this.addCommand(M,200,-1,-1,8)}else{if(cGame.random(0,3)>0&&CTeam.s_matchState!=1&&CTeam.s_matchState!=9&&M!=0){this.addCommand(M,200,-1,-1,8)}else{if(cGame.random(0,9)<3){this.addCommand(M,200,-1,-1,5)}else{if(cGame.random(0,9)<8){this.addCommand(M,200,-1,-1,22)}else{this.addCommand(M,200,-1,-1,6)}}}}}if(CTeam.s_matchState==1){if(M==0){if(this.getGuardPos()){this.addCommand(M,1,N.m_destX,N.m_destY,-1)}}else{this.addCommand(M,1,this.GridToPos(N.m_defendGridX),N.m_posY,-1)}}break}break;case 37:if(n){this.deleteAllCommand(M);this.addCommand(M,200,-1,-1,6);break}break;case 33:if(!n){break}this.deleteAllCommand(M);if(CTeam.s_period==1){this.addCommand(M,6,-1,-1,CPlayer.dirTo(Actor.s_referee.m_posX-N.m_posX,Actor.s_referee.m_posY-N.m_posY))}else{this.addCommand(M,12,-1,-1,0)}if(CTeam.s_offsidePlayer==N&&(CTeam.s_offsidePlayer.m_currState==1||CTeam.s_offsidePlayer.m_currState==10)&&((N.m_myTeam.m_leftSide&&CPlayer.dirIn5(2,N.m_currDir))||(!N.m_myTeam.m_leftSide&&CPlayer.dirIn5(6,N.m_currDir)))){this.addCommand(M,200,-1,-1,21);break}this.addCommand(M,200,-1,-1,5);break;case 24:if(n){this.deleteAllCommand(M);this.addCommand(M,12,-1,-1,cGame.random(15,45));var c=this.m_goals-this.m_opTeam.m_goals;if(cGame.canEndMatch()){if(cGame.s_bChallengeModeOn){var E=3*cGame.s_challengeIndex;var D=cGame.STAGE_CONDITION_LIST[E++];var s=cGame.STAGE_CONDITION_LIST[E++];var r=cGame.STAGE_CONDITION_LIST[E++];if(D==512){if(CTeam.s_team0==this){if(this.m_goals-this.m_opTeam.m_goals>=s){c=1}else{c=-1}}if(CTeam.s_team1==this){if(this.m_opTeam.m_goals-this.m_goals<s){c=1}else{c=-1}}}}if(c>0){if(cGame.s_whichHalf==5){this.addCommand(M,200,-1,-1,3)}else{this.addCommand(M,200,-1,-1,2)}}else{if(c<0){if(cGame.random(0,9)<3){this.addCommand(M,200,-1,-1,5)}else{if(cGame.random(0,9)<8){this.addCommand(M,200,-1,-1,22)}else{this.addCommand(M,200,-1,-1,6)}}}}}if(c<0){this.addCommand(M,200,0,-86272,19)}else{this.addCommand(M,1,N.m_destX,N.m_destY,-1)}if(cGame.s_whichHalf==1||cGame.s_whichHalf==3){this.addCommand(M,1,this.m_leftSide?-2560:0,this.m_leftSide?-111872:-111872,-1)}break}break;case 26:if(n){this.deleteAllCommand(M);this.addCommand(M,200,-1,-1,11);break}break}}},canDoNewOrderNow:function(g){var j=this.m_players[g];if(this.m_respondNewOrderTime[g]!=0){var k=this.m_respondNewOrderTime;--k[g];return false}if(this.waitToDoNewOrder[g]&&GLLib.s_game_currentFrameNB%20==0){return false}this.waitToDoNewOrder[g]=false;var d=cGame.fastDistance(Actor.s_football.m_destX-j.m_posX,Actor.s_football.m_destY-j.m_posY);if(d>>8<=96||j.m_disToBall>>8<=96){var e=this.PosToGrid(j.m_posX);var a=this.PosToGrid(Actor.s_football.m_posX);var i=this.GridToPos(j.m_coachSetDestGridX);var h=this.GridToPos(j.m_coachSetDestGridY);var c=this.convertDir(CPlayer.dirTo(i-j.m_posX,h-j.m_posY));if(((this.m_state==1&&c<=7&&c>=5)||(this.m_state==-1&&c<=3&&c>=1))&&((this.m_state==1&&e<a)||(this.m_state==-1&&e>a)||cGame.isPointBetweenTwoPoints(Actor.s_football.m_posX,Actor.s_football.m_posY,j.m_posX,j.m_posY,i,h))){this.waitToDoNewOrder[g]=true;return false}var b=this.convertDir(j.m_currDir);var f=CPlayer.dirDifference(b,c);if(this.m_commandIndex[g]!=0&&(f>=2||f<=-2)){this.waitToDoNewOrder[g]=true;return false}}return true},decide:function(ai){var O=0;for(var ah=0;ah<5;++ah){for(var af=0;af<5;++af){CTeam.s_standbyPoints[ah][af]=0}}for(var ah=0;ah<4;++ah){for(var V=0;V<10;++V){CTeam.dribblePoint[V][ah]=0}for(var u=0;u<8;++u){CTeam.shortPassPoint[u][ah]=0}for(var h=0;h<5;++h){CTeam.longPassPoint[h][ah]=0}}if(CPlayer.s_oneTwoPlayer[this.m_ID]!=null&&CPlayer.s_oneTwoPlayer[this.m_ID]!=ai){CTeam.s_standbyPoints[1][0]=6;CTeam.s_standbyPoints[1][2]=CPlayer.s_oneTwoPlayer[this.m_ID].m_posX;CTeam.s_standbyPoints[1][3]=CPlayer.s_oneTwoPlayer[this.m_ID].m_posY;return 1}if(CPlayer.s_bAskForBall&&cGame.s_aiMode==13&&CPlayer.s_legendPlayer!=null&&this.m_ID==CPlayer.s_legendPlayer.m_myTeam.m_ID){var F=CPlayer.s_legendPlayer;var an=cGame.fastDistance(F.m_posX-ai.m_posX,F.m_posY-ai.m_posY);var R=gloft.casttoint(null);if((ai.myPosInAcrossingZone()&&!this.isInOpForbidden(ai.m_posX,ai.m_posY))||an>49152){CTeam.s_standbyPoints[2][0]=3;CTeam.s_standbyPoints[2][2]=F.m_posX;CTeam.s_standbyPoints[2][3]=F.m_posY;CTeam.s_standbyPoints[2][4]=F.m_Number;if(ai.myPosInAcrossingZone()){}R=2}else{CTeam.s_standbyPoints[1][0]=6;CTeam.s_standbyPoints[1][2]=F.m_posX;CTeam.s_standbyPoints[1][3]=F.m_posY;CTeam.s_standbyPoints[1][4]=F.m_Number;R=1}CPlayer.s_bAskForBall=false;cGame.setSupport(true,this.m_ID,cGame.random(18,20));return R}var f=-1;if(cGame.s_aiMode==13&&this.m_ID==0&&CPlayer.s_legendPlayer!=null){var B=CPlayer.s_legendPlayer;f=CPlayer.dirTo(B.m_posX-ai.m_posX,B.m_posY-ai.m_posY)}if(!CTeam.s_refreshTime){this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));var p=1-this.m_ID;for(var P=0;P<11;++P){var A=this.m_opTeam.m_players[P];if(A.m_court==0){this.setGridValue(this.PosToGrid(A.m_posX),this.PosToGrid(A.m_posY),1,p+1,-1,false)}}}CTeam.s_nAvoidPlayer=0;var g=gloft.ArrayCreation([8],gloft.casttoboolean(null));var I=0;for(var ac=1;ac<11;++ac){var z=this.m_opTeam.m_players[ac];if(z.m_court==0){var Y=cGame.fastDistance(z.m_posX-ai.m_posX,z.m_posY-ai.m_posY)>>8;var q=this.convertDir(CPlayer.dirTo(z.m_posX-ai.m_posX,z.m_posY-ai.m_posY));if(Y<=128){this.avoidPlayerData[CTeam.s_nAvoidPlayer<<1]=q;this.avoidPlayerData[(CTeam.s_nAvoidPlayer<<1)+1]=Y;this.avoidPlayerNumber[CTeam.s_nAvoidPlayer]=ac;if(Y<64){g[q]=true;if(Y<32&&q>4){++I}if(Y<32||(Y<64&&q==this.convertDir(ai.m_currDir))){g[q-1&7]=(g[q+1&7]=true)}}++CTeam.s_nAvoidPlayer}}}ai.m_gridX=this.PosToGrid(ai.m_posX);ai.m_gridY=this.PosToGrid(ai.m_posY);var N=CPlayer.dirTo((((1-this.m_ID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8))<<8)-ai.m_posX,-ai.m_posY);N=this.convertDir(N);this.m_inOpForbidden=this.isInOpForbidden(ai.m_posX,ai.m_posY);this.m_dribbleTime=(this.m_lastDecision==4||(java.lang.Math.abs(ai.m_gridY)>5&&java.lang.Math.abs(ai.m_gridY)<8)||(ai.m_role==3&&ai.m_gridX>=8)||(ai.m_role==2&&ai.m_gridX>=0));this.m_dangerArea=(ai.m_gridX<-4);this.m_inLongShotArea=(ai.m_gridX>=6&&ai.m_gridX<-CTeam.FORBIDDEN_ZONE_RIGHT_GRID&&ai.m_gridY>=CTeam.FORBIDDEN_ZONE_TOP_GRID+2&&ai.m_gridY<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID-2);this.m_inTopCorner=(ai.m_gridY<-5&&ai.m_gridX>12);this.m_inBottomCorner=(ai.m_gridY>5&&ai.m_gridX>12);this.m_dribbleTime=(this.m_dribbleTime&&!this.m_inTopCorner&&!this.m_inBottomCorner);this.m_feintStyle=-1;O=0;var am=java.lang.Math.max(16-cGame.random(3,4),ai.m_gridX+1);var al=this.PosToGrid(ai.m_posY)>>1;if(am>13||!this.isInGridZone(ai,am,al,4,2,3,3)){CTeam.dribblePoint[O][2]=-1}else{CTeam.dribblePoint[O][0]=this.GridToPosRandom(am);CTeam.dribblePoint[O][1]=this.GridToPosRandom(al);if(!this.m_dribbleTime){CTeam.dribblePoint[O][2]=-1}else{if(this.haveEnemyBlock(ai,CTeam.dribblePoint[O][0],CTeam.dribblePoint[O][1],64)&&cGame.s_matchDifficult>1){var Q=CPlayer.dirDifference(this.convertDir(ai.m_currDir),CTeam.s_blockDir);if(Q==0){this.m_feintStyle=((cGame.random(0,1)==0)?3:3)}else{if(Q==-1||Q==1){this.m_feintStyle=cGame.random(3,5)%4}}if(this.m_feintStyle>-1){CTeam.dribblePoint[O][2]=20}}else{if(CTeam.s_teams[1-this.m_ID].gkIsLastDefender()){CTeam.dribblePoint[O][2]=20}else{CTeam.dribblePoint[O][2]=5}}}if(this.m_feintStyle==-1&&g[this.convertDir(CPlayer.dirTo(CTeam.dribblePoint[O][0]-ai.m_posX,CTeam.dribblePoint[O][1]-ai.m_posY))]){CTeam.dribblePoint[O][2]=-1}}++O;am=java.lang.Math.max(16-cGame.random(2,3),ai.m_gridX+1);if(ai.m_gridY>=0){al=10-cGame.random(2,4)}else{al=-10+cGame.random(2,4)}if(!this.isInGridZone(ai,am,al,10,2,3,3)){CTeam.dribblePoint[O][2]=-1}else{CTeam.dribblePoint[O][0]=this.GridToPosRandom(am);CTeam.dribblePoint[O][1]=this.GridToPosRandom(al);if(!this.m_dribbleTime){CTeam.dribblePoint[O][2]=-1}else{if(this.haveEnemyBlock(ai,CTeam.dribblePoint[O][0],CTeam.dribblePoint[O][1],64)){var Q=CPlayer.dirDifference(this.convertDir(ai.m_currDir),CTeam.s_blockDir);if(Q==0){this.m_feintStyle=((cGame.random(0,1)==0)?3:3)}else{if(Q==-1||Q==1){this.m_feintStyle=cGame.random(3,5)%4}}if(this.m_feintStyle>-1){CTeam.dribblePoint[O][2]=20}}else{CTeam.dribblePoint[O][2]=5}}if(g[this.convertDir(CPlayer.dirTo(CTeam.dribblePoint[O][0]-ai.m_posX,CTeam.dribblePoint[O][1]-ai.m_posY))]){CTeam.dribblePoint[O][2]=-1}}++O;var D=[2,1,3,0,4,7,5,6];var E=false;for(var aa=0;aa<8;++aa){if(aa==1&&cGame.random(0,1)==1){D[aa]=3;D[aa+1]=1}if(aa==3&&cGame.random(0,1)==1){D[aa]=4;D[aa+1]=0}if(aa==5&&cGame.random(0,1)==1){D[aa]=5;D[aa+1]=7}if(this.m_inOpForbidden){CTeam.dribblePoint[O][2]=-1;break}if(g[D[aa]]&&cGame.s_matchDifficult>1){if((g[D[aa]+1&7]&&g[D[aa]-1&7])||cGame.random(0,100)>ai.getPlayerData(3)>>2){continue}if(!CPlayer.dirIn3(D[aa],2)){continue}}E=true;var ag=this.PosToGrid(ai.m_posX)+CTeam.DIR_TRANSFORM[D[aa]+2];var ae=this.PosToGrid(ai.m_posY)+CTeam.DIR_TRANSFORM[D[aa]+0];if(cGame.s_matchDifficult<2){ag+=CTeam.DIR_TRANSFORM[D[aa]+2];ae+=CTeam.DIR_TRANSFORM[D[aa]+0]}CTeam.dribblePoint[O][0]=this.GridToPos(ag);CTeam.dribblePoint[O][1]=this.GridToPos(ae);CTeam.dribblePoint[O][2]=5;if(ag>15||ae>9||ag<-15||ae<-9){CTeam.dribblePoint[O][2]=-1}else{var S=D[aa];if((this.m_inTopCorner&&(S==0||S==1))||(this.m_inBottomCorner&&(S==4||S==3))){CTeam.dribblePoint[O][2]=-1}for(var Z=1;Z<11;++Z){var y=this.m_opTeam.m_players[Z];if(y.m_court==0){var W=cGame.fastDistance(y.m_posX-CTeam.dribblePoint[O][0],y.m_posY-CTeam.dribblePoint[O][1])>>8;var ao=this.convertDir(CPlayer.dirTo(y.m_posX-CTeam.dribblePoint[O][0],y.m_posY-CTeam.dribblePoint[O][1]));var U=CPlayer.dirDifference(D[aa],ao);if(W<32&&cGame.s_matchDifficult>1&&(ai.m_starAbility&16)!=0){if(U==0){do{this.m_feintStyle=cGame.random(0,3)}while(this.m_feintStyle==0||this.m_feintStyle==2)}else{if((U==-1||U==1)&&cGame.random(0,9)<4){this.m_feintStyle=cGame.random(3,5)%4}}}if(W<16&&this.m_feintStyle==-1&&java.lang.Math.abs(U)<=1){CTeam.dribblePoint[O][2]=-1;break}}}if(CTeam.dribblePoint[O][2]!=-1){break}}}if(!E){CTeam.dribblePoint[O][2]=-1}CTeam.s_standbyPoints[0][0]=5;CTeam.s_standbyPoints[0][1]=this.choosePoint(ai,CTeam.dribblePoint,3,5);CTeam.s_standbyPoints[0][2]=CTeam.s_standbyPointX;CTeam.s_standbyPoints[0][3]=CTeam.s_standbyPointY;O=0;for(var e=0;e<8;++e){if(!ai.selectPassPoint(e,0)){CTeam.shortPassPoint[O][2]=-1}else{if(this.PosToGrid(CPlayer.s_passPointX)>=this.m_offsideGridX+1){CTeam.shortPassPoint[O][2]=-1}else{if(this.PosToGrid(ai.m_posX)>=this.m_offsideGridX-1&&(this.convertDir(e)>3||this.convertDir(e)<1)){CTeam.shortPassPoint[O][2]=-1}else{if(this.convertDir(e)>4&&(ai.m_gridX<0||ai.m_gridX>=8||cGame.fastDistance(CPlayer.s_passPointX-ai.m_posX,CPlayer.s_passPointY-ai.m_posY)>81920)){CTeam.shortPassPoint[O][2]=-1}else{if(!this.m_inTopCorner&&!this.m_inBottomCorner&&(this.convertDir(e)==4||this.convertDir(e)==0)&&cGame.fastDistance(ai.m_posX-CPlayer.s_passPointX,ai.m_posY-CPlayer.s_passPointY)>49152){CTeam.shortPassPoint[O][2]=-1}else{if(f!=-1&&e==f){CPlayer.s_passPointX=CPlayer.s_legendPlayer.m_posX;CPlayer.s_passPointY=CPlayer.s_legendPlayer.m_posY}CTeam.shortPassPoint[O][0]=CPlayer.s_passPointX;CTeam.shortPassPoint[O][1]=CPlayer.s_passPointY;CTeam.shortPassPoint[O][3]=CPlayer.s_passPlayerNumber;if(this.haveEnemyBlock(ai,CTeam.shortPassPoint[O][0],CTeam.shortPassPoint[O][1],65)){CTeam.shortPassPoint[O][2]=-1}else{CTeam.shortPassPoint[O][2]=1}}}}}}++O}CTeam.s_standbyPoints[1][0]=6;CTeam.s_standbyPoints[1][1]=this.choosePoint(ai,CTeam.shortPassPoint,8,6);if(CTeam.s_standbyPoints[1][1]!=-1){if(cGame.s_matchDifficult==5){var c=CTeam.s_standbyPoints[1];var X=1;c[X]<<=1}else{if(cGame.s_matchDifficult==0){var x=CTeam.s_standbyPoints[1];var M=1;x[M]>>=1}}}CTeam.s_standbyPoints[1][2]=CTeam.s_standbyPointX;CTeam.s_standbyPoints[1][3]=CTeam.s_standbyPointY;CTeam.s_standbyPoints[1][4]=CTeam.s_standbyPlayer;O=0;var T=0;for(var d=0;d<8;++d){if(this.convertDir(d)<=4){if(this.m_lastDecision==2){CTeam.longPassPoint[O][2]=-1}else{if(!ai.selectPassPoint(d,1)){CTeam.longPassPoint[O][2]=-1}else{T=this.convertDir(CPlayer.dirTo(CPlayer.s_passPointX-ai.m_posX,CPlayer.s_passPointY-ai.m_posY));if(f!=-1&&T==f&&ai.myPosInAcrossingZone()&&this.isInOpForbidden(CPlayer.s_legendPlayer.m_posX,CPlayer.s_legendPlayer.m_posY)){GLLib.Dbg("pssDir:"+T+" ps 2:"+CPlayer.s_passPointX+","+CPlayer.s_passPointY);CPlayer.s_passPointX=CPlayer.s_legendPlayer.m_posX;CPlayer.s_passPointY=CPlayer.s_legendPlayer.m_posY;GLLib.Dbg(",change 2:"+CPlayer.s_passPointX+","+CPlayer.s_passPointY)}if(T>4){CTeam.longPassPoint[O][2]=-1}else{if((T==0||T==4)&&java.lang.Math.abs(this.PosToGrid(CPlayer.s_passPointY))>7){CTeam.longPassPoint[O][2]=-1}else{if(this.PosToGrid(CPlayer.s_passPointX)>=this.m_offsideGridX+1){CTeam.longPassPoint[O][2]=-1}else{CTeam.longPassPoint[O][0]=CPlayer.s_passPointX;CTeam.longPassPoint[O][1]=CPlayer.s_passPointY;CTeam.longPassPoint[O][3]=CPlayer.s_passPlayerNumber;var aj=this.m_players[CPlayer.s_passPlayerNumber];if((ai.m_starAbility&8)!=0&&cGame.s_matchDifficult>1&&this.PosToGrid(CPlayer.s_passPointX)>0&&aj.acceptLongPass()){var w=CTeam.longPassPoint[O];var L=0;w[L]+=(this.m_leftSide?32768:-32768);CTeam.longPassPoint[O][0]=cGame.limit(CTeam.longPassPoint[O][0],-98304,98304)}else{if(this.haveEnemyBlockInLongPass(ai,CTeam.longPassPoint[O][0],CTeam.longPassPoint[O][1],128)&&!this.m_inTopCorner&&!this.m_inBottomCorner){CTeam.longPassPoint[O][2]=-1}else{if(CPlayer.dirIn5(N,d)){CTeam.longPassPoint[O][2]=1}}}}}}}}++O}}CTeam.s_standbyPoints[2][0]=3;CTeam.s_standbyPoints[2][1]=this.choosePoint(ai,CTeam.longPassPoint,5,3);CTeam.s_standbyPoints[2][2]=CTeam.s_standbyPointX;CTeam.s_standbyPoints[2][3]=CTeam.s_standbyPointY;CTeam.s_standbyPoints[2][4]=CTeam.s_standbyPlayer;CTeam.s_standbyPoints[3][0]=10000;CTeam.s_standbyPoints[3][1]=0;var C=(ai.m_starAbility&4)!=0&&GLLib.s_game_currentFrameNB%100<5&&CPlayer.dirIn3(this.convertDir(ai.m_currDir),2);if(this.m_inOpForbidden||(this.m_inLongShotArea&&cGame.random(0,10)>9&&cGame.s_matchDifficult>1)||(this.m_inLongShotArea&&cGame.random(0,10)>8&&cGame.s_matchDifficult==5)||(this.m_inLongShotArea&&C&&cGame.random(0,10)>1)){CTeam.s_standbyPoints[3][1]=10000;ai.calShootRange();Label_3977:{Label_3785:{if(ai.m_posY>=cGame.SMALL_FORBIDDEN_ZONE_TOP+cGame.FORBIDDEN_ZONE_TOP<<7&&ai.m_posY<=cGame.SMALL_FORBIDDEN_ZONE_BOTTOM+cGame.FORBIDDEN_ZONE_BOTTOM<<7){if(this.m_leftSide){if(ai.m_posX<cGame.FORBIDDEN_ZONE_LEFT<<8){break Label_3785}}else{if(ai.m_posX>-cGame.FORBIDDEN_ZONE_LEFT<<8){break Label_3785}}if(CPlayer.s_ballOwner==null){break Label_3977}if(CPlayer.s_ctrWithBall>5){break Label_3977}}}if(CPlayer.s_shootMinY<cGame.FORBIDDEN_ZONE_TOP<<8||CPlayer.s_shootMaxY>cGame.FORBIDDEN_ZONE_BOTTOM<<8){if(cGame.random(0,19)<=18){CTeam.s_standbyPoints[3][1]=0}}else{if(CPlayer.s_shootMinY<cGame.SMALL_FORBIDDEN_ZONE_TOP<<8||CPlayer.s_shootMaxY>cGame.SMALL_FORBIDDEN_ZONE_BOTTOM<<8){if(cGame.random(0,9)<=8){CTeam.s_standbyPoints[3][1]=0}}else{if((CPlayer.s_shootMinY<cGame.CAGE_TOP<<8||CPlayer.s_shootMaxY>cGame.CAGE_BOTTOM<<8)&&cGame.random(0,9)<=7){if(ai.m_gridY<-3||ai.m_gridY>3||ai.m_gridX>=13){CTeam.s_standbyPoints[3][1]=0}else{if(cGame.random(0,9)<=7&&(ai.m_starAbility&4)!=0){CTeam.s_standbyPoints[3][1]=0}}}}}}if((this.m_inOpForbidden&&(ai.m_starAbility&1)!=0)||C){CTeam.s_standbyPoints[3][1]=10000}if(CTeam.s_standbyPoints[3][1]==0&&((this.m_leftSide&&ai.m_posX>ai.m_opTeam.m_GK.m_posX)||(!this.m_leftSide&&ai.m_posX<ai.m_opTeam.m_GK.m_posX))){CTeam.s_standbyPoints[3][1]=10000}}CTeam.s_standbyPoints[4][0]=0;if(this.convertDir(ai.m_currDir)>4){CTeam.s_standbyPoints[4][1]=1}if(ai.m_fatigue>900){var v=CTeam.s_standbyPoints[4];var K=1;v[K]+=3}else{if(ai.m_fatigue>700){var t=CTeam.s_standbyPoints[4];var J=1;t[J]+=2}else{if(ai.m_fatigue>600){var s=CTeam.s_standbyPoints[4];var H=1;++s[H]}}}var G=0;for(var ad=0;ad<5;++ad){if(CTeam.s_standbyPoints[ad][1]>0){G+=CTeam.s_standbyPoints[ad][1]}}if(G==0){if(this.m_inOpForbidden){GLLib.Dbg("max == 0, I am in forbidden try to shoot");return 3}var o=this.PosToGrid(ai.m_posX)+CTeam.DIR_TRANSFORM[4];var ak=this.PosToGrid(ai.m_posY)+CTeam.DIR_TRANSFORM[2];if(o>15||ak>9||o<-15||ak<-9){o=this.PosToGrid(ai.m_posX)+CTeam.DIR_TRANSFORM[8];ak=this.PosToGrid(ai.m_posY)+CTeam.DIR_TRANSFORM[6]}CTeam.s_standbyPoints[0][0]=5;CTeam.s_standbyPoints[0][2]=this.GridToPos(o);CTeam.s_standbyPoints[0][3]=this.GridToPos(ak);return 0}else{if(cGame.s_aiMode==6){return 4}var b=0;var a=0;for(var ab=0;ab<5;++ab){b+=CTeam.s_standbyPoints[ab][1];if(CTeam.s_standbyPoints[ab][1]>=G>>1){break}if(ab==4){b=cGame.random(1,G)}}a=0;for(var ab=0;ab<5;++ab){if(CTeam.s_standbyPoints[ab][1]>0){a+=CTeam.s_standbyPoints[ab][1]}if(a>=b){if(ab!=0||ai.m_tacState!=1){if(ab==2){if(cGame.fastDistance(ai.m_posX-CTeam.s_standbyPoints[2][2],ai.m_posY-CTeam.s_standbyPoints[2][3])<51200){CTeam.s_standbyPoints[1][2]=CTeam.s_standbyPoints[2][2];CTeam.s_standbyPoints[1][3]=CTeam.s_standbyPoints[2][3];ab=1}if(ai.myPosInAcrossingZone()){var r=6400;if(this.m_leftSide){CTeam.s_standbyPoints[2][2]=cGame.limit(CTeam.s_standbyPoints[2][2]+8192,cGame.FORBIDDEN_ZONE_LEFT<<8,135168)}else{CTeam.s_standbyPoints[2][2]=cGame.limit(CTeam.s_standbyPoints[2][2]-8192,-135168,-cGame.FORBIDDEN_ZONE_LEFT<<8)}CTeam.s_standbyPoints[2][3]=cGame.limit(CTeam.s_standbyPoints[2][3]+(this.m_inBottomCorner?(-r):r),cGame.FORBIDDEN_ZONE_TOP<<8,-cGame.FORBIDDEN_ZONE_TOP<<8)}}else{if(ab==4&&ai==CPlayer.s_ballOwner&&CPlayer.s_ctrWithBall>5&&(this.m_lastDecision==4||ai.m_currState==0||ai.m_currState==9)){ab=0;CTeam.s_standbyPoints[0][2]=this.GridToPos(16);CTeam.s_standbyPoints[0][3]=this.GridToPos(0)}}}return this.m_lastDecision=ab}}return -1}},haveEnemyBlock:function(g,a,h,b){var e=this.convertDir(CPlayer.dirTo(a-g.m_posX,h-g.m_posY));for(var f=0;f<CTeam.s_nAvoidPlayer;++f){var d=CPlayer.dirDifference(e,this.avoidPlayerData[f<<1]);if(b==64){if(this.PosToGrid(g.m_posX)>=this.m_offsideGridX-1){if((-1<=d&&d<=1&&this.avoidPlayerData[(f<<1)+1]<=b>>1)||(d==0&&this.avoidPlayerData[(f<<1)+1]<=b)){CTeam.s_blockDir=this.avoidPlayerData[f<<1];return true}}else{if((-2<=d&&d<=2&&this.avoidPlayerData[(f<<1)+1]<=b>>1)||(-1<=d&&d<=1&&this.avoidPlayerData[(f<<1)+1]<=b)){CTeam.s_blockDir=this.avoidPlayerData[f<<1];return true}}}else{if(b==65){var c=cGame.fastDistance(g.m_posX-CPlayer.s_passPointX,g.m_posY-CPlayer.s_passPointY);if(d==0&&this.avoidPlayerData[(f<<1)+1]<=20){return true}if(d==0&&this.avoidPlayerData[(f<<1)+1]<<5>c*5){return true}}else{if(-1<=d&&d<=1&&this.avoidPlayerData[(f<<1)+1]<=b){return true}}}}return false},haveEnemyBlockInLongPass:function(e,a,g,b){for(var d=0;d<11;++d){var f=this.m_opTeam.m_players[d];if(f.m_court==0){var c=cGame.fastDistance(f.m_posX-a,f.m_posY-g);if(c<b<<8){return true}}}return false},choosePoint:function(w,p,d,b){var C=this.PosToGrid(w.m_posX);var B=this.PosToGrid(w.m_posY);var h=b;if(b==5&&this.PosToGrid(w.m_posX)<this.m_offsideGridX-1&&this.isInPlayfield(C,B)){if(this.m_dribbleTime){h=20}else{if(this.s_valueOfGrid[(C+16)*21+(B+10)]!=0){--this.m_dribbleScore}if(C<-8){--this.m_dribbleScore}}h=java.lang.Math.max(this.m_dribbleScore,1)}var a=cGame.random(0,5)<3;if((w.m_starAbility&1)!=0){a=false}else{if((w.m_starAbility&16)!=0){a=true}}for(var z=0;z<d;++z){if(p[z][2]==-1){CTeam.score[z]=0}else{CTeam.score[z]=h;var r=this.convertDir(CPlayer.dirTo(p[z][0]-w.m_posX,p[z][1]-w.m_posY));var l=this.PosToGrid(p[z][1]);var t=this.m_players[p[z][3]];var e=this.convertDir(w.m_currDir);if(b==6){var f=0;if(CPlayer.dirIn3(r,e)&&CPlayer.dirIn3(r,2)){f=4}else{if(w.m_gridX<=t.m_gridX&&(l>=7||l<=-7)){f=3}else{if(CPlayer.dirIn3(r,e)&&(r==0||r==4)){f=2}}}if(this.m_players[p[z][3]].m_role==2&&w.m_gridX<=8){if(t.m_gridX>w.m_gridX){f+=2}else{++f}}if(cGame.fastDistance(t.m_posX-w.m_posX,t.m_posY-w.m_posY)>49152){f-=3}var q=(t.m_gridX+16)*21+t.m_gridY+10;if(q!=-1&&this.m_opTeam.s_valueOfGrid!=null&&q<this.m_opTeam.s_valueOfGrid.length&&this.m_opTeam.s_valueOfGrid[q]==0){++f}if(t==CPlayer.s_ballLastOwner&&CPlayer.s_ctrWithoutBall<20){f-=3}if(w.m_gridX>t.m_gridX){--f}else{++f}if(f>0){var g=CTeam.score;var s=z;g[s]<<=f}}else{if(r==2){CTeam.score[z]<<=4}else{if(r==1||r==3){CTeam.score[z]<<=2}else{if(r==0||r==4){CTeam.score[z]<<=1}else{CTeam.score[z]=CTeam.score[z]}}}}if(b==5){if(B>5){if(r==3||r==4){CTeam.score[z]<<=1}else{if(r==0||r==1){CTeam.score[z]>>=1}}}else{if(B<-5){if(r==0||r==1){CTeam.score[z]<<=1}else{if(r==3||r==4){CTeam.score[z]>>=1}}}else{if(B>0){if(r==1){CTeam.score[z]=(a?(CTeam.score[z]<<1):(CTeam.score[z]>>1))}else{if(r==3){CTeam.score[z]=(a?(CTeam.score[z]>>1):(CTeam.score[z]<<1))}}}else{if(r==3){CTeam.score[z]=(a?(CTeam.score[z]<<1):(CTeam.score[z]>>1))}else{if(r==1){CTeam.score[z]=(a?(CTeam.score[z]>>1):(CTeam.score[z]<<1))}}}}}}if(b==5&&this.m_dribbleTime&&(z==0||z==1)){if((w.m_starAbility&16)!=0){CTeam.score[z]=h<<2}else{CTeam.score[z]=h<<1}}else{if(b!=5&&!this.m_inTopCorner&&!this.m_inBottomCorner){var o=this.PosToGrid(p[z][0]);var m=this.PosToGrid(p[z][1]);if(this.isInPlayfield(o,m)){if((this.s_valueOfGrid[(o+16)*21+(m+10)]&1-this.m_ID+1)!=0&&b!=6){CTeam.score[z]=0}}else{CTeam.score[z]=0}}if(b==3){if(this.m_dangerArea&&r==2){CTeam.score[z]<<=8}else{if((w.m_gridY>5&&w.m_gridX>gloft.casttoint((528-cGame.PENALTY_X)/32)&&r==0)||(w.m_gridY<-5&&w.m_gridX>gloft.casttoint((528-cGame.PENALTY_X)/32)&&r==4)){CTeam.score[z]<<=8}else{if(this.PosToGrid(p[z][0])>0&&t.acceptLongPass()&&cGame.s_matchDifficult>1){var c=cGame.random(0,10);if((w.m_pass>=80&&c<2)||((w.m_starAbility&8)!=0&&c<3)){CTeam.score[z]<<=2}else{CTeam.score[z]>>=1}}else{if((l>=7||l<=-7)&&cGame.s_matchDifficult>1){CTeam.score[z]<<=4}else{CTeam.score[z]>>=1}}}}}if(b==6&&((this.m_inBottomCorner&&(r==0||r==7))||(this.m_inTopCorner&&(r==4||r==5)))){CTeam.score[z]<<=4}}}}var D=0;for(var A=0;A<d;++A){D+=CTeam.score[A]}if(D==0){CTeam.s_standbyPointX=0;return CTeam.s_standbyPointY=0}var F=0;var E=0;for(var v=0;v<d;++v){F+=CTeam.score[v];if(CTeam.score[v]>=D>>1){break}if(v==d-1){F=cGame.random(1,D)}}for(var v=0;v<d;++v){E+=CTeam.score[v];if(E>=F){if(b==5){var u=this.convertDir(CPlayer.dirTo(p[v][0]-w.m_posX,p[v][1]-w.m_posY));if(u>0&&u<4&&(w.m_gridX>0||w.m_role==3||w.m_role==2)&&this.m_feintStyle==-1&&!this.haveEnemyBlock(w,p[v][0],p[v][1],64)&&cGame.s_matchDifficult>0){this.m_needFastDribble=true}else{this.m_needFastDribble=false}if(this.isInOpForbidden(p[v][0],p[v][1])){this.m_needFastDribble=true}}CTeam.s_standbyPointX=p[v][0];CTeam.s_standbyPointY=p[v][1];CTeam.s_standbyPlayer=p[v][3];return CTeam.score[v]}}return -1},findOffsideGrid:function(){var c=Actor.s_football.m_posX;for(var b=1;b<11;++b){if(this.m_opTeam.m_players[b].m_court==0){var a=this.m_opTeam.m_players[b].m_posX;if(this.m_leftSide){if(a<=c){continue}}else{if(a>=c){continue}}c=a}}return this.PosToGrid(c)},updateTeamAI:function(){if(cGame.s_aiMode==6&&((CTeam.s_newtutorialStep>=35&&(CTeam.s_newtutorialStep!=40||this!=CTeam.s_team0))||(CTeam.s_newtutorialStep>=23&&CTeam.s_newtutorialStep<28))){return}if(this.m_rcvUseNewPointingSystem&&Actor.s_ballDestReached){this.m_rcvUseNewPointingSystem=false}this.updateMorale();if(CTeam.s_refreshTime&&!this.m_needRefresh){this.m_needRefresh=true}if(this.m_needRefresh){switch(CTeam.s_matchState){case 0:this.refreshCoachOrder_step1();this.m_refreshing=true;break;case 3:case 4:CPlayer.s_power=0;case 6:case 7:case 8:if(CTeam.s_period==0){this.refreshEmotionOrder();break}if(CTeam.s_period==12||cGame.s_is_in_traininig10_mode){break}if((CTeam.s_matchState==6||CTeam.s_matchState==7)&&CTeam.s_period!=1){break}this.refreshCoachPlacementOrder();this.m_refreshing=true;break;case 1:case 9:case 609:case 610:case 613:case 614:case 618:case 626:case 627:case 638:CPlayer.s_power=0;if(CTeam.s_period==0){this.refreshEmotionOrder();break}break;case 605:case 608:case 612:case 619:case 628:case 639:CPlayer.s_power=0;break}}else{if(this.m_refreshing){this.refreshCoachOrder_step2();this.m_refreshing=false}else{if(CTeam.s_matchState==0){this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));this.m_refreshing=true}}}if(this.m_type==0){if(CTeam.s_matchState==0&&this.m_players[0].m_currState!=8&&this.m_opTeam.m_players[0].m_currState!=8){if(cGame.s_aiMode==8){this.choosePlayer(false)}this.setFocusPlayer(false);this.setPotentialPlayer()}}else{if(cGame.s_aiMode==13&&CPlayer.s_legendPlayer!=null&&CPlayer.s_legendPlayer.m_court==0&&this==CTeam.s_team0){CPlayer.s_legendPlayer.setFocus();this.setPotentialPlayer()}}this.takeCoachOrder();for(var c=10;c>=0;--c){var b=this.m_players[c];if(b.m_tacState!=-1||(CTeam.s_period==11&&b==CTeam.s_kickPlayer&&this.m_commandIndex[b.m_Number]!=0)){if(b.m_court==0){if(this.m_commandIndex[c]==0){if(!b.m_isStronger&&!b.m_isWeaker){b.stand(false);if(CTeam.s_matchState==0&&b.m_currDir!=b.m_dirToBall){b.turn(-1)}}}else{if(b.haveCommandFinished()||this.m_commandList[c<<4]==-1){this.deleteCommand(c);if(this.m_commandIndex[c]!=0){if(b.m_idea==0){var a=this.m_opTeam.m_players[b.m_ideaParam1];if(a!=CPlayer.s_ballOwner&&a!=CPlayer.s_ballFastOwner){b.tracePlayerEnd()}}this.doCommand(c)}}}}}}},choosePlayer:function(b){var d=0;var c=0;var e=false;var a=false;if(CPlayer.s_player[0]==null){e=true}if(CPlayer.s_player[1]==null){a=true}d=Actor.s_football.m_destX;c=Actor.s_football.m_destY;if(this.m_state==-1){if(CPlayer.s_ballOwner!=null){d=CPlayer.s_ballOwner.m_posX+CTeam.DIR_TRANSFORM[this.convertDir(6)]*8192;c=CPlayer.s_ballOwner.m_posY}if(CTeam.s_matchState==0){e=(cGame.screenDistance(CPlayer.s_player[0].m_posX-d,CPlayer.s_player[0].m_posY-c)>>8>320);a=(cGame.screenDistance(CPlayer.s_player[0].m_posX-d,CPlayer.s_player[0].m_posY-c)>>8>320)}}if(e||b){CPlayer.findNearestToBallInTeam_dup_IIII(this.m_ID,0,d,c).setPlayer(0);if(CTeam.s_matchState==0&&b){if(CPlayer.s_ballOwner!=null){CPlayer.s_player[0].tracePlayerBegin(CPlayer.s_ballOwner.m_Number)}else{if(CPlayer.s_ballFastOwner!=null){CPlayer.s_player[0].tracePlayerBegin(CPlayer.s_ballFastOwner.m_Number)}else{CPlayer.s_player[0].m_idea=1}}}}if(a||b){CPlayer.findNearestToBallInTeam_dup_IIII(this.m_ID,CPlayer.s_player[0].m_Number,d,c).setPlayer(1);if(CTeam.s_matchState==0&&b){if(CPlayer.s_ballOwner!=null){CPlayer.s_player[1].tracePlayerBegin(CPlayer.s_ballOwner.m_Number)}else{if(CPlayer.s_ballFastOwner!=null){CPlayer.s_player[1].tracePlayerBegin(CPlayer.s_ballFastOwner.m_Number)}else{CPlayer.s_player[1].m_idea=1}}}}},getFocusScore:function(a){var b=1;if(CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_Number==a){b*=2}b*=3-gloft.casttoint((gloft.casttoint((java.lang.Math.abs(this.m_players[a].m_posX-Actor.s_football.m_posX)>>8)/16)+1)/2);b*=3-gloft.casttoint((gloft.casttoint((java.lang.Math.abs(this.m_players[a].m_posY-Actor.s_football.m_posY)>>8)/16)+1)/2);if((this.m_leftSide&&this.m_players[a].m_posX<=Actor.s_football.m_posX+4096)||(!this.m_leftSide&&this.m_players[a].m_posX>=Actor.s_football.m_posX-4096)){if(java.lang.Math.abs(this.m_players[a].m_posY)<=java.lang.Math.abs(Actor.s_football.m_posY)+4096){b*=4;this.m_players[a].focusScoreFrontMiddle=4}else{b*=2;this.m_players[a].focusScoreFrontMiddle=2}}if(CPlayer.s_haveCompetition&&CPlayer.s_focusPlayer!=null&&(CPlayer.s_focusPlayer.m_isStronger||CPlayer.s_focusPlayer.m_isWeaker||CPlayer.s_shoveLostBall)&&CPlayer.s_focusPlayer.m_Number==a){b=99}this.m_players[a].focusScoreX=gloft.casttoint((gloft.casttoint((java.lang.Math.abs(this.m_players[a].m_posX-Actor.s_football.m_posX)>>8)/16)+1)/2);this.m_players[a].focusScoreY=gloft.casttoint((gloft.casttoint((java.lang.Math.abs(this.m_players[a].m_posY-Actor.s_football.m_posY)>>8)/16)+1)/2);return this.m_players[a].focusScore=b},setFocusPlayer:function(d){var a=-1;if(CPlayer.s_focusPlayer!=null){a=CPlayer.s_focusPlayer.m_Number}if((CTeam.s_isGKSavingPenalty||cGame.s_whichHalf==5)&&CTeam.s_period!=4){return}if(cGame.s_aiMode==13&&CPlayer.s_legendPlayer!=null){if(CPlayer.s_legendPlayer.m_court==0){CPlayer.s_legendPlayer.setFocus()}else{CPlayer.clearFocus()}return}if(cGame.s_aiMode==9){this.m_players[cGame.s_dribble_in_team_playerID].setFocus();return}if(cGame.s_aiMode==15){this.m_players[cGame.s_menuSelectPlayerID].setFocus();return}if(d){CTeam.s_autoSwitch=false}var j=false;var e=0;var c=0;if(CPlayer.s_ballOwner==null||CPlayer.s_focusPlayer==null){e=Actor.s_football.m_destX;c=Actor.s_football.m_destY;if(CPlayer.s_ballFastOwner!=null&&CPlayer.s_ballFastOwner.m_myTeam.m_ID==this.m_ID){CPlayer.s_ballFastOwner.setFocus();CTeam.s_autoSwitch=true}else{if(CPlayer.s_ballReceiver[this.m_ID]!=null&&(CPlayer.s_focusPlayer==null||(CPlayer.s_focusPlayer!=CPlayer.s_ballTackledOutBy&&this.m_ID==CPlayer.s_focusPlayer.m_myTeam.m_ID))){CPlayer.s_ballReceiver[this.m_ID].setFocus();CTeam.s_autoSwitch=true}else{if(CTeam.s_autoSwitch){j=true}}}}else{if(this.m_state==-1){e=Actor.s_football.m_posX;c=Actor.s_football.m_posY;if(CTeam.s_matchState==0&&CTeam.s_autoSwitch){j=true;if(cGame.s_aiMode==7){j=(cGame.screenDistance(CPlayer.s_player[this.m_ID].m_posX-e,CPlayer.s_player[this.m_ID].m_posY-c)>>8>320)}else{j=(GLLib.s_game_currentFrameNB-CPlayer.m_focusTickCounter>16)}}}}if((cGame.s_aiMode!=8&&d)||(CTeam.s_autoSwitch&&j)){if(!d&&CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer==CPlayer.s_ballTackledOutBy){return}var b=334848;var g=-1;var f=1;var l=0;for(var h=1;h<11;++h){var m=this.m_players[h];this.m_players[h].focusScore=0;this.m_players[h].focusScoreX=0;this.m_players[h].focusScoreY=0;this.m_players[h].focusScoreFrontMiddle=0;if(m.m_tacState!=11&&m.m_coachSetTacState!=11&&m.m_court==0&&m.m_card!=2){if(!d||!m.m_isFocus){var k=cGame.fastDistance(m.m_posX-e,m.m_posY-c);if(this.m_state!=-1){if(b>k){b=k;f=h;if(CTeam.s_autoSwitch&&j&&b<20480&&CPlayer.s_ballOwner!=null){break}}}else{if(b>k){f=h;if((b=k)<20480&&l<this.getFocusScore(h)){l=this.getFocusScore(h);g=h}}}}}}if(g==-1){g=f}if(this.m_state==-1&&CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_Number!=g&&this.m_players[g].m_disToBall>gloft.casttoint(CPlayer.s_focusPlayer.m_disToBall*3/5)&&CPlayer.s_focusPlayer.m_court==0&&CPlayer.s_focusPlayer.m_card!=2&&!d){g=CPlayer.s_focusPlayer.m_Number}b=cGame.fastDistance(this.m_players[g].m_posX-e,this.m_players[g].m_posY-c);if(d){this.m_players[g].setFocus();CTeam.s_focusTick=GLLib.s_game_currentFrameNB;if(CTeam.s_matchState==0){if(CPlayer.s_ballOwner!=null){this.m_players[g].tracePlayerBegin(CPlayer.s_ballOwner.m_Number)}else{if(CPlayer.s_ballFastOwner!=null){this.m_players[g].tracePlayerBegin(CPlayer.s_ballFastOwner.m_Number)}else{this.m_players[g].m_idea=1}}}}else{if(CTeam.s_autoSwitch&&(CPlayer.s_focusPlayer==null||(j&&b<20480)||(cGame.s_aiMode==7&&this.m_ID!=CPlayer.s_focusPlayer.m_myTeam.m_ID))){if(CPlayer.s_focusPlayer!=null&&this.m_ID!=CPlayer.s_focusPlayer.m_myTeam.m_ID){this.m_players[g].setPlayer(this.m_ID)}else{this.m_players[g].setFocus()}}}}if(a!=CPlayer.s_focusPlayer.m_Number){CPlayer.s_power=0}},setPotentialLongPassPlayer:function(){if(GLLib.s_game_currentFrameNB%60!=0&&CTeam.s_potentialLongPassPlayer!=null&&CTeam.s_potentialLongPassPlayer.m_inCamera&&CTeam.s_potentialLongPassByPosPlayer!=null&&CTeam.s_potentialLongPassByPosPlayer.m_inCamera){return}if(CTeam.s_potentialLongPassPlayer!=null&&!CTeam.s_potentialLongPassPlayer.m_inCamera){CTeam.s_potentialLongPassPlayer=null}if(CTeam.s_potentialLongPassByPosPlayer!=null&&!CTeam.s_potentialLongPassByPosPlayer.m_inCamera){CTeam.s_potentialLongPassByPosPlayer=null}if(this.m_state==1){var a=-1;a=((CPlayer.s_focusPlayer.m_preDir==-1)?CPlayer.s_focusPlayer.m_nextDir:CPlayer.s_focusPlayer.m_preDir);CPlayer.parseVector_dup_II(49152,a);CTeam.s_potentialLongPassPlayer=null;CTeam.s_potentialLongPassByPosPlayer=null;if(cGame.s_aiMode==6&&CTeam.s_newtutorialStep!=9){return}this.findLongPassPlayer(CPlayer.s_focusPlayer,a,5);if(CPlayer.s_focusPlayer.selectLongPassPointByPos()){if(cGame.s_matchMode==11){CTeam.s_potentialLongPassByPosPlayer=this.m_players[7]}else{CTeam.s_potentialLongPassByPosPlayer=this.m_players[CPlayer.s_longPassByPosPlayerNumber]}CTeam.s_potentialLongPassByPosPointX=CPlayer.s_longPassByPosPointX;CTeam.s_potentialLongPassByPosPointY=CPlayer.s_longPassByPosPointY}}},findLongPassPlayer:function(m,c,h){var l=m.m_posX;var k=m.m_posY;var g=0;var b=334848;var a=0;var f=0;var e=0;var j=false;if(m.selectLongPassPoint(c)){g=cGame.fastDistance(CPlayer.s_longPassPointX-l,CPlayer.s_longPassPointY-k);if(g<b){b=g;a=CPlayer.s_longPassPlayerNumber;f=CPlayer.s_longPassPointX;e=CPlayer.s_longPassPointY;j=true}}if(!j){for(var d=1;d<=h>>1;++d){if(m.selectLongPassPoint(c+d&7)){g=cGame.fastDistance(CPlayer.s_longPassPointX-l,CPlayer.s_longPassPointY-k);if(g<b){b=g;a=CPlayer.s_longPassPlayerNumber;f=CPlayer.s_longPassPointX;e=CPlayer.s_longPassPointY;break}}if(m.selectLongPassPoint(c-d+8&7)){g=cGame.fastDistance(CPlayer.s_longPassPointX-l,CPlayer.s_longPassPointY-k);if(g<b){b=g;a=CPlayer.s_longPassPlayerNumber;f=CPlayer.s_longPassPointX;e=CPlayer.s_longPassPointY;break}}}}if(b<334848){CTeam.s_potentialLongPassPlayer=this.m_players[a];CTeam.s_potentialLongPassPointX=f;CTeam.s_potentialLongPassPointY=e}return b<334848},setPotentialPlayer:function(){if(CPlayer.s_radar==1||(CPlayer.s_focusPlayer!=null&&CPlayer.s_focusPlayer.m_currState==2)){return}if(CPlayer.s_oneTwoPlayer[0]!=null){CTeam.s_potentialPlayer=CPlayer.s_oneTwoPlayer[0];CTeam.s_potentialPassPointX=CTeam.s_potentialPlayer.m_posX;CTeam.s_potentialPassPointY=CTeam.s_potentialPlayer.m_posY}else{if(CPlayer.s_radar==5&&CTeam.s_potentialPlayer!=null){CTeam.s_potentialPassPointX=CTeam.s_potentialPlayer.m_posX;CTeam.s_potentialPassPointY=CTeam.s_potentialPlayer.m_posY}else{if(this.m_state==1){CTeam.s_potentialPlayer=null;var d=-1;if(CPlayer.s_focusPlayer.m_currState==13){d=(CPlayer.s_focusPlayer.m_nextDir&7)}else{d=((CPlayer.s_focusPlayer.m_preDir==-1)?CPlayer.s_focusPlayer.m_nextDir:CPlayer.s_focusPlayer.m_preDir)}if((cGame.s_aiMode==6&&CTeam.s_newtutorialStep==9&&this.m_players[8]!=CPlayer.s_focusPlayer)||CTeam.s_newtutorialStep==7||CTeam.s_newtutorialStep==14){if(CTeam.s_newtutorialStep==9){CTeam.s_potentialLongPassPlayer=this.m_players[8];CTeam.s_potentialLongPassPointX=this.m_players[8].m_posX;CTeam.s_potentialLongPassPointY=this.m_players[8].m_posY;return}if(CTeam.s_newtutorialStep==7||CTeam.s_newtutorialStep==14){var a=(CPlayer.s_focusPlayer==this.m_players[10])?9:10;CTeam.s_potentialLongPassPlayer=null;CTeam.s_potentialPlayer=this.m_players[a];CTeam.s_potentialPassPointX=this.m_players[a].m_posX;CTeam.s_potentialPassPointY=this.m_players[a].m_posY;return}}else{CPlayer.parseVector_dup_II(25600,d);CTeam.s_potentialPlayer=null;CTeam.s_potentialPassPointX=CPlayer.s_focusPlayer.m_posX+CPlayer.s_vectorX;CTeam.s_potentialPassPointY=CPlayer.s_focusPlayer.m_posY+CPlayer.s_vectorY;if(!this.findPassPlayer(CPlayer.s_focusPlayer,d,3,7,24576)&&!this.findPassPlayer(CPlayer.s_focusPlayer,d,7,8,49152)){var g=gloft.casttoint(null);var b=g=9999;for(var f=1;f<11;++f){if(CPlayer.s_focusPlayer!=CTeam.s_team0.m_players[f]){if(!CPlayer.s_focusPlayer.posBehindMe(CTeam.s_team0.m_players[f].m_posX,CTeam.s_team0.m_players[f].m_posY)){b=cGame.fastDistance(CPlayer.s_focusPlayer.m_posX-CTeam.s_team0.m_players[f].m_posX,CPlayer.s_focusPlayer.m_posY-CTeam.s_team0.m_players[f].m_posY);if(b<g){g=b;var k=CTeam.s_team0;CTeam.s_potentialPlayer=CTeam.s_team0.m_players[f];CTeam.s_potentialPassPointX=CTeam.s_potentialPlayer.m_posX;CTeam.s_potentialPassPointY=CTeam.s_potentialPlayer.m_posY}}}}}}}}}this.setPotentialLongPassPlayer();if(cGame.s_ptRecieverOn&&GLLib.s_game_currentFrameNB%15==0&&CTeam.s_potentialPlayer!=null){if(CTeam.isPlayerOffside(CTeam.s_potentialPlayer)){CTeam.s_assistPosState=3;return}for(var e=0;e<11;++e){var h=this.m_opTeam.m_players[e];if(h.m_dirToBall==CTeam.s_potentialPlayer.m_dirToBall){if(h.m_court==0){var c=cGame.fastDistance(h.m_posX-CTeam.s_potentialPassPointX,h.m_posY-CTeam.s_potentialPassPointY);if(c<8192&&h.m_disToBall<CTeam.s_potentialPlayer.m_disToBall){CTeam.s_assistPosState=2;return}}}}if((this.m_leftSide&&CPlayer.s_focusPlayer.m_posX<CTeam.s_potentialPassPointX&&CTeam.s_potentialPassPointX>0)||(!this.m_leftSide&&CPlayer.s_focusPlayer.m_posX>CTeam.s_potentialPassPointX&&CTeam.s_potentialPassPointX<0)){CTeam.s_assistPosState=1}else{CTeam.s_assistPosState=0}}},findPassPlayer:function(n,c,j,o,h){var m=n.m_posX;var l=n.m_posY;var g=0;var b=334848;var a=0;var f=0;var e=0;var k=false;if(n.selectPassPoint(c,8)){g=cGame.fastDistance(CPlayer.s_passPointX-m,CPlayer.s_passPointY-l);if(g<b){b=g;a=CPlayer.s_passPlayerNumber;f=CPlayer.s_passPointX;e=CPlayer.s_passPointY;if(b<h&&this.m_players[a].m_inCamera){k=true}}}if(!k){for(var d=1;d<=j>>1;++d){if(n.selectPassPoint(c+d&7,o)){g=cGame.fastDistance(CPlayer.s_passPointX-m,CPlayer.s_passPointY-l);if(g<b){b=g;a=CPlayer.s_passPlayerNumber;f=CPlayer.s_passPointX;e=CPlayer.s_passPointY;if(b<h){break}}}if(d!=0&&n.selectPassPoint(c-d+8&7,o)){g=cGame.fastDistance(CPlayer.s_passPointX-m,CPlayer.s_passPointY-l);if(g<b){b=g;a=CPlayer.s_passPlayerNumber;f=CPlayer.s_passPointX;e=CPlayer.s_passPointY;if(b<h){break}}}}}if(b<334848){if(cGame.s_potentialPlayerNum<0){CTeam.s_potentialPlayer=this.m_players[a];CTeam.s_potentialPassPointX=CTeam.s_potentialPlayer.m_posX;CTeam.s_potentialPassPointY=CTeam.s_potentialPlayer.m_posY}else{CTeam.s_potentialPlayer=this.m_players[cGame.s_potentialPlayerNum];CTeam.s_potentialPassPointX=CTeam.s_potentialPlayer.m_posX;CTeam.s_potentialPassPointY=CTeam.s_potentialPlayer.m_posY}}return b<334848},initCommandList:function(){for(var a=0;a<11;++a){this.m_commandIndex[a]=0}for(var a=0;a<176;++a){this.m_commandList[a]=0}},addCommand:function(c,b,a,f,e){var d=this.m_commandIndex[c];if(d==0){this.m_commandList[c<<4]=-1;d=1}this.m_commandIndex[c]=d+1;d=(c<<4)+(d<<2);this.m_commandList[d]=b;this.m_commandList[d+1]=a;this.m_commandList[d+2]=f;this.m_commandList[d+3]=e},deleteCommand:function(a){java.lang.System.arraycopy(this.m_commandList,(a<<4)+4,this.m_commandList,a<<4,12);var b=this.m_commandIndex;--b[a]},haveDirectCommand:function(c,d){if(this.m_commandIndex[c]<=0){return false}var a=this.m_commandIndex[c];var e=c<<4;for(var b=0;b<a*4;b+=4){if(this.m_commandList[e+b]==d){return true}}return false},getCommandString:function(c){if(this.m_commandIndex[c]<=0){return""}var a=this.m_commandIndex[c];var e=c<<4;var b=0;var d="";while(b<a*4){d=d+this.m_commandList[e+b]+" ";b+=4}return d.substring(0,d.length-1)},deleteAllCommand:function(a){this.m_commandIndex[a]=0},doCommand:function(c){var i=this.m_players[c];var d=this.m_commandList[c<<4];var h=this.m_commandList[(c<<4)+1];var g=this.m_commandList[(c<<4)+2];var e=this.m_commandList[(c<<4)+3];switch(d){case 1:if(c==0&&CTeam.s_matchState!=9){i.gkRunTo(h,g);break}if(this.m_rcvUseNewPointingSystem&&this.m_players[c].m_tacState==1){i.runTo(h,g,e!=-1);break}if(this.m_players[c].m_tacState==5&&this.m_needFastDribble){i.runTo(h,g,true);break}if(this.m_players[c].m_tacState==1&&this.m_players[c]==CPlayer.s_ballFastOwner){i.runTo(h,g,this.m_players[c].m_fastrun);break}if(this.m_state==-1&&(this.m_players[c].m_tacState==7||this.m_players[c].m_tacState==0||this.m_players[c].m_tacState==8)){if(CPlayer.isTurnBehavior(i.m_behavior)&&CTeam.s_matchState==0){i.m_actionOver=true}i.runTo(h,g,e!=-1);break}if(this.m_state==1&&this.m_players[c].m_tacState==1){i.runTo(h,g,e!=-1);break}i.runTo(h,g,e!=-1);break;case 2:if(e>0&&e<11){var f=this.m_players[e];var a=cGame.fastDistance(h-f.m_posX,g-f.m_posY);if(f.m_currState==1&&a>16384){CPlayer.s_cpuNeedThrough=true}i.pass(f.m_posX,f.m_posY,-1);break}i.pass(h,g,-1);break;case 3:if(e>0&&e<11){var f=this.m_players[e];var a=cGame.fastDistance(h-f.m_posX,g-f.m_posY);if(a<8192){i.longPass(h,g,5120)}else{cGame.P("Long pass change to new dest, dis:"+a);i.longPass(f.m_posX,f.m_posY,5120)}break}i.longPass(h,g,5120);break;case 4:if(!cGame.s_isPenaltyOver){if(CTeam.s_matchState==8){cGame.s_isPenaltyOver=true}if(cGame.PenaltyCageCell_x!=-1&&cGame.PenaltyCageCell_y!=-1){cGame.s_isPenaltyShoot=false}cGame.PenaltyShootCursorOK=false}else{if(CTeam.s_matchState==8&&cGame.s_whichHalf!=5&&cGame.s_matchMode==8){cGame.s_isPenaltyShootOver=false;cGame.s_isPenaltyDefendOver=false}}i.shoot(e);break;case 5:i.feint(e);break;case 7:if(Actor.s_ball_heldbygk){i.stand(false);break}i.tackle();break;case 6:if(e==-1&&i.m_currDir==i.m_dirToBall){break}if(i.m_currDir==e){break}i.turn(e);break;case 8:if(Actor.s_ball_heldbygk){i.stand(false);break}i.slideTackle();break;case 9:var b=CPlayer.dirTo(h-i.m_posX,g-i.m_posY);i.directTurn(b);break;case 10:i.directPass(h,g);break;case 11:i.directShoot();break;case 100:if(Actor.s_football.m_posX<=cGame.CAGE_LEFT<<8&&this.isPointInMyFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)){i.saveball();break}break;case 12:i.wait(e);break;case 200:i.emote(h,g,e);break}},setTeamState:function(a){this.m_state=a;if(CTeam.s_matchState==0&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballOwner.m_myTeam.m_ID!=CPlayer.s_ballLastOwner.m_myTeam.m_ID){GLLib.ResetKey();CPlayer.s_power=0;CPlayer.s_radar=0}if(cGame.s_aiMode==9&&this.m_type==1&&this.m_state==1){if(CTeam.s_curDribbleElementID==-1){CTeam.setTrainStep(6)}else{CTeam.setTrainStep(5)}}},updateCPUFormation:function(aa){if(this.m_type==0||cGame.isInMiniGame()){return}var l=cGame.s_attDegree[1]-5>>1;var G=cGame.s_lastMatchTeam1Goals-cGame.s_lastMatchTeam0Goals;if(aa){if(cGame.s_currMinute<=15){if(cGame.s_whichHalf==3){if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals<=this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals<=this.m_goals+G))){var F=cGame.s_attDegree;var E=1;F[E]-=2;var D=cGame.s_defDegree;var aC=1;D[aC]-=2;var H=cGame.s_tacticSelType;var aB=1;--H[aB]}else{if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals+G))){var aq=cGame.s_attDegree;var aA=1;aq[aA]+=2;var az=cGame.s_defDegree;var ay=1;az[ay]+=2;var U=cGame.s_tacticSelType;var aw=1;++U[aw]}}}}else{if(cGame.s_currMinute<=30){if(cGame.s_whichHalf==4){if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals+G))){var am=cGame.s_attDegree;var au=1;am[au]+=2;var ax=cGame.s_defDegree;var ar=1;ax[ar]+=2;var T=cGame.s_tacticSelType;var an=1;++T[an]}else{if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals+G))){var aj=cGame.s_attDegree;var C=1;aj[C]-=2;var av=cGame.s_defDegree;var B=1;av[B]-=2;var S=cGame.s_tacticSelType;var A=1;--S[A]}}CTeam.s_isGoalFormationChange=this.CPUChangeFormation(cGame.s_isSecondMatch?(this.m_goals+G-this.m_opTeam.m_goals):(this.m_goals-this.m_opTeam.m_goals))}}else{if(cGame.s_currMinute<=45){if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>=this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>=this.m_goals+G))){var ag=cGame.s_attDegree;var z=1;ag[z]+=2;var at=cGame.s_defDegree;var y=1;at[y]+=2;var R=cGame.s_tacticSelType;var x=1;++R[x]}}else{if(cGame.s_currMinute<=90){if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals+G))){var ae=cGame.s_attDegree;var w=1;ae[w]+=2;var ap=cGame.s_defDegree;var v=1;ap[v]+=2;var Q=cGame.s_tacticSelType;var u=1;++Q[u]}else{if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals+G))){var ad=cGame.s_attDegree;var t=1;ad[t]-=2;var al=cGame.s_defDegree;var s=1;al[s]-=2;var P=cGame.s_tacticSelType;var r=1;--P[r]}}if(cGame.s_currMinute>75){CTeam.s_isGoalFormationChange=this.CPUChangeFormation(cGame.s_isSecondMatch?(this.m_goals+G-this.m_opTeam.m_goals):(this.m_goals-this.m_opTeam.m_goals))}}}}}if(l!=cGame.s_attDegree[1]-5>>1){CTeam.s_isGoalFormationChange=true}return}if(cGame.s_currMinute==0){if(!this.s_isOnTimePoint){return}this.s_isOnTimePoint=false;if(cGame.s_whichHalf!=1){if(cGame.s_whichHalf==3){if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals==this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals==this.m_goals+G))){var ac=cGame.s_attDegree;var q=1;ac[q]-=2;var ai=cGame.s_defDegree;var p=1;ai[p]-=2;var O=cGame.s_tacticSelType;var o=1;--O[o]}else{if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals!=this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals!=this.m_goals+G))){var ab=cGame.s_attDegree;var m=1;ab[m]+=2;var af=cGame.s_defDegree;var k=1;af[k]+=2;var N=cGame.s_tacticSelType;var j=1;++N[j]}}}}}else{if(cGame.s_currMinute==15){if(cGame.s_whichHalf==4&&this.s_isOnTimePoint){this.s_isOnTimePoint=false;if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals+G))){var g=cGame.s_attDegree;var i=1;g[i]+=2;var M=cGame.s_defDegree;var h=1;M[h]+=2;var Z=cGame.s_tacticSelType;var f=1;++Z[f]}else{if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals+G))){var e=cGame.s_attDegree;var d=1;e[d]-=2;var L=cGame.s_defDegree;var b=1;L[b]-=2;var Y=cGame.s_tacticSelType;var aK=1;--Y[aK]}}cGame.s_isCPUStyleChanged=this.CPUChangeFormation(cGame.s_isSecondMatch?(this.m_goals+G-this.m_opTeam.m_goals):(this.m_goals-this.m_opTeam.m_goals))}}else{if(cGame.s_currMinute==30){if(this.s_isOnTimePoint){this.s_isOnTimePoint=false;if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>=this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>=this.m_goals+G))){var c=cGame.s_attDegree;var aI=1;c[aI]+=2;var K=cGame.s_defDegree;var aH=1;K[aH]+=2;var X=cGame.s_tacticSelType;var aG=1;++X[aG]}}}else{if(cGame.s_currMinute==45||cGame.s_currMinute==60||cGame.s_currMinute==75){if(this.s_isOnTimePoint&&cGame.s_whichHalf==2){this.s_isOnTimePoint=false;if(l<2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals>this.m_goals+G))){var a=cGame.s_attDegree;var aF=1;a[aF]+=2;var J=cGame.s_defDegree;var aE=1;J[aE]+=2;var W=cGame.s_tacticSelType;var aD=1;++W[aD]}else{if(l>-2&&((!cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals)||(cGame.s_isSecondMatch&&this.m_opTeam.m_goals<this.m_goals+G))){var aJ=cGame.s_attDegree;var ao=1;aJ[ao]-=2;var I=cGame.s_defDegree;var ak=1;I[ak]-=2;var V=cGame.s_tacticSelType;var ah=1;--V[ah]}}if(cGame.s_currMinute==75){cGame.s_isCPUStyleChanged=this.CPUChangeFormation(cGame.s_isSecondMatch?(this.m_goals+G-this.m_opTeam.m_goals):(this.m_goals-this.m_opTeam.m_goals))}}}else{this.s_isOnTimePoint=true}}}}if(l!=cGame.s_attDegree[1]-5>>1){cGame.s_isCPUStyleChanged=true}},CPUChangeFormation:function(b){if(cGame.s_bChallengeModeOn){return false}var a=cGame.s_formationName[this.m_ID];if(b>0){this.loadFormation(cGame.TeamselDefForm[this.m_ID])}else{if(b<0){this.loadFormation(cGame.TeamselAttForm[this.m_ID])}}cGame.cpuFormationInfo=cGame.initCurFormation(cGame.s_formationName[this.m_ID]);this.m_formationChange=!a.equals(cGame.s_formationName[this.m_ID]);if(this.m_formationChange){cGame.updatePosForFormationChange(this.m_ID)}return b!=0},setDefaultPosition:function(B){if(-16>B){B=-16}else{if(16<B){B=16}}var m=cGame.s_attDegree[this.m_ID]-5>>1;var s=(this.m_type==0)?(5-cGame.s_defDegree[this.m_ID]>>1):0;var q=0;var r=[this.m_players[2].m_formationGridX,this.m_players[6].m_formationGridX,this.m_players[10].m_formationGridX];for(var y=1;y<11;++y){var u=this.m_players[y];if(u.m_formationGridX<r[u.m_role-1]){r[u.m_role-1]=u.m_formationGridX}}for(var w=1;w<11;++w){var u=this.m_players[w];if(u.m_court==0){if(this.m_state==1){var I=u.getFormationPos();var o=I<<2;var n=CTeam.ATTACK_DEFEND_LINE[o];var z=CTeam.ATTACK_DEFEND_LINE[o+3];if(CTeam.s_matchState==7){var t=null;var v=gloft.casttoint(null);for(t=[-8,0,6],v=0;v<3&&B>t[v];++v){}switch(v){case 0:if(I==1||I==0){u.m_defaultGridX=B;break}if(I==3||I==2){u.m_defaultGridX=cGame.random(-4,0);break}u.m_defaultGridX=cGame.random(5,7);break;case 1:if(I==0){u.m_defaultGridX=B-3;break}if(I==1){u.m_defaultGridX=B;break}if(I==3){u.m_defaultGridX=B+6;break}if(I==2){u.m_defaultGridX=B+4;break}u.m_defaultGridX=cGame.random(9,10);break;case 2:if(I==1||I==0){u.m_defaultGridX=cGame.random(-4,-2);break}if(I==3||I==2){u.m_defaultGridX=B+2;break}u.m_defaultGridX=cGame.random(11,12);break;case 3:u.m_defaultGridX=u.m_attackGridX;break}}else{var v=gloft.casttoint(null);for(v=0;v<4&&B>CTeam.ATTACK_DEFEND_LINE[o+v];++v){}switch(v){case 0:u.m_defaultGridX=u.m_defendGridX;break;case 1:u.m_defaultGridX=B+CTeam.ATTACK_DEFEND_OFFSET[(I<<2)+v];break;case 2:u.m_defaultGridX=CTeam.ATTACK_DEFEND_OFFSET[(I<<2)+v];break;case 3:u.m_defaultGridX=B+CTeam.ATTACK_DEFEND_OFFSET[(I<<2)+v];break;case 4:u.m_defaultGridX=u.m_attackGridX;break}}var g=u;g.m_defaultGridX+=u.m_GridOffsetX;u.m_defaultGridY=this.m_players[w].m_formationGridY;if(Actor.s_ball_heldbygk||CTeam.s_matchState==4){if(u.m_role==2){if(u.m_side==1||u.m_side==4){var H=u;H.m_defaultGridX-=6}}else{if(u.m_role==1){var G=u;G.m_defaultGridX-=0;if(u.m_side==1||u.m_side==4){var F=u;F.m_defaultGridX-=6}}else{if(u.m_role==3){var E=u;E.m_defaultGridX-=4}}}}else{if(this.m_type==1||cGame.s_isPlayerStyleChange){var D=u;D.m_defaultGridX+=cGame.s_tacticStyleWhenAttack[m+2][u.m_role-1]}else{var C=u;C.m_defaultGridX+=m}if(this.m_type==0){this.performTeamTactics(u);var A=u;A.m_defaultGridX+=CTeam.s_teamTacOffsetX>>1;var x=u;x.m_defaultGridY+=CTeam.s_teamTacOffsetY}if(u.m_role==1&&(u.m_side==1||u.m_side==4)){if((u.m_side==1&&this.m_attackSide==0)||(u.m_side==4&&this.m_attackSide==1)){var l=u;l.m_defaultGridX+=2}else{var h=u;h.m_defaultGridX-=2}}if(this.m_type==1&&u.m_role==1&&u.m_defaultGridX<cGame.s_defencerLineLimit){u.m_defaultGridX=cGame.s_defencerLineLimit}}}else{var p=0;if(Actor.s_ball_heldbygk||CTeam.s_matchState==4){B-=2}for(p=0;p<4&&B<CTeam.DEFEND_BALL_GRID_X[2*p+1];++p){}u.m_defaultGridX=CTeam.DEFEND_GRID_X[p*3+u.m_role-1]+(u.m_formationGridX-r[u.m_role-1])+CTeam.DEFEND_GRID_OFFSET[this.m_formationID*5+p][2*(u.m_role-1)]+CTeam.ZONE_PRESS_OFFSET[this.m_formationID*3+CTeam.m_zonePress][u.m_role-1];if(this.m_type==1||cGame.s_isPlayerStyleChange){var f=u;f.m_defaultGridX+=cGame.s_tacticStyleWhenDefend[m+2][u.m_role-1];if(CTeam.s_matchState!=4&&m>0&&B<CTeam.DEFEND_BALL_GRID_X[5]){if(B<CTeam.DEFEND_BALL_GRID_X[7]){var e=u;e.m_defaultGridX+=cGame.s_DFDefenceOff[(m-1)*2+1]}else{var d=u;d.m_defaultGridX+=cGame.s_DFDefenceOff[(m-1)*2]}}}else{var c=u;c.m_defaultGridX+=m}if(u.m_side<3){u.m_defaultGridY=u.m_formationGridY+CTeam.DEFEND_GRID_OFFSET[this.m_formationID*5+p][2*(u.m_role-1)+1]}else{if(u.m_side>3){u.m_defaultGridY=u.m_formationGridY-CTeam.DEFEND_GRID_OFFSET[this.m_formationID*5+p][2*(u.m_role-1)+1]}else{u.m_defaultGridY=u.m_formationGridY}}if(Actor.s_ball_heldbygk||CTeam.s_matchState==4){if(u.m_role!=1){if(u.m_role==2){var b=u;b.m_defaultGridX+=5}else{if(u.m_role==3){var a=u;a.m_defaultGridX+=3}}}}if(this.m_type==1&&u.m_role==1&&u.m_defaultGridX<cGame.s_defencerLineLimit){u.m_defaultGridX=cGame.s_defencerLineLimit}cGame.m_defendZone[w*4]=this.GridToPos(u.m_defaultGridX-CTeam.DEFEND_ZONE[this.m_formationID][w*4]);cGame.m_defendZone[w*4+1]=this.GridToPos(u.m_defaultGridX+CTeam.DEFEND_ZONE[this.m_formationID][w*4+1]);cGame.m_defendZone[w*4+2]=this.GridToPos(u.m_defaultGridY-CTeam.DEFEND_ZONE[this.m_formationID][w*4+2]);cGame.m_defendZone[w*4+3]=this.GridToPos(u.m_defaultGridY+CTeam.DEFEND_ZONE[this.m_formationID][w*4+3]);if(cGame.s_aiMode==9){u.m_defaultGridX=this.PosToGrid(cGame.s_dribbleDefenderDefaultX[w]);u.m_defaultGridY=this.PosToGrid(cGame.s_dribbleDefenderDefaultY[w]);cGame.m_defendZone[w*4]=cGame.s_dribbleDefenderDefaultX[w]-gloft.casttoint(cGame.s_dribbleDefenderRangeW[w]/2);cGame.m_defendZone[w*4+1]=cGame.s_dribbleDefenderDefaultX[w]+gloft.casttoint(cGame.s_dribbleDefenderRangeW[w]/2);cGame.m_defendZone[w*4+2]=cGame.s_dribbleDefenderDefaultY[w]-gloft.casttoint(cGame.s_dribbleDefenderRangeH[w]/2);cGame.m_defendZone[w*4+3]=cGame.s_dribbleDefenderDefaultY[w]+gloft.casttoint(cGame.s_dribbleDefenderRangeH[w]/2)}if(u.m_role==3&&u.m_formationGridX-r[u.m_role-1]==0){cGame.m_attackDefaultPosX=this.GridToPos(u.m_defaultGridX);cGame.m_attackDefaultPosY=this.GridToPos(this.m_leftSide?-10:10)}else{if(u.m_role==2&&u.m_formationGridX-r[u.m_role-1]==0){cGame.m_midfieldDefaultPosX=this.GridToPos(u.m_defaultGridX);cGame.m_midfieldDefaultPosY=this.GridToPos(this.m_leftSide?-10:10)}else{if(u.m_role==1&&u.m_formationGridX-r[u.m_role-1]==0){cGame.m_defendDefaultPosX=this.GridToPos(u.m_defaultGridX);cGame.m_defendDefaultPosY=this.GridToPos(this.m_leftSide?-10:10)}}}}}}},performTeamTactics:function(e){CTeam.s_teamTacOffsetX=0;CTeam.s_teamTacOffsetY=0;var c=4;var b=2;var a=2;var f=e.getFormationPos();if(f==5||f==0){return}var d=f==1||f==3;switch(CTeam.s_teamTactics[this.m_ID]){case 1:if(e.m_side<3&&e.m_role==3){CTeam.s_teamTacOffsetX=2;CTeam.s_teamTacOffsetY-=2;break}if(e.m_side<3){CTeam.s_teamTacOffsetX=((e.m_side==1)?4:2);CTeam.s_teamTacOffsetY-=2;break}break;case 2:if(e.m_side>3&&e.m_role==3){CTeam.s_teamTacOffsetX=2;CTeam.s_teamTacOffsetY+=2;break}if(e.m_side>3){CTeam.s_teamTacOffsetX=((e.m_side==4)?4:2);CTeam.s_teamTacOffsetY=2;break}break;case 3:if(d){CTeam.s_teamTacOffsetX=((e.m_side==4||e.m_side==1)?4:2);CTeam.s_teamTacOffsetY=((e.m_side==4)?2:-2);break}break;case 4:if(d){CTeam.s_teamTacOffsetY=((e.m_side==1)?2:-2);break}CTeam.s_teamTacOffsetX=((e.m_side==4||e.m_side==1)?2:4);break}},adjustPlayerDefaultPos:function(){var B=0;var e=gloft.ArrayCreation([4],gloft.casttoint(null));var c=cGame.s_formation[this.m_formationID*67+1]-48;var v=cGame.s_formation[this.m_formationID*67+2]-48;var q=gloft.ArrayCreation([4],gloft.casttoint(null));var b=gloft.ArrayCreation([4,6],gloft.casttoint(null));var h=0;for(var A=1;A<11;++A){if(this.m_players[A].m_court==0){if(this.m_players[A].m_tacState!=0){B=A}else{if(A<=c){b[1][h++]=A}else{if(A<=c+v){b[2][h++]=A}else{b[3][h++]=A}}if(CTeam.s_bDebugSupport){this.m_defaultPosX[A]=this.m_players[A].m_defaultGridX;this.m_defaultPosY[A]=this.m_players[A].m_defaultGridY;GLLib.Dbg(" "+A+":"+this.m_players[A].m_defaultGridX+","+this.m_players[A].m_defaultGridY)}}}if(A==c){e[1]=h;h=0}else{if(A==c+v){e[2]=h;h=0}else{if(A==10){e[3]=h}}}}var s=this.m_players[B];var C=s.m_role;for(var y=1;y<=3;++y){var n=20;var o=-20;for(var x=0;x<e[y];++x){var z=this.m_players[b[y][x]].m_defaultGridX;if(z>o){o=z}if(z<n){n=z}}q[y]=gloft.casttoint((o+n)/2)}var a=-1;var r=2;for(var u=0;u<6;++u){if(this.s_hotspotGridX<q[(u>>1)+1]+2*((u%2==0)?-1:1)){a=u;break}}if(a==-1){a=6}if(this.m_state==-1){if(e[C]!=0&&this.s_hotspotGridY>-5&&this.s_hotspotGridY<5){if(CTeam.s_bDebugSupport){GLLib.Dbg(" hot spot degree at "+a+", shrink press line "+C+" press:"+B)}this.adjustTheLine_dup_IIaIII(5,e[C],b[C],B,0)}var p=2;if(e[p]!=0){if(CTeam.s_bDebugSupport){GLLib.Dbg("compress MF line "+C+" press:"+B)}this.adjustTheLine_dup_IIaIII(6,e[p],b[p],q[p],0)}if(CTeam.s_team1.PosToGrid(Actor.s_football.m_posX)>0&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posX)<=8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)<=-8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>=8){this.adjustTheLine_dup_IIaIII(7,e[2],b[2],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?2:-2);this.adjustTheLine_dup_IIaIII(7,e[3],b[3],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?1:-1)}else{if(CTeam.s_team1.PosToGrid(Actor.s_football.m_posX)>-8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posX)<=0&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)<=-8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>=8){this.adjustTheLine_dup_IIaIII(7,e[2],b[2],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?2:-2);this.adjustTheLine_dup_IIaIII(7,e[3],b[3],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?1:-1);this.adjustTheLine_dup_IIaIII(7,e[1],b[1],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?1:-1)}else{if(CTeam.s_team1.PosToGrid(Actor.s_football.m_posX)<=-8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)<=-8&&CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>=8){this.adjustTheLine_dup_IIaIII(7,e[2],b[2],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?1:-1);this.adjustTheLine_dup_IIaIII(7,e[3],b[3],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?1:-1);this.adjustTheLine_dup_IIaIII(7,e[1],b[1],B,(CTeam.s_team1.PosToGrid(Actor.s_football.m_posY)>0)?2:-2)}}}this.saveNewDefaultPos();return}if(a%2==0){for(var u=1;u<11;++u){}}else{var d=0;var g=gloft.casttoint((a+1)/2);if(g!=C){if(CTeam.s_bDebugSupport){GLLib.Dbg("shrink line "+C+" and stretch line "+g)}if(e[C]!=0){this.adjustTheLine_dup_IIaIII(0,e[C],b[C],B,0)}if(e[g]!=0){var f=0;var t=gloft.casttoint(null);for(t=0;t<e[g];++t){if(this.m_players[b[g][t]].m_defaultGridY>this.s_hotspotGridY){f=b[g][t];break}}if(t==e[g]){f=12}this.adjustTheLine_dup_IIaIII(1,e[g],b[g],f,0);this.adjustTheLine_dup_IIaI(3,e[g],b[g])}}else{if(e[g]!=0){if(CTeam.s_bDebugSupport){GLLib.Dbg("adjust self line "+g)}var w=(C==1)?4:3;this.adjustTheLine_dup_IIaI(w,e[g],b[g])}}}for(var u=1;u<11;++u){}this.saveNewDefaultPos()},saveNewDefaultPos:function(){if(CTeam.s_bDebugSupport){for(var a=1;a<11;++a){if(this.m_players[a].m_tacState==0){this.m_defaultPosX_new[a]=this.m_players[a].m_defaultGridX;this.m_defaultPosY_new[a]=this.m_players[a].m_defaultGridY;GLLib.Dbg(" "+a+":"+this.m_players[a].m_defaultGridX+","+this.m_players[a].m_defaultGridY)}}GLLib.Dbg("")}},adjustTheLine_dup_IIaIII:function(f,n,b,o,q){if(f==6){for(var h=0;h<n;++h){var r=this.m_players[b[h]].m_defaultGridX-o;this.m_players[b[h]].m_defaultGridX=o+(r>>1)}return}if(f==5){var d=2;for(var h=0;h<n;++h){var a=this.m_players[b[h]].m_defaultGridY;if(a>1){a-=2;a=((a>0)?a:1)}else{if(a<-1){a+=2;a=((a<0)?a:-1)}}this.m_players[b[h]].m_defaultGridY=a}return}if(f==7){for(var l=0;l<n;++l){var c=this.m_players[b[l]].m_defaultGridY;c+=q;this.m_players[b[l]].m_defaultGridY=c}return}var g=0;for(var e=0;e<n;++e){if(b[e]==0){GLLib.Dbg("")}var m=this.m_players[b[e]].m_defaultGridY;m=((m>0)?m:(-m));if(g<m){g=m}}if(f==0){g=gloft.casttoint(g/n)}else{g=gloft.casttoint((g+n-1)/n);g=-g}for(var e=0;e<n;++e){var t=this.m_players[b[e]];if(b[e]<o){var p=t;p.m_defaultGridY+=g}else{var s=t;s.m_defaultGridY-=g}}},adjustTheLine_dup_IIaI:function(g,f,e){var h=gloft.casttoint(null);if(g==3){h=2}else{h=-1}var a=4;for(var c=0;c<f;++c){var d=this.m_players[e[c]].m_defaultGridY-this.s_hotspotGridY;if(d<4&&d>-4){var b=this.m_players[e[c]];b.m_defaultGridX+=h;break}}},gkRefreshCoachPlacementOrder:function(){this.m_haveNewOrder[0]=true;if(this.m_ID==CTeam.s_kickTeamID){this.getGuardPos();this.m_GK.m_coachSetTacState=18}else{var a=cGame.CAGE_LEFT-((CTeam.s_matchState==8)?0:8)<<8;if(this.m_leftSide){a=-a}this.m_GK.m_destX=a;this.m_GK.m_destY=0;this.m_GK.m_coachSetTacState=18}},gkRefreshCoachOrder:function(){this.m_haveNewOrder[0]=true;if(this.m_GK.m_withBall){if(this.m_GK.m_tacState!=16){this.deleteAllCommand(0);this.m_GK.m_coachSetTacState=16}}else{if(this.m_GK.m_tacState==17){this.m_GK.m_coachSetTacState=17}else{if(this.m_GK.m_tacState!=15){this.m_GK.m_coachSetTacState=14;this.m_ctrGKGuardPos=0}else{this.m_GK.m_coachSetTacState=15}}}},gkIsLastDefender:function(){return CPlayer.findNearestToBallInTeam_dup_IZ(this.m_ID,true).m_Number==0&&Actor.s_football.m_posY<cGame.FORBIDDEN_ZONE_BOTTOM<<7&&Actor.s_football.m_posY>cGame.FORBIDDEN_ZONE_TOP<<7},getGuardPos:function(){var g=this.m_leftSide?(-cGame.CAGE_LEFT+1<<8):(cGame.CAGE_LEFT-1<<8);var f=0;var n=this.m_GK.m_destX;var l=this.m_GK.m_destY;var e=gloft.casttoint(null);var d=gloft.casttoint(null);if(Actor.s_ball_state==1||Actor.s_ball_state==2||Actor.s_ball_state==10||Actor.s_ball_state==9){e=Actor.s_football.m_destX;d=Actor.s_football.m_destY}else{e=Actor.s_football.m_posX;d=Actor.s_football.m_posY}var i=e-g;var h=d-0;var c=java.lang.Math.abs(i);var b=java.lang.Math.abs(h);var a=0;var k=cGame.fastDistance(i,h);a=42+gloft.casttoint((c-2048)*42/194560);var m=gloft.casttoint(gloft.casttoint(gloft.casttoint(a*i/k)/2)*3/4);var j=gloft.casttoint(a*h/k);this.m_GK.m_destX=g+(m<<8);this.m_GK.m_destY=0+(j<<8);if(this.m_leftSide){if(this.m_GK.m_destX<-cGame.CAGE_LEFT+8<<8){this.m_GK.m_destX=-cGame.CAGE_LEFT+8<<8}}else{if(this.m_GK.m_destX>cGame.CAGE_LEFT-8<<8){this.m_GK.m_destX=cGame.CAGE_LEFT-8<<8}}return this.m_GK.m_destX!=n||this.m_GK.m_destY!=l},gkTakeCoachOrder:function(J,z){if(cGame.s_whichHalf==5&&!CTeam.s_isGKSavingPenalty){return}if(CTeam.s_isGKSavingPenalty&&CTeam.s_savePenaltyDir==-1&&Actor.s_ctrFutureBallFrame<=3){return}var q=false;var f=false;var F=java.lang.Math.abs(Actor.s_football.m_posX);var a=0;var P=0;var O=false;Label_0162:{Label_0161:{if(this.m_leftSide){if(Actor.s_football.m_posX>=J.m_posX){break Label_0161}}else{if(Actor.s_football.m_posX<=J.m_posX){break Label_0161}}if(java.lang.Math.abs(Actor.s_football.m_posY)<cGame.CAGE_BOTTOM<<8&&Actor.s_ball_state!=0&&Actor.s_ball_state!=1&&Actor.s_ball_state!=2&&Actor.s_ball_state!=10&&Actor.s_ball_state!=9){O=true;break Label_0162}}O=false}var E=O;Label_0585:{if(CPlayer.s_ballOwner==null&&CPlayer.s_ballFastOwner==null){a=(this.m_leftSide?(-cGame.CAGE_LEFT+8<<8):(cGame.CAGE_LEFT-8<<8));Label_0260:{if(Actor.s_football.m_destX>=CTeam.SHOOT_DANGER_DISTANCE||Actor.s_football.m_destX<=-CTeam.SHOOT_DANGER_DISTANCE){if(this.m_leftSide){if(Actor.s_football.m_vX>=0){break Label_0260}}else{if(Actor.s_football.m_vX<=0){break Label_0260}}Label_0378:{Label_0335:{if((Actor.s_ball_state==2||Actor.s_ball_state==9)&&this.m_leftSide){if(Actor.s_football.m_destX==-135168){break Label_0335}}else{if(Actor.s_football.m_destX==135168){break Label_0335}}if(Actor.s_football.m_destX!=Actor.s_football.m_posX){P=Actor.s_football.m_posY+gloft.casttoint(Actor.s_football.m_vY*(a-Actor.s_football.m_posX)/Actor.s_football.m_vX);break Label_0378}}P=Actor.s_football.m_destY}q=((P<=cGame.CAGE_BOTTOM+1<<8&&P>=cGame.CAGE_TOP-1<<8)||((Actor.s_ball_state==2||Actor.s_ball_state==9)&&P>cGame.SMALL_FORBIDDEN_ZONE_TOP+cGame.CAGE_TOP<<7&&P<cGame.SMALL_FORBIDDEN_ZONE_BOTTOM+cGame.CAGE_BOTTOM<<7));f=((Actor.s_ball_state==1||Actor.s_ball_state!=10||Actor.s_ball_state==0)&&cGame.s_matchDifficult>1&&P>cGame.SMALL_FORBIDDEN_ZONE_TOP-32<<8&&P<cGame.SMALL_FORBIDDEN_ZONE_BOTTOM+32<<8);if(q&&Actor.s_ballDestReached&&Actor.s_ball_state!=1&&Actor.s_ball_state!=2&&Actor.s_ball_state!=10&&Actor.s_ball_state!=9&&F>cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8){a=Actor.s_football.m_posX;P=Actor.s_football.m_posY}break Label_0585}}P=Actor.s_football.m_destY}}if(q&&J.m_tacState!=17&&CPlayer.s_ballLastPlayer!=null&&CPlayer.s_ballLastPlayer.m_myTeam.m_ID!=this.m_ID&&F<135168&&F>CTeam.SHOOT_DANGER_DISTANCE&&(CTeam.s_matchState==0||(CTeam.s_period!=0&&CTeam.s_period!=3))&&(CTeam.s_isGKSavingPenalty||((J.m_destX!=a||J.m_destY!=P)&&(Actor.s_ctrFutureBallFrame>J.m_curAbilityRea||Actor.s_ctrFutureBallFrame>3||!CPlayer.dirIn3(J.m_currDir,J.m_dirToBall))))){J.m_tacState=17;J.m_destX=a;J.m_destY=P;this.deleteAllCommand(0)}var c=CPlayer.findNearestToBallInTeam_dup_IZ(1-this.m_ID,false);var l=CPlayer.findNearestToBallInTeam_dup_IZ(this.m_ID,true);var A=Actor.s_ballDestReached?Actor.s_football.m_posX:Actor.s_football.m_destX;var y=Actor.s_ballDestReached?Actor.s_football.m_posY:Actor.s_football.m_destY;if(!CTeam.s_isGKSavingPenalty&&this.m_state==-1&&J.m_tacState!=17&&CPlayer.s_ballOwner==null&&CPlayer.s_ballFastOwner==null&&((Actor.s_ball_state!=2&&Actor.s_ball_state!=9)||this.isPointInMySmallFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY))&&l.m_Number==0&&Actor.s_football.m_posY<cGame.FORBIDDEN_ZONE_BOTTOM<<7&&Actor.s_football.m_posY>cGame.FORBIDDEN_ZONE_TOP<<7&&cGame.s_aiMode!=6){if((this.isPointInMyFBZ(A,y)&&cGame.fastDistance(J.m_posX-A,J.m_posY-y)<cGame.fastDistance(c.m_posX-A,c.m_posY-y))||this.isPointInMySmallFBZ(A,y)){this.deleteAllCommand(0);J.m_tacState=15}else{if(this.isPointInMyFBZ(A,y)&&P>cGame.SMALL_FORBIDDEN_ZONE_TOP-32<<8&&P<cGame.SMALL_FORBIDDEN_ZONE_BOTTOM+32<<8){this.deleteAllCommand(0);J.m_tacState=15}}}switch(J.m_tacState){case 14:if(CPlayer.s_ballOwner!=null||CPlayer.s_ballFastOwner!=null){var o=this.m_leftSide?(-cGame.CAGE_LEFT<<8):(cGame.CAGE_LEFT<<8);var m=0;var u=(CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner:CPlayer.s_ballFastOwner;var v=CPlayer.dirTo(u.m_posX-o,u.m_posY-0);if(CPlayer.s_ballOwner!=null&&J.m_withBall){this.deleteAllCommand(0);CPlayer.s_ballOwner.m_tacState=16;break}Label_1483:{if(this.m_state==-1){Label_1306:{Label_1287:{if(this.m_leftSide){if(u.m_currDir<=4){break Label_1287}}else{if(u.m_currDir<=0||u.m_currDir>=4){break Label_1287}}if(this.m_leftSide){if(J.m_dirToBall>0&&J.m_dirToBall<4){break Label_1306}}else{if(J.m_dirToBall>4){break Label_1306}}}if(!this.isPointInMySmallFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)){break Label_1483}}if(u.m_currDir!=v){var s=cGame.fastDistance(Actor.s_football.m_posX+(this.m_leftSide?(cGame.CAGE_LEFT<<8):(-(cGame.CAGE_LEFT<<8))),Actor.s_football.m_posY);if(this.isPointInMySmallFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)&&(z<15360||E||(s<54*J.m_speed&&(u.posBehindMe(l.m_posX,l.m_posY)||cGame.fastDistance(J.m_posX-A,J.m_posY-y)+4608<cGame.fastDistance(u.m_posX-A,u.m_posY-y))))&&cGame.s_aiMode!=6){this.deleteAllCommand(0);J.m_tacState=15;break}}}}}else{if(((this.m_state==-1&&this.isPointInMyFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)&&this.isPointInMySmallFBZ(Actor.s_football.m_destX,Actor.s_football.m_destY)&&z<17920&&this.gkIsLastDefender())||E)&&cGame.s_aiMode!=6){this.deleteAllCommand(0);J.m_tacState=15;break}}if(CTeam.s_matchState==5){J.m_destX=(this.m_leftSide?(-cGame.CAGE_LEFT+1+2<<8):(cGame.CAGE_LEFT-1-2<<8));this.deleteAllCommand(J.m_destY=0);this.addCommand(0,1,J.m_destX,J.m_destY,-1);Label_1683:{if(this.m_leftSide){if(J.m_dirToBall>=0){if(J.m_dirToBall<=4){break Label_1683}}}else{if(J.m_dirToBall>=4){break Label_1683}}this.addCommand(0,6,-1,-1,-1)}if(11==J.m_currState){J.doStand();break}break}else{if(!this.getGuardPos()||cGame.s_aiMode==6){break}if(cGame.fastDistance(J.m_destX-this.m_GK.m_posX,J.m_destY-this.m_GK.m_posY)<1024){break}this.deleteAllCommand(0);this.addCommand(0,1,J.m_destX,J.m_destY,-1);Label_1830:{Label_1820:{if(this.m_leftSide){if(J.m_dirToBall<0){break Label_1820}if(J.m_dirToBall>4){break Label_1820}}else{if(J.m_dirToBall<4){break Label_1820}}if(CPlayer.dirDifference(J.m_currDir,J.m_dirToBall)<=2){break Label_1830}}this.addCommand(0,6,-1,-1,-1)}this.m_ctrGKGuardPos=0;break}break;case 15:if(CPlayer.s_ballOwner!=null||CPlayer.s_ballFastOwner!=null){if(CPlayer.s_ballOwner!=null&&J.m_withBall){this.deleteAllCommand(0);J.m_tacState=16;break}if(q&&J.m_tacState!=17&&CPlayer.s_ballLastPlayer.m_myTeam.m_ID!=this.m_ID&&F<135168&&F>CTeam.SHOOT_DANGER_DISTANCE&&(CTeam.s_matchState==0||(CTeam.s_period!=0&&CTeam.s_period!=3))){if(CTeam.s_isGKSavingPenalty||((J.m_destX!=a||J.m_destY!=P)&&J.m_currDir==J.m_dirToBall)){J.m_tacState=17;J.m_destX=a;J.m_destY=P;this.deleteAllCommand(0);break}break}else{if(this.m_state==-1){this.deleteAllCommand(0);var o=this.m_leftSide?(-cGame.CAGE_LEFT<<8):(cGame.CAGE_LEFT<<8);var m=0;var u=(CPlayer.s_ballOwner!=null)?CPlayer.s_ballOwner:CPlayer.s_ballFastOwner;var v=CPlayer.dirTo(u.m_posX-o,u.m_posY-0);Label_2145:{if(u.m_currDir!=v){Label_2159:{if(this.m_leftSide){if(u.m_currDir>4){break Label_2159}}else{if(u.m_currDir>0&&u.m_currDir<4){break Label_2159}}if(!this.isPointInMySmallFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)){break Label_2145}}if(z<4608||(cGame.s_aiMode==6&&cGame.fastDistance(this.GridToPos(CTeam.s_team1.m_players[0].m_formationGridX)-CTeam.s_team1.m_players[0].m_posX,this.GridToPos(CTeam.s_team1.m_players[0].m_formationGridY)-CTeam.s_team1.m_players[0].m_posY)>20480)){if(cGame.s_aiMode==6){this.addCommand(0,12,-1,-1,-1);break}this.addCommand(0,7,-1,-1,-1);break}else{if(z<15360||E){this.addCommand(0,1,Actor.s_football.m_posX,Actor.s_football.m_posY,-1);break}CPlayer.parseVector_dup_II(7680,v+4&7);this.addCommand(0,1,Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,-1);break}}}J.m_tacState=14;this.m_ctrGKGuardPos=0;break}J.m_tacState=14;this.m_ctrGKGuardPos=0;break}}else{var H=J.m_disToBall<15360||cGame.fastDistance(Actor.s_football.m_vX,Actor.s_football.m_vY)<2048;var M=Actor.s_football.m_destX;var L=Actor.s_football.m_destY;if(H){M=Actor.s_football.m_posX;L=Actor.s_football.m_posY}if(this.m_leftSide){if(M<-cGame.CAGE_LEFT+1<<8){M=-cGame.CAGE_LEFT+1<<8}}else{if(M>cGame.CAGE_LEFT-1<<8){M=cGame.CAGE_LEFT-1<<8}}if(this.isPointInMyFBZ(M,L)){break}this.deleteAllCommand(0);if(this.m_players[0].m_dirToBall!=this.m_players[0].m_currDir){this.addCommand(0,6,-1,-1,J.m_dirToBall)}this.addCommand(0,1,M,L,-1);break}break;case 16:if(this.m_type==0&&J.m_isFocus){break}if((!Actor.s_ball_heldbygk&&(CPlayer.s_ctrWithBall&1)==0)||CPlayer.s_ctrWithBall>=48){this.deleteAllCommand(0);var N=this.m_leftSide?2:6;if(cGame.s_aiMode==6||cGame.s_aiMode==2){J.selectPassPoint(N,3)}else{var h=false;var D=[N-1,N,N+1];if(cGame.random(0,1)==0){D[2]=N-1;D[0]=N+1}for(var I=0;I<D.length;++I){if(J.selectPassPoint(D[I],6)){h=true;break}}if(!h||cGame.random(0,100)>50){CPlayer.s_passPointX=cGame.random(-150,150);CPlayer.s_passPointY=cGame.random(-200,200);if(cGame.random(0,100)>20){var x=cGame.random(30,60);CPlayer.s_passPointX+=((CPlayer.s_passPointX>0)?x:(-x))}if(!this.m_leftSide){CPlayer.s_passPointX=-CPlayer.s_passPointX}CPlayer.s_passPointX<<=8;CPlayer.s_passPointY<<=8;this.deleteAllCommand(CPlayer.s_passPlayerNumber=CTeam.s_kickTeam.findPlayerByPosNew(CPlayer.s_passPointX,CPlayer.s_passPointY,true));this.addCommand(CPlayer.s_passPlayerNumber,1,CPlayer.s_passPointX,CPlayer.s_passPointY,1)}else{this.deleteAllCommand(CPlayer.s_passPlayerNumber);this.addCommand(CPlayer.s_passPlayerNumber,12,-1,-1,1)}}if(java.lang.Math.abs(CPlayer.dirDifference(N,J.m_currDir))>1){this.addCommand(0,6,-1,-1,N)}this.addCommand(0,3,CPlayer.s_passPointX,CPlayer.s_passPointY,10240)}if(CPlayer.s_ballOwner==null){J.m_tacState=14;this.m_ctrGKGuardPos=0;break}break;case 17:if(J.m_currState!=7){var j=false;var t=false;if(this.m_type==1){CTeam.s_savePenaltyDir=((cGame.random(0,1)==0)?0:3)}var B=Actor.s_ball_state==1;var p=CTeam.s_savePenaltyDir==gloft.casttoint(4*(P-(cGame.CAGE_TOP<<8))/(cGame.CAGE_BOTTOM<<9));if(CTeam.s_isGKSavingPenalty&&(!B||!p)){j=true;CPlayer.s_savePointX=(this.m_leftSide?(-(cGame.CAGE_LEFT<<8)):(cGame.CAGE_LEFT<<8));if(CTeam.s_savePenaltyDir==0){CPlayer.s_savePointY=-15359}else{if(CTeam.s_savePenaltyDir==3){CPlayer.s_savePointY=15359}else{if(CTeam.s_savePenaltyDir==2){CPlayer.s_savePointY=4607}else{if(CTeam.s_savePenaltyDir==1){CPlayer.s_savePointY=-4607}else{CPlayer.s_savePointX=0}}}}if(this.m_type==1){CPlayer.s_savePointZ=cGame.random(0,cGame.CAGE_HIGH)<<8}else{CPlayer.s_savePointZ=((Actor.s_football.m_destZ<8960)?0:(cGame.CAGE_HIGH<<8))}}else{var C=CTeam.s_SaveFrame=-1;Label_4232:{if(this.m_leftSide){if(Actor.s_football.m_vX>=0){break Label_4232}}else{if(Actor.s_football.m_vX<=0){break Label_4232}}if(CTeam.s_SaveFrame<0){var K=java.lang.Math.min(200,Actor.s_ctrFutureBallFrame+40);if(q){if(J.m_currDir==6||J.m_currDir==2){var w=Actor.s_ctrFutureBallFrame;while(w<K){Label_3378:{if(this.m_leftSide){if(Actor.s_futureBallPosX[w]<=-cGame.CAGE_LEFT<<8){break Label_3378}if(Actor.s_futureBallPosX[w]<=J.m_posX){break Label_3378}}else{if(Actor.s_futureBallPosX[w]>=cGame.CAGE_LEFT<<8||Actor.s_futureBallPosX[w]>=J.m_posX){break Label_3378}}++w;continue}C=(CTeam.s_SaveFrame=w-1);break}}else{if(J.m_currDir==4){var w=Actor.s_ctrFutureBallFrame;while(w<K){Label_3500:{if(Actor.s_futureBallPosY[w]<J.m_posY||this.m_leftSide){if(Actor.s_futureBallPosX[w]<=-cGame.CAGE_LEFT<<8){break Label_3500}if(Actor.s_futureBallPosY[w]<J.m_posY){break Label_3500}}else{if(Actor.s_futureBallPosX[w]>=cGame.CAGE_LEFT<<8||Actor.s_futureBallPosY[w]<J.m_posY){break Label_3500}}++w;continue}C=(CTeam.s_SaveFrame=w);break}}else{if(J.m_currDir==0){var w=Actor.s_ctrFutureBallFrame;while(w<K){Label_3619:{if(Actor.s_futureBallPosY[w]>J.m_posY||this.m_leftSide){if(Actor.s_futureBallPosX[w]<=-cGame.CAGE_LEFT<<8){break Label_3619}if(Actor.s_futureBallPosY[w]>J.m_posY){break Label_3619}}else{if(Actor.s_futureBallPosX[w]>=cGame.CAGE_LEFT<<8||Actor.s_futureBallPosY[w]>J.m_posY){break Label_3619}}++w;continue}C=(CTeam.s_SaveFrame=w);break}}else{var g=0;for(var G=Actor.s_ctrFutureBallFrame;G<K;++G){if(q){if(this.m_leftSide){if(Actor.s_futureBallPosX[G]>-cGame.CAGE_LEFT<<8){continue}}else{if(Actor.s_futureBallPosX[G]<cGame.CAGE_LEFT<<8){continue}}g=G;break}}var e=-1;if(!this.m_leftSide){if(J.m_currDir==5){e=GLLib.Math_SegmentIntersect(Actor.s_futureBallPosX[1]>>8,Actor.s_futureBallPosY[1]>>8,Actor.s_futureBallPosX[g]>>8,Actor.s_futureBallPosY[g]>>8,(J.m_posX>>8)+100,(J.m_posY>>8)+100,(J.m_posX>>8)-100,(J.m_posY>>8)-100)}else{e=GLLib.Math_SegmentIntersect(Actor.s_futureBallPosX[1]>>8,Actor.s_futureBallPosY[1]>>8,Actor.s_futureBallPosX[g]>>8,Actor.s_futureBallPosY[g]>>8,(J.m_posX>>8)+100,(J.m_posY>>8)-100,(J.m_posX>>8)-100,(J.m_posY>>8)+100)}for(var d=Actor.s_ctrFutureBallFrame;d<K;++d){if(q&&(Actor.s_futureBallPosX[d]>=cGame.CAGE_LEFT<<8||Actor.s_futureBallPosX[d]>=J.m_posX||(e==1&&Actor.s_futureBallPosX[d]>=GLLib.s_Math_intersectX<<8))){C=(CTeam.s_SaveFrame=d-1);break}}}else{if(J.m_currDir==1){e=GLLib.Math_SegmentIntersect(Actor.s_futureBallPosX[1]>>8,Actor.s_futureBallPosY[1]>>8,Actor.s_futureBallPosX[g]>>8,Actor.s_futureBallPosY[g]>>8,(J.m_posX>>8)+100,(J.m_posY>>8)+100,(J.m_posX>>8)-100,(J.m_posY>>8)-100)}else{e=GLLib.Math_SegmentIntersect(Actor.s_futureBallPosX[1]>>8,Actor.s_futureBallPosY[1]>>8,Actor.s_futureBallPosX[g]>>8,Actor.s_futureBallPosY[g]>>8,(J.m_posX>>8)+100,(J.m_posY>>8)-100,(J.m_posX>>8)-100,(J.m_posY>>8)+100)}for(var d=Actor.s_ctrFutureBallFrame;d<K;++d){if(q&&(Actor.s_futureBallPosX[d]<=-(cGame.CAGE_LEFT<<8)||Actor.s_futureBallPosX[d]<=J.m_posX||(e==1&&Actor.s_futureBallPosX[d]<=GLLib.s_Math_intersectX<<8))){C=(CTeam.s_SaveFrame=d-1);break}}}}}}}}}var r=5;var k=r+26-J.m_curAbilityDef*2;if(C>0&&C<10){k=C;k=((k>r)?k:(r+1))}if(C-Actor.s_ctrFutureBallFrame<k){if(C-Actor.s_ctrFutureBallFrame>r&&C-Actor.s_ctrFutureBallFrame<k){CPlayer.s_savePointX=Actor.s_futureBallPosX[C];CPlayer.s_savePointY=Actor.s_futureBallPosY[C];CPlayer.s_savePointZ=Actor.s_futureBallPosZ[C];t=true}else{if(C>=0){CPlayer.s_savePointX=Actor.s_futureBallPosX[C];CPlayer.s_savePointY=Actor.s_futureBallPosY[C];CPlayer.s_savePointZ=Actor.s_futureBallPosZ[C];j=true}}}}if(j){this.deleteAllCommand(0);this.addCommand(0,100,-1,-1,-1);CTeam.s_SaveFrame=-1}else{if(t){this.deleteAllCommand(0);this.addCommand(0,1,CPlayer.s_savePointX,CPlayer.s_savePointY,-1)}else{if(CPlayer.s_ballOwner!=null){if(J.m_withBall){this.deleteAllCommand(0);J.m_tacState=16}else{J.m_tacState=14;this.m_ctrGKGuardPos=0}}else{if(CPlayer.s_ballLastOwner==J){if(cGame.fastDistance(J.m_posX-Actor.s_football.m_posX,J.m_posY-Actor.s_football.m_posY)<cGame.fastDistance(c.m_posX-A,c.m_posY-y)){this.deleteAllCommand(0);if(this.isPointInMyFBZ(A,y)){this.addCommand(0,1,Actor.s_football.m_posX,Actor.s_football.m_posY,-1)}else{this.addCommand(0,6,-1,-1,J.m_dirToBall)}}}else{if(this.m_commandIndex[0]!=0){this.deleteAllCommand(0)}if(q||f){Label_4678:{if(Actor.s_ball_state==2||Actor.s_ball_state==9){if(this.m_leftSide){if(J.m_dirToBall<=4){break Label_4678}}else{if(J.m_dirToBall<=0||J.m_dirToBall>=4){break Label_4678}}this.deleteAllCommand(0);this.addCommand(0,100,-1,-1,-1);break}}if(this.isPointInMyFBZ(Actor.s_football.m_posX,Actor.s_football.m_posY)&&cGame.fastDistance(Actor.s_football.m_vX,Actor.s_football.m_vY)<Actor.A_BALL_PASS_GROUND*30){this.addCommand(0,1,Actor.s_football.m_posX,Actor.s_football.m_posY,-1)}}else{J.m_tacState=14;this.m_ctrGKGuardPos=0}}}}}break}break;case 18:if(CTeam.s_matchState==4&&CTeam.s_period<=5){this.deleteAllCommand(0);return}if(this.m_commandIndex[0]==0){this.addCommand(0,1,J.m_destX,J.m_destY,-1);this.addCommand(0,6,-1,-1,-1);break}break;case 37:if(this.m_commandIndex[0]==0){this.addCommand(0,200,-1,-1,6);break}break}},setThroughPlayer:function(a){this.deleteAllCommand(a);CTeam.s_throughReceiverID=a},refreshCoachPlacementOrder:function(){this.calGridCoordinates();this.m_needRefresh=false;this.s_hotspotGridX=this.PosToGrid(CTeam.s_placementX);this.s_hotspotGridY=this.PosToGrid(CTeam.s_placementY);if(CTeam.s_matchState!=4){this.setDefaultPosition(this.PosToGrid(CTeam.s_placementX))}this.gkRefreshCoachPlacementOrder();this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));if(CTeam.s_matchState==6||CTeam.s_matchState==7){this.setGridValue(this.s_hotspotGridX,this.s_hotspotGridY,4,this.m_ID+1,-1,false)}else{if(CTeam.s_matchState==8){var x=gloft.casttoint(null);var w=gloft.casttoint(null);if(CTeam.s_kickTeamID!=this.m_ID){x=CTeam.FORBIDDEN_ZONE_LEFT_GRID;w=CTeam.FORBIDDEN_ZONE_RIGHT_GRID}else{x=-CTeam.FORBIDDEN_ZONE_RIGHT_GRID;w=-CTeam.FORBIDDEN_ZONE_LEFT_GRID}var e=(x+16)*21+(CTeam.FORBIDDEN_ZONE_TOP_GRID+10);var h=21+CTeam.FORBIDDEN_ZONE_TOP_GRID-CTeam.FORBIDDEN_ZONE_BOTTOM_GRID-1;for(var u=x;u<=w;++u){for(var t=CTeam.FORBIDDEN_ZONE_TOP_GRID;t<=CTeam.FORBIDDEN_ZONE_BOTTOM_GRID;++t){var s=this.s_valueOfGrid;var p=e++;s[p]|=gloft.casttobyte((this.m_ID+1))}e+=h}}else{this.setGridValue(this.s_hotspotGridX,this.s_hotspotGridY,1,this.m_ID+1,-1,false)}}for(var r=1;r<11;++r){this.m_players[r].m_coachSetTacState=0}if(CTeam.s_period==1){if(CTeam.s_matchState==7&&CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_myTeam.m_ID==this.m_ID){var z=cGame.random(0,100)>50;if(CTeam.s_foulPlayer.m_card==2&&z){CTeam.s_foulPlayer.m_coachSetTacState=29}else{if(CTeam.s_foulPlayer.m_card==1&&this.m_ID!=CTeam.s_kickTeamID&&z){CTeam.s_foulPlayer.m_coachSetTacState=28}else{CTeam.s_foulPlayer.m_coachSetTacState=22}}}if(CTeam.s_matchState==8&&cGame.s_whichHalf!=5&&CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_myTeam.m_ID==this.m_ID){CTeam.s_foulPlayer.m_coachSetTacState=22}}else{if(this.m_ID==CTeam.s_kickTeamID){CTeam.s_kickPlayer.m_coachSetTacState=9;if(CTeam.s_freeKickAssit!=null){CTeam.s_freeKickAssit.m_coachSetTacState=9}}if(this.m_state==1&&CTeam.s_matchState!=8){var g=0;var f=0;var c=0;var y=0;var d=gloft.casttoint(null);var m=d=this.convertDir(CTeam.s_kickPlayer.m_currDir);var a=m+1&7;if(CTeam.s_matchState==3){d=(m-1+7&7);a=(m+1&7)}for(m=d;m!=a;m=(m+1&7)){g=cGame.limit(this.s_hotspotGridX+CTeam.DIR_TRANSFORM[m+2],-14,14);f=cGame.limit(this.s_hotspotGridY+CTeam.DIR_TRANSFORM[m+0],-8,8);c=this.findNearstPlayer(g,f,true);this.m_players[c].m_coachSetTacState=10;this.selectGoodSpace(c,g,f,false);if(CTeam.s_period<=3){y=this.m_opTeam.findNearstPlayer(g,f,true);this.m_opTeam.m_players[y].m_coachSetDestGridX=-this.m_players[c].m_coachSetDestGridX;this.m_opTeam.m_players[y].m_coachSetDestGridY=-this.m_players[c].m_coachSetDestGridY;this.m_opTeam.m_players[y].m_coachSetTacState=10;this.m_opTeam.m_haveNewOrder[y]=true}}}else{for(var r=1;r<11;++r){var q=this.m_opTeam.m_players[r];if(q.m_court==0){var b=q.m_tacState;if(q!=CTeam.s_kickPlayer&&(b==10||b==4)){this.getMarkPos(r,0);var o=this.PosToGrid(CTeam.s_markX);var l=this.PosToGrid(CTeam.s_markY);var v=this.findNearstPlayer(o,l,true);this.m_players[v].m_coachSetTacState=13;this.m_players[v].m_coachSetMarkID=r;this.selectGoodSpace(v,o,l,false)}}}}}if(cGame.s_whichHalf==5){for(var r=0;r<11;++r){if(this.m_players[r]!=CTeam.s_kickPlayer&&this.m_players[r]!=CTeam.s_kickTeam.m_opTeam.m_GK){this.m_players[r].m_coachSetTacState=-1}}}for(var r=1;r<11;++r){if(this.m_players[r].m_coachSetTacState==0){this.getSupportGrid(r);if(CTeam.s_period==3||CTeam.s_period==4){this.m_players[r].m_coachSetTacState=12}}if(this.m_players[r].m_tacState!=this.m_players[r].m_coachSetTacState){this.m_haveNewOrder[r]=true}else{if(this.m_players[r].m_tacState==8){this.m_haveNewOrder[r]=(this.m_players[r].m_markID!=this.m_players[r].m_coachSetMarkID)}else{if(this.m_players[r].m_tacState!=11){this.m_haveNewOrder[r]=(this.m_players[r].m_destGridX!=this.m_players[r].m_coachSetDestGridX||this.m_players[r].m_destGridY!=this.m_players[r].m_coachSetDestGridY)}}}}},refreshEmotionOrder:function(){this.m_needRefresh=false;this.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));for(var c=0;c<11;++c){this.m_players[c].m_coachSetTacState=19}switch(CTeam.s_matchState){case 1:case 9:if(CTeam.s_matchState==9&&!CTeam.s_sideCelebration){if(Actor.s_football.m_vX==0&&Actor.s_football.m_vY==0){cGame.setSpecialCamera_dup_ZIIII(false,cGame.X0,cGame.Y4,1,-1)}for(var c=0;c<11;++c){this.m_players[c].m_coachSetTacState=24;this.m_players[c].m_coachSetDestGridX=-1;this.m_players[c].m_coachSetDestGridY=(this.m_leftSide?-12:12)}break}if(cGame.s_is_in_traininig10_mode){break}if((1-CTeam.s_kickTeamID==this.m_ID&&CTeam.s_matchState==1)||(((cGame.isWin()&&this.m_ID==0)||(!cGame.isWin()&&this.m_ID==1))&&CTeam.s_matchState==9)){var l=false;var e=gloft.casttoint(null);var d=gloft.casttoint(null);if(CTeam.s_sideCelebration){Actor.s_coach.m_posX=((CTeam.s_team0.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach2.m_posX=((CTeam.s_team1.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach2.m_posY=-91392;Actor.s_coach2.setAction_dup_IZ(10,true);Actor.s_coach.m_posY=-87552;Actor.s_coach.setAction_dup_IZ(6,true);Actor.s_coach.m_actionCycle=true;e=this.PosToGrid(Actor.s_coach.m_posX);d=this.PosToGrid(Actor.s_coach.m_posY)}else{CTeam.s_specialCelebration=false;if(l){Actor.s_coach.m_posX=((CTeam.s_team0.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach2.m_posX=((CTeam.s_team1.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach2.setAction_dup_IZ(10,true);Actor.s_coach.setAction_dup_IZ(7,true);Actor.s_coach.m_actionCycle=true;e=this.PosToGrid(Actor.s_coach.m_posX);d=this.PosToGrid(Actor.s_coach.m_posY)+2}else{e=16;d=((cGame.random(0,1)==0)?10:-10)}}switch(CTeam.s_celebrate_condition){case 0:if(cGame.random(0,9)<8){this.m_emotionMode=CTeam.s_celebrate_emotions[2+cGame.random(0,4)]}else{this.m_emotionMode=((cGame.random(0,1)==0)?CTeam.s_celebrate_emotions[0]:CTeam.s_celebrate_emotions[1])}if(CTeam.s_isFlying){this.m_emotionMode=((cGame.random(0,1)==0)?2:13);break}break;case 1:this.m_emotionMode=CTeam.s_celebrate_emotions[cGame.random(0,CTeam.s_celebrate_emotions.length-1)];if(CTeam.s_isFlying){this.m_emotionMode=((cGame.random(0,1)==0)?2:13);break}break;case 2:if(cGame.random(0,9)<8){this.m_emotionMode=CTeam.s_celebrate_emotions[1+cGame.random(0,4)]}else{this.m_emotionMode=((cGame.random(0,1)==0)?CTeam.s_celebrate_emotions[0]:CTeam.s_celebrate_emotions[6])}if(CTeam.s_isFlying){this.m_emotionMode=((cGame.random(0,1)==0)?2:13);break}break}var g=null;if(CTeam.s_sideCelebration){g=CTeam.s_sideCelePlayer}else{if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==1-CTeam.s_kickTeamID){g=CPlayer.s_ballLastOwner}else{if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_Number==0&&CPlayer.s_shootPlayer!=null&&CPlayer.s_shootPlayer.m_myTeam.m_ID==cGame.s_goalInfo[(CTeam.s_team0.m_goals+CTeam.s_team1.m_goals-1)*6]){g=CPlayer.s_shootPlayer}}}if(g!=null){this.m_emotionCount=0;e=15;d=(((g.m_posY>=0&&this.m_leftSide)||(g.m_posY<0&&!this.m_leftSide))?9:-9);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZActorIIZII(false,g,cGame.s_camX+320,cGame.s_camY+180,false,3,15);g.m_coachSetTacState=20;this.selectGoodSpace(g.m_Number,e,d,false);if(CTeam.s_specialCelebration){if(l){g.m_destX=Actor.s_coach.m_posX;g.m_destY=-83712}else{g.m_destX=this.GridToPosRandom(e);g.m_destY=this.GridToPosRandom(d)}g.set_currDir(CPlayer.dirTo(Actor.s_coach.m_posX-g.m_posX,Actor.s_coach.m_posY-g.m_posY))}}else{this.m_emotionRun=0;cGame.setSpecialCamera_dup_ZActorZ(false,this.m_opTeam.m_GK,false)}this.m_emotionFacePointX=this.GridToPos(e);this.m_emotionFacePointY=this.GridToPos(d);var f=0;for(var b=0;b<11;++b){if(this.m_players[b].m_coachSetTacState==19){var a=false;if(CTeam.s_matchState==9){if(cGame.s_whichHalf==5){a=(b%3==0)}else{a=(CTeam.s_sideCelePlayer!=null&&((CTeam.s_sideCelePlayer.m_posX>0&&this.m_players[b].m_posX>0)||(CTeam.s_sideCelePlayer.m_posX<0&&this.m_players[b].m_posX<0)))}}else{if(!l&&this.PosToGrid(this.m_players[b].m_posX)>8){a=(this.PosToGrid(this.m_players[b].m_posX)>8)}else{if(l){a=true}}}if(a){if(l&&g!=null){if(b>1&&f<6){this.m_players[b].m_coachSetTacState=21;if(f<2){this.m_players[b].m_destY=g.m_destY-3840;this.m_players[b].m_destX=g.m_destX+(f*30-15<<8)}else{this.m_players[b].m_destY=g.m_destY+(30-((f==2||f==5)?28:0)<<8);this.m_players[b].m_destX=g.m_destX+((f-2)*30-40<<8)}++f}}else{this.m_players[b].m_coachSetTacState=21;this.selectGoodSpace(b,e,d,false)}}}}break}for(var c=0;c<11;++c){this.m_players[c].m_coachSetTacState=22}break;case 6:if(CTeam.s_offsidePlayer.m_myTeam.m_ID==this.m_ID){CTeam.s_offsidePlayer.m_coachSetTacState=33;break}break;case 7:if(CTeam.s_period==0&&CTeam.s_injuredPlayer!=null&&CTeam.s_injuredPlayer.m_myTeam.m_ID==this.m_ID){CTeam.s_injuredPlayer.m_coachSetTacState=26;break}break;case 8:if(cGame.s_whichHalf!=5){if(CTeam.s_period==0&&CTeam.s_injuredPlayer!=null&&CTeam.s_injuredPlayer.m_myTeam.m_ID==this.m_ID){CTeam.s_injuredPlayer.m_coachSetTacState=26;break}break}else{if(CTeam.s_penaltySuccessful){if(this.m_ID!=1-CTeam.s_kickTeamID){this.m_GK.m_coachSetTacState=22;break}this.m_emotionRun=0;this.m_players[CTeam.s_kickPlayerID].m_coachSetDestGridX=0;this.m_players[CTeam.s_kickPlayerID].m_coachSetDestGridY=0;this.m_players[CTeam.s_kickPlayerID].m_coachSetTacState=31;if(!cGame.s_isPenaltyMode&&cGame.s_whichHalf!=5){cGame.setSpecialCamera_dup_ZActorZ(true,this.m_players[CTeam.s_kickPlayerID],false);break}break}else{if(this.m_ID!=1-CTeam.s_kickTeamID||CTeam.s_kickPlayerID==0){break}this.m_players[CTeam.s_kickPlayerID].m_coachSetTacState=32;if(!cGame.s_isPenaltyMode&&cGame.s_whichHalf!=5){cGame.setSpecialCamera_dup_ZIIII(false,2112,640,2,-1);break}break}}break;case 610:case 614:case 618:case 626:case 638:if(this.m_ID!=CTeam.s_team0.m_ID){break}if(!CTeam.s_specialCelebration){for(var c=1;c<11;++c){var k=this.m_players[c];if(k.m_court==0){k.stand(true);CTeam.s_specialCelebration=true;if(!cGame.s_isChallengeSuccess){k.m_coachSetTacState=37}else{k.m_coachSetTacState=36}}}break}break;case 613:case 627:var h=CTeam.s_team1.m_players[0];CTeam.s_specialCelebration=true;h.m_coachSetTacState=37;break;case 604:case 609:if(this.m_ID!=CTeam.s_team0.m_ID){break}var h=null;if(CPlayer.s_ballLastOwner!=null&&CPlayer.s_ballLastOwner.m_myTeam.m_ID==CTeam.s_team0.m_ID){h=CPlayer.s_ballLastOwner}if(h!=null){cGame.setSpecialCamera_dup_ZActorZI(false,h,false,3);CTeam.s_specialCelebration=true;h.m_coachSetTacState=36;GLLib.Dbg("GOOOOOOOOOOOOOOOOOOOOLLLLLLLL");break}break}for(var c=0;c<11;++c){if(this.m_players[c].m_tacState!=this.m_players[c].m_coachSetTacState){this.m_haveNewOrder[c]=true}}},updateMorale:function(){if(this.m_moraleState==0&&this.m_morale>107){this.m_moraleState=1;for(var a=0;a<11;++a){this.m_players[a].updateProperties(1)}}else{if(this.m_moraleState==1&&this.m_morale<107){this.m_moraleState=0;for(var a=0;a<11;++a){this.m_players[a].restoreProperties()}}}},addMorale:function(a){if(cGame.s_is_in_traininig10_mode){return}this.m_morale+=a;if(this.m_morale>110){this.m_morale=110}if(this.m_type==0){if(a==10){cGame.s_moraleFlash=true;cGame.s_moraleStop=GLLib.s_game_currentFrameNB+10}cGame.refreshNameBuff(cGame.s_focusName)}},deMorale:function(a){this.m_morale-=a;if(this.m_morale<0){this.m_morale=0}if(this.m_type==0){cGame.refreshNameBuff(cGame.s_focusName)}},isPointInMyFBZ:function(b,a){return this.isPointInMyFBZ2(b,a)&&(this.m_leftSide?b:(-b))>-cGame.FORBIDDEN_ZONE_RIGHT<<8},isPointInMyFBZ2:function(b,a){return(this.m_leftSide?b:(-b))<-cGame.FORBIDDEN_ZONE_LEFT<<8&&a>cGame.FORBIDDEN_ZONE_TOP<<8&&a<cGame.FORBIDDEN_ZONE_BOTTOM<<8},isPointInMySmallFBZ:function(b,a){return(this.m_leftSide?b:(-b))<-cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8&&(this.m_leftSide?b:(-b))>-cGame.FORBIDDEN_ZONE_RIGHT<<8&&a>cGame.SMALL_FORBIDDEN_ZONE_TOP<<8&&a<cGame.SMALL_FORBIDDEN_ZONE_BOTTOM<<8},});CTeam.MAX_SCENE=11;CTeam.s_sceneGame=null;CTeam.s_sceneStep=gloft.casttoint(null);CTeam.s_currSceneSecond=gloft.casttoint(null);CTeam.MAX_5v5_FK=gloft.casttoint(null);CTeam.MAX_5v5_TR=gloft.casttoint(null);CTeam.MAX_5v5_CK=gloft.casttoint(null);CTeam.s_teams=null;CTeam.s_team0=null;CTeam.s_team1=null;CTeam.s_leftTeamID=gloft.casttoint(null);CTeam.s_homeTeamID=gloft.casttoint(null);CTeam.s_awayTeamID=gloft.casttoint(null);CTeam.k_GK=0;CTeam.PLAYER_NUM=11;CTeam.WHITE_CARD=0;CTeam.YELLOW_CARD=1;CTeam.RED_CARD=2;CTeam.m_punishment=null;CTeam.m_tempSuspension=null;CTeam.m_playerID_in_default_order=null;CTeam.HUMAN=0;CTeam.CPU=1;CTeam.CELL_SIZE=32;CTeam.CELL_SIZE_BIT=32;CTeam.CELL_SIZE_BIT_Y=32;CTeam.GRID_WIDTH=33;CTeam.GRID_HEIGHT=21;CTeam.GRID_AREA=693;CTeam.BORDER_X=16;CTeam.BORDER_Y=10;CTeam.TS_ATTACK=1;CTeam.TS_DEFEND=-1;CTeam.s_rcvUseNewPointingSystemTeamID=gloft.casttoint(null);CTeam.RCV_CANTRAPBALLSPEED=5120;CTeam.RAK_HEAD=0;CTeam.RAK_FOOT=1;CTeam.RAK_DIVE=2;CTeam.RAK_SLIDE=3;CTeam.RAK_BIKE=4;CTeam.ATTACK_DEFEND_LINE=null;CTeam.ATTACK_DEFEND_OFFSET=null;CTeam.ATTACK_DEFEND_FREEKICK_OFFSET=null;CTeam.ASCII0=48;CTeam.AREA_A=0;CTeam.AREA_B=1;CTeam.AREA_C=2;CTeam.AREA_D=3;CTeam.AREA_E=4;CTeam.DIR_X=2;CTeam.DIR_Y=0;CTeam.DIR_TRANSFORM=null;CTeam.s_lineOfGrid=null;CTeam.ATTACK_HOT_ZOOM_WIDTH=2;CTeam.DEFEND_HOT_ZOOM_WIDTH=1;CTeam.ACTIVEZOOM_SIZE=44;CTeam.ACTIVEZOOM_D1=4;CTeam.ACTIVEZOOM_D1_BIT=2;CTeam.LEFT_SIDE=0;CTeam.RIGHT_SIDE=1;CTeam.TOWARDTYPE_SIDE=0;CTeam.TOWARDTYPE_GOAL=1;CTeam.TOWARDTYPE_FORWARD=2;CTeam.TOWARDTYPE_DEF=3;CTeam.TOWARDTYPE_SIDE_LEFT=4;CTeam.TOWARDTYPE_SIDE_RIGHT=5;CTeam.s_towardGridX=gloft.casttoint(null);CTeam.s_towardGridY=gloft.casttoint(null);CTeam.FORWARD_GRID_DIS=2;CTeam.s_markX=gloft.casttoint(null);CTeam.s_markY=gloft.casttoint(null);CTeam.s_middlePointX=gloft.casttoint(null);CTeam.s_middlePointY=gloft.casttoint(null);CTeam.TOWADR_GOAL_ZOOM_LEFT=8;CTeam.TOWADR_GOAL_ZOOM_RIGHT=1;CTeam.TOWADR_GOAL_ZOOM_UP=2;CTeam.TOWADR_GOAL_ZOOM_DOWN=2;CTeam.TOWADR_SIDE_ZOOM_LEFT=8;CTeam.TOWADR_SIDE_ZOOM_RIGHT=8;CTeam.TOWADR_SIDE_ZOOM_UP=3;CTeam.TOWADR_SIDE_ZOOM_DOWN=3;CTeam.TOWADR_FORWARD_ZOOM_LEFT=6;CTeam.TOWADR_FORWARD_ZOOM_RIGHT=2;CTeam.TOWADR_FORWARD_ZOOM_UP=4;CTeam.TOWADR_FORWARD_ZOOM_DOWN=4;CTeam.GO_HUMAN_ZOOM_LEFT=2;CTeam.GO_HUMAN_ZOOM_RIGHT=6;CTeam.GO_HUMAN_ZOOM_UP=4;CTeam.GO_HUMAN_ZOOM_DOWN=4;CTeam.PRESS_AND_MARK_ZOOM_LEFT=6;CTeam.PRESS_AND_MARK_ZOOM_RIGHT=2;CTeam.PRESS_AND_MARK_ZOOM_UP=6;CTeam.PRESS_AND_MARK_ZOOM_DOWN=6;CTeam.GO_TO_GOAL_ZOOM_LEFT=4;CTeam.GO_TO_GOAL_ZOOM_RIGHT=2;CTeam.GO_TO_GOAL_ZOOM_UP=3;CTeam.GO_TO_GOAL_ZOOM_DOWN=3;CTeam.GO_TO_SIDE_ZOOM_LEFT=10;CTeam.GO_TO_SIDE_ZOOM_RIGHT=2;CTeam.GO_TO_SIDE_ZOOM_UP=3;CTeam.GO_TO_SIDE_ZOOM_DOWN=3;CTeam.MAX_LAYER=8;CTeam.s_bHasDefInDir=null;CTeam.COACH_NOT_CONTROL=-1;CTeam.SUPPORT=0;CTeam.GO_FOR_BALL=1;CTeam.TOWARD_SIDE=2;CTeam.TOWARD_FORWARD=3;CTeam.TOWARD_GOAL=4;CTeam.WITH_BALL=5;CTeam.PRESS=7;CTeam.MARK=8;CTeam.GROUP_TAC=34;CTeam.EMOTION_TRAIN_FINISH_CELEBRATE=36;CTeam.EMOTION_TRAIN_FAIL_DEPRESSION=37;CTeam.KICK_PLACEMENT=9;CTeam.SUPPORT_THROW_IN=10;CTeam.WALL=11;CTeam.GOING_PLACEMENT=12;CTeam.TRACE_PLAYER=13;CTeam.GUARD=14;CTeam.RUSH_OUT=15;CTeam.HOLD_BALL=16;CTeam.SAVE_BALL=17;CTeam.GUARD_KICK=18;CTeam.NO_EMOTION=19;CTeam.EMOTION_CELEBRATE=20;CTeam.EMOTION_SUPPORT_CELEBRATE=21;CTeam.EMOTION_DEPRESSION=22;CTeam.EMOTION_MISS_SHOOT=23;CTeam.EMOTION_HALF_MATCH=24;CTeam.EMOTION_INJURE=26;CTeam.EMOTION_WALK_TOPOS=28;CTeam.EMOTION_WALK_OFFCOURT=29;CTeam.EMOTION_RUN_OFFCOURT=30;CTeam.EMOTION_PENALTY_SHOOTOUT_CELEBRATE=31;CTeam.EMOTION_PENALTY_SHOOTOUT_DEPRESSION=32;CTeam.EMOTION_UPSET=33;CTeam.s_SkipedNearstPlayerId=gloft.casttoint(null);CTeam.MAX_FIND_DIS=40;CTeam.PRESS_TO_CLOSE_TIME=gloft.casttoint(null);CTeam.s_bDebugDefend=false;CTeam.m_receiverIsMarked=gloft.casttoboolean(null);CTeam.m_isPressed=gloft.casttoboolean(null);CTeam.m_isMarked=gloft.casttoboolean(null);CTeam.WARNING_DIS=24;CTeam.CONTROL_RANGE_EXT=1280;CTeam.PROTECT_DIS=25;CTeam.TACKLE_RANGE=30720;CTeam.tacklePointX=gloft.casttoint(null);CTeam.tacklePointY=gloft.casttoint(null);CTeam.TACKLE_FUTURE_FRAME=0;CTeam.savedTacklePointX=gloft.casttoint(null);CTeam.savedTacklePointY=gloft.casttoint(null);CTeam.fastRunPointX=gloft.casttoint(null);CTeam.fastRunPointY=gloft.casttoint(null);CTeam.FASTRUN_FUTURE_FRAME=3;CTeam.EASY_PRESS_TIME=15;CTeam.NORMAL_PRESS_TIME=10;CTeam.HARD_PRESS_TIME=5;CTeam.CLOSE_PRESS_TIME_FP=60;CTeam.CLOSE_PRESS_TIME_MP=45;CTeam.CLOSE_PRESS_TIME_BP=30;CTeam.AVOID_TIME=14;CTeam.BACK_FROM_OFFSIDE_TIME=14;CTeam.s_throughReceiverID=gloft.casttoint(null);CTeam.tempdis=gloft.casttoint(null);CTeam.time_cool_home=gloft.casttoint(null);CTeam.time_cool_away=gloft.casttoint(null);CTeam.s_ballOwenerDir=gloft.casttoint(null);CTeam.s_ticksAfterballOwenerChangeDir=gloft.casttoint(null);CTeam.WAIT_TIME=20;CTeam.s_standbyPoints=null;CTeam.s_nAvoidPlayer=gloft.casttoint(null);CTeam.MAX_ALTER_DIS=64;CTeam.DRIBBLE_ALTER_DIS=64;CTeam.SHORT_PASS_ALTER_DIS=65;CTeam.LONG_PASS_ALTER_DIS=128;CTeam.RETVAL_DRIBBLE=0;CTeam.RETVAL_SHORTPASS=1;CTeam.RETVAL_LONGPASS=2;CTeam.RETVAL_SHOOT=3;CTeam.RETVAL_WAIT=4;CTeam.dribblePoint=null;CTeam.shortPassPoint=null;CTeam.longPassPoint=null;CTeam.s_bDebugDecide=false;CTeam.s_bDebugAI=false;CTeam.s_bDebugThroughPass=false;CTeam.s_bDebugShortPassOffset=false;CTeam.s_DecideCounter=gloft.casttoint(null);CTeam.s_DecideResult=null;CTeam.s_dcdSeqIndex=gloft.casttoint(null);CTeam.dcdSeq_Max=32;CTeam.s_decideSequence=null;CTeam.s_directPass=gloft.casttoint(null);CTeam.s_fastRun=gloft.casttoint(null);CTeam.s_decideTurn=null;CTeam.POINT_TYPE_DRIBBLE=5;CTeam.POINT_TYPE_SHORT_PASS=6;CTeam.POINT_TYPE_LONG_PASS=3;CTeam.POINT_TYPE_SHOOT=10000;CTeam.POINT_TYPE_WAIT=1;CTeam.POINT_MAX_LONGPASS=1000;CTeam.POINT_MAX_DRIBBLE=20;CTeam.s_blockDir=gloft.casttoint(null);CTeam.s_standbyPointX=gloft.casttoint(null);CTeam.s_standbyPointY=gloft.casttoint(null);CTeam.s_standbyPlayer=gloft.casttoint(null);CTeam.score=null;CTeam.MAX_DIS_TO_BALL=334848;CTeam.MIN_DIS_TO_SWITCH=20480;CTeam.s_focusTick=gloft.casttolong(null);CTeam.s_autoSwitch=gloft.casttoboolean(null);CTeam.s_lengendPlayer=gloft.casttoint(null);CTeam.s_potentialPassPointX=gloft.casttoint(null);CTeam.s_potentialPassPointY=gloft.casttoint(null);CTeam.s_potentialPlayer=null;CTeam.NORMAL_ASSIST=0;CTeam.GOOD_ASSIST=1;CTeam.BAD_ASSIST=2;CTeam.OFFSIDE_ASSIST=3;CTeam.s_assistPosState=gloft.casttoint(null);CTeam.s_potentialLongPassPointX=gloft.casttoint(null);CTeam.s_potentialLongPassPointY=gloft.casttoint(null);CTeam.s_potentialLongPassPlayer=null;CTeam.s_potentialLongPassByPosPointX=gloft.casttoint(null);CTeam.s_potentialLongPassByPosPointY=gloft.casttoint(null);CTeam.s_potentialLongPassByPosPlayer=null;CTeam.s_longPassArrowScrX=gloft.casttoint(null);CTeam.s_longPassArrowScrY=gloft.casttoint(null);CTeam.s_longPassArrowByPosScrX=gloft.casttoint(null);CTeam.s_longPassArrowByPosScrY=gloft.casttoint(null);CTeam.FIND_NEAR_POTENTIAL_DISTANCE=24576;CTeam.FIND_FAR_POTENTIAL_DISTANCE=49152;CTeam.MAX_COMMAND_NUM=4;CTeam.COMMANDLIST_D1=16;CTeam.COMMANDLIST_D2=4;CTeam.COMMANDLIST_D1_BIT=4;CTeam.COMMANDLIST_D2_BIT=2;CTeam.COMMAND_GO=1;CTeam.COMMAND_SHORT_PASS=2;CTeam.COMMAND_LONG_PASS=3;CTeam.COMMAND_SHOOT=4;CTeam.COMMAND_DRIBBLE=5;CTeam.COMMAND_TURN=6;CTeam.COMMAND_TACKLE=7;CTeam.COMMAND_SLIDETACKLE=8;CTeam.COMMAND_DIRECT_TURN=9;CTeam.COMMAND_DIRECT_PASS=10;CTeam.COMMAND_DIRECT_SHOOT=11;CTeam.COMMAND_WAIT=12;CTeam.COMMAND_WAIT_TRAP=13;CTeam.COMMAND_GO_FOR_BALL=14;CTeam.COMMAND_EMOTION=200;CTeam.COMMAND_SAVE_BALL=100;CTeam.s_ballChangeState=gloft.casttoboolean(null);CTeam.s_ballOwnerX=gloft.casttoint(null);CTeam.s_ballOwnerY=gloft.casttoint(null);CTeam.s_freeballDestX=gloft.casttoint(null);CTeam.s_freeballDestY=gloft.casttoint(null);CTeam.TACTIC_NONE=0;CTeam.TACTIC_ALL_BACK_DEFENSIVE=1;CTeam.TACTIC_POSSESSION=2;CTeam.TACTIC_HIGH_PRESSURE=3;CTeam.TACTIC_COUNTER_ATTACK=4;CTeam.TACTIC_NORMAL=0;CTeam.TACTIC_DEFAULT=1;CTeam.TACTIC_DEFEND=2;CTeam.TACTIC_ATTACK=3;CTeam.s_refreshTime=gloft.casttoboolean(null);CTeam.ctr_refreshInterval=gloft.casttoint(null);CTeam.REFRESH_INTERVAL_TIME=30;CTeam.s_ballOwnerstate=gloft.casttoint(null);CTeam.s_ballOwnerLaststate=gloft.casttoint(null);CTeam.s_offsideLine=null;CTeam.s_isGoalFormationChange=gloft.casttoboolean(null);CTeam.CTRS_CHANGE_DIS=15;CTeam.DIS_PER_CHANGE=8;CTeam.DIS_BETWEEN_DEFEND_AND_ATTACK=null;CTeam.DIS_REDUCE_PER_TICK=null;CTeam.MARK_ENABLE_DIS=12800;CTeam.CHANGE_DEFEND_PLAYER_DIS=60;CTeam.PRE_OFFSET_DIS1=25;CTeam.PRE_OFFSET_DIS2=15;CTeam.FORMATION_FOR_AWAY=6;CTeam.DEFEND_INDEX=5;CTeam.DEFEND_GRID_X=null;CTeam.DEFEND_FREEKICK_GRID_X=null;CTeam.DEFEND_BALL_GRID_X=null;CTeam.DEFEND_GRID_OFFSET=null;CTeam.m_zonePress=gloft.casttoint(null);CTeam.ZONE_PRESS_OFFSET=null;CTeam.DEFEND_ZONE=null;CTeam.TEAM_TACTICS_NORMAL=0;CTeam.TEAM_TACTICS_LEFT=1;CTeam.TEAM_TACTICS_RIGHT=2;CTeam.TEAM_TACTICS_CENTER=4;CTeam.TEAM_TACTICS_BOTH=3;CTeam.s_teamTactics=null;CTeam.s_teamTacOffsetX=gloft.casttoint(null);CTeam.s_teamTacOffsetY=gloft.casttoint(null);CTeam.s_bDebugSupport=gloft.casttoboolean(null);CTeam.FORMATION_ACTION_SHRINK=0;CTeam.FORMATION_ACTION_STRETCH=1;CTeam.FORMATION_ACTION_FOREWARD=3;CTeam.FORMATION_ACTION_BACKWARD=4;CTeam.FORMATION_ACTION_COMPRESS_IN_Y=5;CTeam.FORMATION_ACTION_COMPRESS_IN_X=6;CTeam.FORMATION_ACTION_MOVE=7;CTeam.normal_r_min=42;CTeam.normal_r_max=84;CTeam.normal_dist_min=2048;CTeam.normal_dist_max=196608;CTeam.alert_r_min=50;CTeam.alert_r_max=70;CTeam.alert_dist_min=24576;CTeam.alert_dist_max=33792;CTeam.SHOOT_DANGER_DISTANCE=gloft.casttoint(null);CTeam.s_SaveFrame=gloft.casttoint(null);CTeam.MS_NO_STATE=-1;CTeam.s_matchState=gloft.casttoint(null);CTeam.s_matchLastState=gloft.casttoint(null);CTeam.s_matchStateChanged=gloft.casttoboolean(null);CTeam.s_mathePreState=gloft.casttoint(null);CTeam.MS_PLAYING=0;CTeam.MS_GOAL_KICKOFF=1;CTeam.MS_MATCH_KICKOFF=2;CTeam.MS_THROWIN=3;CTeam.MS_GOALKICK=4;CTeam.MS_CORNER=5;CTeam.MS_OFFSIDE_FREEKICK=6;CTeam.MS_FOUL_FREEKICK=7;CTeam.MS_PENALTY=8;CTeam.MS_HALF_END=9;CTeam.MS_TUTORIAL_FAIL=10;CTeam.MS_GOAL_CAMERA=18;CTeam.MS_CHANGEPLAYER=20;CTeam.s_kickTeamID=gloft.casttoint(null);CTeam.s_kickTeam=null;CTeam.s_kickPlayerID=gloft.casttoint(null);CTeam.s_kickPlayer=null;CTeam.s_kickOffPlayerID=gloft.casttoint(null);CTeam.s_placementX=gloft.casttoint(null);CTeam.s_placementY=gloft.casttoint(null);CTeam.s_period=gloft.casttoint(null);CTeam.s_Lastperiod=gloft.casttoint(null);CTeam.s_Nextperiod=gloft.casttoint(null);CTeam.PE_EMOTION=0;CTeam.PE_REFEREE=1;CTeam.PE_COACH=2;CTeam.PE_GOING=3;CTeam.PE_PREPARE=4;CTeam.PE_WAIT=5;CTeam.PE_LOCATE=6;CTeam.PE_CAMERA_TO_KICK_PLAYER=7;CTeam.PE_CAMERA_TO_GOAL=8;CTeam.PE_PRE_SHOOT=9;CTeam.PE_ACC_POWER=10;CTeam.PE_EXECUTE=11;CTeam.PE_CHANGEPLAYER=12;CTeam.PE_KICK_ASSIT=13;CTeam.PE_KICK_SWITCH=14;CTeam.PE_FREEKICK_INIT=16;CTeam.PE_WAIT_CAMERA=15;CTeam.PE_PRE_SHOOT2=17;CTeam.PE_PRE_SHOOT_EVO_MOVE_CURSOR=18;CTeam.CTR_MATCH_STATE_CHANGE=50;CTeam.CTR_PERIOD_SWITCH=0;CTeam.CTR_EMOTION_DURATION=230;CTeam.STIDUM_EXTRANCE_RANNING_OFFSET=150;CTeam.CTR_KICK=10045;CTeam.CTR_HUMAN_PREKICK=10030;CTeam.CTR_HUMAN_DELAYFOUL=10150;CTeam.s_ctrMatchState=gloft.casttoint(null);CTeam.s_allowPass=gloft.casttoboolean(null);CTeam.s_allowLongPass=gloft.casttoboolean(null);CTeam.s_allowShoot=gloft.casttoboolean(null);CTeam.s_placementScreenCursorX=gloft.casttoint(null);CTeam.s_placementScreenCursorY=gloft.casttoint(null);CTeam.s_kickToX=gloft.casttoint(null);CTeam.s_kickToY=gloft.casttoint(null);CTeam.s_placementByCPU=gloft.casttoboolean(null);CTeam.s_isGKSavingPenalty=gloft.casttoboolean(null);CTeam.s_savePenaltyDir=gloft.casttoint(null);CTeam.s_shootoutRound=gloft.casttoint(null);CTeam.s_shootoutResult=null;CTeam.s_penaltySuccessful=gloft.casttoboolean(null);CTeam.s_penaltyEndTime=gloft.casttolong(null);CTeam.KICK_PENALTY_TIME=50;CTeam.s_sideCelebration=gloft.casttoboolean(null);CTeam.s_sideCelePlayer=null;CTeam.s_jumpToStart=gloft.casttoint(null);CTeam.s_handshakeWait=gloft.casttoint(null);CTeam.s_periodSwitching=gloft.casttoboolean(null);CTeam.s_ctrPeriodSwitching=gloft.casttoint(null);CTeam.s_isFoulCounterEnable=gloft.casttoboolean(null);CTeam.s_isFoulCounter=gloft.casttoint(null);CTeam.s_shootoutRoundCount=gloft.casttoint(null);CTeam.nWall=gloft.casttoint(null);CTeam.s_replayFinish=gloft.casttoboolean(null);CTeam.TOUCH_CURSOR_MOVE_SPEED=20;CTeam.CURSOR_MOVE_SPEED=9;CTeam.s_chooseShoot=gloft.casttoboolean(null);CTeam.COE_TRI_X=1428;CTeam.COE_TRI_Y=4032;CTeam.COE_V220_X=1506;CTeam.COE_V220_Y=5040;CTeam.COACH_STAND_POS_X=12288;CTeam.COACH_STAND_POS_Y=-91392;CTeam.COACH_STAND_CHANGE_PLAYER_X=8960;CTeam.CORNER_MATCH_LOCATION_GRID_X=null;CTeam.CORNER_MATCH_LOCATION_GRID_Y=null;CTeam.CORNER_TRAIN_PREFERENTIAL_ATT=null;CTeam.CORNER_MATCH_PREFERENTIAL_ATT=null;CTeam.CORNER__TRAIN_MATCH_PREFERENTIAL_DEF=null;CTeam.CORNER_MATCH_TRAINING_LOCATION_COUNT=16;CTeam.s_corner_match_location_mark_att=null;CTeam.s_corner_match_location_mark_def=null;CTeam.CORNER_HEAD_PLAYER_COUNT=2;CTeam.s_hasSetPlayerPos=gloft.casttoboolean(null);CTeam.GET_FORWARDPLAYER_MAX=gloft.casttoint(null);CTeam.s_ForwardPlayerList=null;CTeam.CORNER_PLAYER_PLAYER_MIN_DISTANCE=256;CTeam.isGoalAtLeftInCornerTraining=gloft.casttoboolean(null);CTeam.isCornerAtTopInCornerTraining=gloft.casttoboolean(null);CTeam.CORNER_TRAINING_DESIGN=null;CTeam.have_defender_in_training=gloft.casttoboolean(null);CTeam.ONE_TWO_TRAINING_DESIGN=null;CTeam.s_freeKickCircleAngle=gloft.casttoint(null);CTeam.s_freeKickCircleRadius=gloft.casttoint(null);CTeam.s_hasCaculatedFKCR=gloft.casttoboolean(null);CTeam.dbg_fk_grid=false;CTeam.s_haveHumanWall=gloft.casttoboolean(null);CTeam.s_has_humanwall_builded=gloft.casttoboolean(null);CTeam.s_freeKickAssit=null;CTeam.s_bHasFreeKickAssit=gloft.casttoboolean(null);CTeam.FREE_KICK_MISS_OFFSET_X=gloft.casttoint(null);CTeam.s_FKReceiverNumber=gloft.casttoint(null);CTeam.s_bFreeKickPassing=gloft.casttoboolean(null);CTeam.cursor_x_speed=gloft.casttoint(null);CTeam.cursor_y_speed=gloft.casttoint(null);CTeam.FORBIDDEN_ZONE_TOP_GRID=gloft.casttoint(null);CTeam.FORBIDDEN_ZONE_BOTTOM_GRID=gloft.casttoint(null);CTeam.FORBIDDEN_ZONE_LEFT_GRID=gloft.casttoint(null);CTeam.FORBIDDEN_ZONE_RIGHT_GRID=gloft.casttoint(null);CTeam.s_foulPlayer=null;CTeam.s_offsidePlayer=null;CTeam.s_injuredPlayer=null;CTeam.s_bInjured=gloft.casttoboolean(null);CTeam.s_upsetPlayer=null;CTeam.s_specialCelebration=gloft.casttoboolean(null);CTeam.s_celebrate_condition=gloft.casttoint(null);CTeam.s_isFlying=gloft.casttoboolean(null);CTeam.s_celebrate_emotions=null;CTeam.MAX_MORALE=110;CTeam.UNIT_MORALE=5;CTeam.INCREMENT_MORALE=5;CTeam.INCREMENT_DOUBLE_MORALE=10;CTeam.DECREASE_MORALE=5;CTeam.DECREASE_MORE_MORALE=15;CTeam.NORMAL_MORALE_STATE=0;CTeam.MAX_ROLE_MATCH_STATE=1;CTeam.UPDATE_MORALE_TIME=1;CTeam.s_newtutorialStep=gloft.casttoint(null);CTeam.NTS_PRE_INTRODUCTION=-2;CTeam.NTS_INTRODUCTION=-1;CTeam.NTS_PREPARE=0;CTeam.NTS_KICKOFF=1;CTeam.NTS_RUN=2;CTeam.NTS_RUN_OK=3;CTeam.NTS_RUN_FAST=4;CTeam.NTS_RUN_FAST_OK=5;CTeam.NTS_PASS_PREPARE=6;CTeam.NTS_PASS=7;CTeam.NTS_PASS_OK=8;CTeam.NTS_LONG_PASS=9;CTeam.NTS_LONG_PASS_OK=10;CTeam.NTS_SHOOT=11;CTeam.NTS_SHOOT_OK=12;CTeam.NTS_PREPARE_LONGPASS=13;CTeam.NTS_THROUGHPASS=14;CTeam.NTS_THROUGHPASS_OK=15;CTeam.NTS_ONETWO=16;CTeam.NTS_ONETWO_OK=17;CTeam.NTS_PREPARE_CROSS=18;CTeam.NTS_CROSS=19;CTeam.NTS_CROSS_OK=20;CTeam.NTS_DIRECTSHOOT=21;CTeam.NTS_PRE_ONETWO=22;CTeam.NTS_FAIL=44;CTeam.NTS_SUCCESS=45;CTeam.NTS_FLIP_FLAP=23;CTeam.NTS_FLIP_FLAP_OK=24;CTeam.NTS_ROTATION=25;CTeam.NTS_ROTATION_OK=26;CTeam.NTS_BICYCLE=27;CTeam.NTS_BICYCLE_OK=28;CTeam.NTS_SHOOT_CURVE=29;CTeam.NTS_SHOOT_CURVE_OK=30;CTeam.NTS_PRE_THROUGHPASS=31;CTeam.NTS_PRE_SHOOT_CURVE=32;CTeam.NTS_CHANGING=33;CTeam.NTS_SWITCH=34;CTeam.NTS_AUTO_PRESS=35;CTeam.NTS_TACKLE=36;CTeam.NTS_SCRIPT=37;CTeam.NTS_SLIDETACKLE=38;CTeam.NTS_PRE_MUL_PRESS=39;CTeam.NTS_MUTIPLE_PLAYER_PRESS=40;CTeam.NTS_FINISH=41;CTeam.NTS_PRE_FLIP1=42;CTeam.NTS_PRE_FLIP2=43;CTeam.NTS_CPU_ENABLED=33;CTeam.NEW_PAUSE_END_DURATION=50;CTeam.s_newtutorialPause=gloft.casttoboolean(null);CTeam.s_newtutorialNext=gloft.casttoboolean(null);CTeam.s_newtutorialBegin=gloft.casttoboolean(null);CTeam.s_newTutorialCounter=gloft.casttolong(null);CTeam.s_TutoCounterSet=gloft.casttoboolean(null);CTeam.s_newtickPauseEnd=gloft.casttolong(null);CTeam.s_ctrDoingDuration=gloft.casttoint(null);CTeam.s_newtutorialHintStrID=gloft.casttoint(null);CTeam.s_taskParam1=gloft.casttoint(null);CTeam.s_taskParam2=gloft.casttoint(null);CTeam.s_part=gloft.casttoint(null);CTeam.s_taskFinish=gloft.casttoboolean(null);CTeam.s_isNearEnough=gloft.casttoboolean(null);CTeam.s_canMoveId=gloft.casttoint(null);CTeam.s_isCurveshoot=gloft.casttoboolean(null);CTeam.s_isShootTaskOver=gloft.casttoboolean(null);CTeam.s_newTutorialPersonNum=gloft.casttobyte(null);CTeam.s_isChangeInitPos=gloft.casttoboolean(null);CTeam.s_hasPress5inAutoPress=gloft.casttoboolean(null);CTeam.s_needDrawRetry=gloft.casttoboolean(null);CTeam.s_canThroughInTutorial=gloft.casttoboolean(null);CTeam.s_isTutorialHeadShoot=gloft.casttoboolean(null);CTeam.s_isTutorialShoot=gloft.casttoboolean(null);CTeam.s_isTutorialLongPassBySharp=gloft.casttoboolean(null);CTeam.oldStepInFail=gloft.casttoint(null);CTeam.oldStrInFail=gloft.casttoint(null);CTeam.goalInTutorial=gloft.casttoboolean(null);CTeam.oldStepInSuccess=gloft.casttoint(null);CTeam.oldStrInSuccess=gloft.casttoint(null);CTeam.TRAIN_RANK_NO_RANK=4;CTeam.TRAIN_RANK_GOLD=3;CTeam.TRAIN_RANK_SILVER=2;CTeam.TRAIN_RANK_COPPER=1;CTeam.TRAIN_RANK_NULL=0;CTeam.TRAIN_RANK_LOSER=-1;CTeam.TRAIN_PRE_INTRO=0;CTeam.TRAIN_INTRO=1;CTeam.TRAIN_WAIT=2;CTeam.TRAIN_FIRST_PASSING=3;CTeam.TRAIN_GOING=4;CTeam.TRAIN_FAIL=5;CTeam.TRAIN_SUCCESS=6;CTeam.TRAIN_REPLAYING=7;CTeam.TRAIN_PRE_NEXT_SHOOT=8;CTeam.TRAIN_PAUSE=9;CTeam.TRAIN_RESULT_EMOTION=10;CTeam.TRAIN_RESULT_RANK=11;CTeam.TRAIN_RESULT_PAUSE=12;CTeam.TRAIN_FUNCTION_DO_NOTHING=-256;CTeam.TRAIN_FUNCTION_CHECK_CT_WIN_INDEX=1;CTeam.TRAIN_FUNCTION_CHECK_TRAIN_END_INDEX=2;CTeam.TRAIN_FUNCTION_CHECK_POP_RANK_INDEX=3;CTeam.TRAIN_FUNCTION_CHECK_OT_WIN_INDEX=4;CTeam.TRAIN_FUNCTION_CHECK_ANY_DIR_KEY_PRESS_INDEX=5;CTeam.TRAIN_FUNCTION_CHECK_DT_WIN_INDEX=6;CTeam.TRAIN_FUNCTION_CHECK_FT_WIN_INDEX=9;CTeam.TRAIN_FUNCTION_CHECK_HT_WIN_INDEX=10;CTeam.TRAIN_FUNCTION_CHECK_ANIM_FINISH_INDEX=11;CTeam.TRAIN_GOAL_INTERFACE_FRAMES=90;CTeam.TRAIN_GOAL_KICKOFF_INTERFACE_FRAMES=25;CTeam.TRAIN_PRE_NEXT_SHOOT_FRAME=20;CTeam.TRAIN_FAIL_SUCCESS_INTERFACE_STAND_FRAME=50;CTeam.TRAIN_CAN_POP_IGM_FRAME=15;CTeam.TRAIN_DIFFICULTY_DEFIENS=null;CTeam.OT_TRAIN_LIMIT_TIMES=20000;CTeam.OT_TOTAL_TRAIN_TIMES=3;CTeam.ONE_TWO_TRAINING_X_ZONE_LEFT=100;CTeam.ONE_TWO_MACHINE_DATA=null;CTeam.DT_TOTAL_TRAIN_TIMES=1;CTeam.DT_RANK_GRADE_TIMES=null;CTeam.DT_MAX_DRIBBLE_TIME=600;CTeam.DT_GOAL_INTERFACE_FRAMES=0;CTeam.DT_FAIL_SUCCESS_INTERFACE_STAND_FRAME=20;CTeam.DT_PRE_NEXT_SHOOT_FRAME=0;CTeam.DRIBBLE_OUT_AREA=-1;CTeam.DRIBBLE_RUN_AREA=0;CTeam.DRIBBLE_WIN_AREA=1;CTeam.isDribbleOutArea=gloft.casttoboolean(null);CTeam.s_startDribbleIndex=gloft.casttoint(null);CTeam.s_curDribbleIndex=gloft.casttoint(null);CTeam.s_curDribbleElementID=gloft.casttoint(null);CTeam.s_curCrossBarLinkID=gloft.casttoint(null);CTeam.ELEMENT_RANGE=5;CTeam.s_rotateDirOrder=null;CTeam.s_isNewRotateBar=gloft.casttoboolean(null);CTeam.s_rotateCurDirIndex=gloft.casttoint(null);CTeam.s_rotateGuideOff=gloft.casttoint(null);CTeam.s_rotateLastDir=gloft.casttoint(null);CTeam.s_rotateWrongDirNum=gloft.casttoint(null);CTeam.s_comboPassCount=gloft.casttoint(null);CTeam.s_passAndHitFlag=gloft.casttoint(null);CTeam.s_hitElementPlayerTeamID=gloft.casttoint(null);CTeam.s_hitElementPlayerID=gloft.casttoint(null);CTeam.DRIBBLE_MACHINE_DATA=null;CTeam.FT_TOTAL_TRAIN_TIMES=3;CTeam.FT_HITBAR_TOTAL_TRAIN_TIMES=3;CTeam.FT_GOAL_INTERFACE_FRAMES=50;CTeam.FT_FAIL_SUCCESS_INTERFACE_STAND_FRAME=50;CTeam.s_freekick_training_design=null;CTeam.TRAIN_ACTOR_USED_PARAM_COUNT=4;CTeam.MAX_FREEKICK_TRAINING_DESING_LEN=240;CTeam.FREEKICK_MACHINE_DATA=null;CTeam.HITBAR_MACHINE_DATA=null;CTeam.k_Training_Number_hitbar_add=1;CTeam.k_Training_Number_penalty_add=1;CTeam.k_Training_Number=6;CTeam.m_train_train_count=gloft.casttoint(null);CTeam.m_train_win_count=gloft.casttoint(null);CTeam.m_train_train_count_chance=gloft.casttoint(null);CTeam.isNextShootInTraining=gloft.casttoboolean(null);CTeam.s_train_step_current_frame=gloft.casttoint(null);CTeam.s_training_step_start_time=gloft.casttolong(null);CTeam.s_training_step_current_time=gloft.casttolong(null);CTeam.s_training_lock=null;CTeam.s_training_rank=gloft.casttoint(null);CTeam.s_TrainStep=gloft.casttoint(null);CTeam.isTrainFailViaOffsde=gloft.casttoboolean(null);CTeam.k_RMS_Training_Lock=0;CTeam.k_RMS_Challenge_Lock=6;CTeam.k_RMS_Training_Pass=7;CTeam.k_RMS_Challenge_Pass=19;CTeam.s_miniGameHitBarTargetYArray=null;CTeam.s_miniGameHitBarTargetYIndex=gloft.casttoint(null);CTeam.s_miniGameHitBarTargetY=gloft.casttoint(null);CTeam.s_miniGameHitBarTargetZ=gloft.casttoint(null);CTeam.MAX_HITBAR_POWER=10;CTeam.MIN_HITBAR_POWER=3;CTeam.s_canHitBarPower=gloft.casttoint(null);CTeam.s_windDirection=gloft.casttoint(null);CTeam.s_windForce=gloft.casttoint(null);CTeam.WIND_FORCE=null;CTeam.MAX_HITBAR_DIS=600;CTeam.MIN_HITBAR_DIS=200;CTeam.training_machine_data=null;CTeam.s_isStartTime=gloft.casttoboolean(null);CTeam.randomScene=function(){var b=0;var a=0;var f=0;for(var e=0;e<11;++e){var c=GLLib.Math_Rand(3,8);if(c==4){c=2}if(c==6||c==7||c==8){if(++b>CTeam.MAX_5v5_FK){var d=GLLib.Math_Rand(0,100);if(d<50){c=8}else{c=5}}}else{if(c==3){if(++a>CTeam.MAX_5v5_TR){c=5}}else{if(++f>CTeam.MAX_5v5_CK){var d=GLLib.Math_Rand(0,100);if(d<50){c=2}else{c=8}}}}CTeam.s_sceneGame[e]=c}};CTeam.updateScene=function(){GLLib.Dbg("============================== CHECK STEP_SCENE --------------------->>> "+CTeam.s_sceneStep);GLLib.Dbg("============================== CHANGE SCENE 5v5 ==================>>> SCENE ID = "+CTeam.s_sceneGame[CTeam.s_sceneStep]);if(!cGame.s_isHalfEnd){if(CTeam.s_sceneStep>=11){cGame.StopSound_dup_();cGame.s_isHalfEnd=true;CTeam.setMatchState_dup_IIII(9,CTeam.s_leftTeamID,Actor.s_football.m_posX,Actor.s_football.m_posY)}else{CTeam.changeScene(CTeam.s_sceneStep)}}};CTeam.changeScene=function(b){CTeam.s_periodSwitching=true;CTeam.s_ctrPeriodSwitching=0;CTeam.setPeriod(4);CTeam.setPeriodSwitch(4);CTeam.s_period=4;var a=CTeam.s_sceneGame[b];++CTeam.s_sceneStep;CTeam.s_currSceneSecond=200;switch(a){case 2:CTeam.setMatchState_dup_IIII(2,CTeam.s_leftTeamID,0,1536);break;case 3:Actor.s_football.m_posX=GLLib.Math_Rand(-20000,134168);CTeam.setMatchState_dup_IIII(3,CTeam.s_team0.m_ID,Actor.s_football.m_posX,(Actor.s_football.m_posY<=0)?-86784:86784);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);CTeam.s_team1.m_GK.m_posX=135168;CTeam.s_team1.m_GK.m_posY=0;CTeam.s_team1.m_GK.m_lastPosX=135168;CTeam.s_team1.m_GK.m_posY=0;CTeam.s_team1.m_GK.m_destX=135168;CTeam.s_team1.m_GK.m_destY=0;break;case 5:CTeam.setMatchState_dup_IIII(5,CTeam.s_team0.m_ID,CTeam.s_team1.m_leftSide?-134400:134400,(Actor.s_football.m_posY<=0)?-85504:85504);CTeam.s_period=4;cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);break;case 8:CTeam.setMatchState_dup_IIII(8,CTeam.s_team0.m_ID,(CTeam.s_team1.m_leftSide?cGame.LEFT_PENALTY_POINT_3D_X:cGame.RIGHT_PENALTY_POINT_3D_X)<<8,(CTeam.s_team1.m_leftSide?cGame.LEFT_PENALTY_POINT_3D_Y:cGame.RIGHT_PENALTY_POINT_3D_Y)<<8);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);break;case 6:case 7:Actor.s_football.m_posX=GLLib.Math_Rand(-20000,65000);CTeam.setMatchState_dup_IIII(7,CTeam.s_team0.m_ID,Actor.s_football.m_posX,Actor.s_football.m_posY);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);break}};CTeam.initCTeam=function(){CTeam.s_teams=gloft.ArrayCreation([2],null);CTeam.s_team0=new CTeam();CTeam.s_team1=new CTeam();CTeam.s_teams[0]=CTeam.s_team0;CTeam.s_teams[1]=CTeam.s_team1;for(var a=0;a<CTeam.s_team0.m_players.length;++a){var b=new CPlayer();CTeam.s_team0.m_players[a]=b}for(var a=0;a<CTeam.s_team1.m_players.length;++a){var b=new CPlayer();CTeam.s_team1.m_players[a]=b}};CTeam.exchangePlayerFormationInfo=function(g,f){var d=g.m_myTeam;var c=g.m_formationGridX;g.m_formationGridX=f.m_formationGridX;f.m_formationGridX=c;c=g.m_formationGridY;g.m_formationGridY=f.m_formationGridY;f.m_formationGridY=c;c=g.m_formationGridX;g.m_formationGridX=f.m_formationGridX;f.m_formationGridX=c;for(var e=0;e<4;++e){var a=d.m_activeZoomArange[(g.m_Number<<2)+e];d.m_activeZoomArange[(g.m_Number<<2)+e]=d.m_activeZoomArange[(f.m_Number<<2)+e];d.m_activeZoomArange[(f.m_Number<<2)+e]=a}c=g.m_attackGridX;g.m_attackGridX=f.m_attackGridX;f.m_attackGridX=c;c=g.m_role;g.m_role=f.m_role;f.m_role=c;c=g.m_defendGridX;g.m_defendGridX=f.m_defendGridX;f.m_defendGridX=c;c=g.m_GridOffsetX;g.m_GridOffsetX=f.m_GridOffsetX;f.m_GridOffsetX=c;c=g.m_formationGridX;g.m_formationGridX=f.m_formationGridX;f.m_formationGridX=c;c=g.m_defendGridX;g.m_defendGridX=f.m_defendGridX;f.m_defendGridX=c};CTeam.getPointBetweenTwoPoint=function(d,c,f,b,a){var e=cGame.fastDistance(b-c>>8,a-f>>8);if(e<=d){CTeam.s_middlePointX=b;CTeam.s_middlePointY=a}else{CTeam.s_middlePointX=b-(gloft.casttoint(d*(b-c>>8)/e)<<8);CTeam.s_middlePointY=a-(gloft.casttoint(d*(a-f>>8)/e)<<8)}};CTeam.setBallOwner=function(){CTeam.s_ballOwnerX=CPlayer.s_ballOwner.m_posX;CTeam.s_ballOwnerY=CPlayer.s_ballOwner.m_posY};CTeam.updateInfo=function(){if(CPlayer.s_ballOwner==null){CTeam.s_ballOwnerstate=2}else{CTeam.s_ballOwnerstate=CPlayer.s_ballOwner.m_myTeam.m_ID}CTeam.s_ballChangeState=(CTeam.s_ballOwnerstate!=CTeam.s_ballOwnerLaststate);CTeam.s_ballOwnerLaststate=CTeam.s_ballOwnerstate;if(CTeam.s_ballChangeState||(CTeam.s_newtutorialStep==40&&cGame.s_aiMode==6)){if(CTeam.s_ballOwnerstate==2){CTeam.s_freeballDestX=Actor.s_football.m_destX;CTeam.s_freeballDestY=Actor.s_football.m_destY}else{cGame.s_ptRecieverOn=(CTeam.s_ballOwnerstate==0);CTeam.s_teams[CTeam.s_ballOwnerstate].setTeamState(1);CTeam.s_teams[1-CTeam.s_ballOwnerstate].setTeamState(-1);CTeam.setBallOwner()}}if(CTeam.s_matchState!=0){CTeam.s_teams[CTeam.s_kickTeamID].setTeamState(1);CTeam.s_teams[1-CTeam.s_kickTeamID].setTeamState(-1)}else{if(!cGame.isInMiniGame()){if(CTeam.s_team0.m_state==1){var m=CTeam.s_team0;++m.m_attackTime}else{if(CTeam.s_team1.m_state==1){var l=CTeam.s_team1;++l.m_attackTime}}}}if(cGame.s_aiMode!=2){CTeam.s_team1.updateCPUFormation(false)}if(Actor.s_ball_heldbygk||CTeam.s_matchState==4){if(CTeam.s_team0.m_state==1){CTeam.s_team0.setDefaultPosition(1);CTeam.s_team1.setDefaultPosition(1)}else{CTeam.s_team0.setDefaultPosition(1);CTeam.s_team1.setDefaultPosition(1)}}else{CTeam.s_team0.setDefaultPosition(CTeam.s_team0.PosToGrid(Actor.s_football.m_posX));CTeam.s_team1.setDefaultPosition(CTeam.s_team1.PosToGrid(Actor.s_football.m_posX))}CTeam.s_team0.adjustPlayerDefaultPos();CTeam.s_team1.adjustPlayerDefaultPos();CTeam.s_refreshTime=false;if(CTeam.s_ballChangeState||CTeam.s_matchStateChanged||(CTeam.s_ballOwnerstate==2&&CTeam.s_matchState==0&&(GLLib.s_game_currentFrameNB&3)==0)){CTeam.s_refreshTime=true}else{if(CTeam.s_matchState==0){if(CPlayer.s_ballOwner!=null){var h=CPlayer.s_ballOwner.m_posX-CTeam.s_ballOwnerX>>8;var a=CPlayer.s_ballOwner.m_posY-CTeam.s_ballOwnerY>>8;if(h<0){h=-h}if(a<0){a=-a}CTeam.s_refreshTime=(h>=32||a>=32);if(CTeam.s_refreshTime){CTeam.setBallOwner()}}else{if(CTeam.s_freeballDestX!=Actor.s_football.m_destX||CTeam.s_freeballDestY!=Actor.s_football.m_destY){CTeam.s_refreshTime=true;CTeam.s_freeballDestX=Actor.s_football.m_destX;CTeam.s_freeballDestY=Actor.s_football.m_destY}}}}if(CTeam.s_matchState!=4&&CTeam.ctr_refreshInterval>((CTeam.s_matchState==0)?30:120)&&(CTeam.s_matchState==0||CTeam.s_period!=0)){CTeam.s_refreshTime=true}CTeam.ctr_refreshInterval=(CTeam.s_refreshTime?0:(CTeam.ctr_refreshInterval+1));var k=Actor.s_football.m_posX;for(var e=0;e<2;++e){var g=CTeam.s_teams[e];k=Actor.s_football.m_posX;for(var c=0;c<11;++c){var b=g.m_players[c];if(b.m_court==0){Label_0677:{if(c!=0){var f=b.m_posX;if(CTeam.s_teams[1-e].m_leftSide){if(f<=k){break Label_0677}}else{if(f>=k){break Label_0677}}k=f}}var f=Actor.s_football.m_posX-b.m_posX;var d=Actor.s_football.m_posY-b.m_posY;b.m_dirToBall=CPlayer.dirTo(f,d);b.m_disToBall=cGame.fastDistance(f,d);b.m_isInSelfDefZone=b.m_myTeam.isInDefendZone(c,b.m_gridX,b.m_gridY);b.m_beShoved=false}}CTeam.s_teams[1-e].m_offsideGridX=CTeam.s_teams[1-e].PosToGrid(k);if(k>0){CTeam.s_offsideLine[1]=k}else{CTeam.s_offsideLine[0]=k}if(cGame.s_aiMode==12&&!CTeam.have_defender_in_training){CTeam.s_teams[0].m_offsideGridX=16}}if(cGame.s_aiMode==2){CTeam.s_team0.m_offsideGridX=16}};CTeam.getFreeKickDisOnScreen=function(){return gloft.casttoint((CTeam.getDisToGoal_dup_()+5)/10)};CTeam.setPeriodSwitch=function(a){CTeam.s_Lastperiod=CTeam.s_period;CTeam.s_Nextperiod=a;CTeam.s_ctrPeriodSwitching=0;CTeam.s_periodSwitching=true;cGame.setFade(1,255,100)};CTeam.updatePeriodSwitch=function(){if(CTeam.s_ctrPeriodSwitching==0){CTeam.s_period=CTeam.s_Nextperiod;CTeam.s_Nextperiod=0;if(CTeam.s_period==12||CTeam.s_period==4){CTeam.s_periodSwitching=false}}if(CTeam.s_ctrPeriodSwitching==12){if(CTeam.s_matchState!=7){CTeam.s_ctrMatchState=0}CTeam.s_periodSwitching=false}++CTeam.s_ctrPeriodSwitching};CTeam.getNextPenaltyKickerID=function(m){if(!cGame.s_isLocalPenalty){var l=0;for(var h=0;h<11;++h){if(CTeam.s_teams[m].m_players[h].m_court==0){++l}}if(CTeam.s_shootoutRound>21){CTeam.s_shootoutRoundCount=CTeam.s_shootoutRound%22}else{CTeam.s_shootoutRoundCount=CTeam.s_shootoutRound}var f=(l-1-(CTeam.s_shootoutRoundCount>>1)+l)%l;var g=0;var e=0;for(g=0;g<11;++g){if(CTeam.s_teams[m].m_players[g].m_court==0){if(f==e){break}++e}}return g}var d=cGame.s_Local_PKicker[0];var c=cGame.s_Local_PKicker[1];if(m==0){GLLib.Dbg("PLAYER111111111111111111111111111111111111111111111111111111111111111111111111111111");return d}GLLib.Dbg("PLAYER222222222222222222222222222222222222222222222222222222222222222222222222222222");return c};CTeam.setMatchState_dup_I=function(a){CTeam.setMatchState_dup_IIII(a,CTeam.s_kickTeamID,CTeam.s_placementX,CTeam.s_placementY)};CTeam.debugMatchState=function(a){switch(a){case 0:GLLib.Dbg("s_matchState MS_PLAYING");break;case 1:GLLib.Dbg("s_matchState MS_GOAL_KICKOFF");break;case 2:GLLib.Dbg("s_matchState MS_MATCH_KICKOFF");break;case 3:GLLib.Dbg("s_matchState MS_THROWIN");break;case 4:GLLib.Dbg("s_matchState MS_GOALKICK");break;case 5:GLLib.Dbg("s_matchState MS_CORNER");break;case 6:GLLib.Dbg("s_matchState MS_OFFSIDE_FREEKICK");break;case 7:GLLib.Dbg("s_matchState MS_FOUL_FREEKICK");break;case 8:GLLib.Dbg("s_matchState MS_PENALTY");break;case 9:GLLib.Dbg("s_matchState MS_HALF_END");break;case 10:GLLib.Dbg("s_matchState MS_TUTORIAL_FAIL");break;case 18:GLLib.Dbg("s_matchState MS_GOAL_CAMERA");break;case 20:GLLib.Dbg("s_matchState MS_CHANGEPLAYER");break;default:GLLib.Dbg("s_matchState !!!!! MatchState not found");break}};CTeam.setMatchState_dup_IIII=function(b,a,d,c){cGame.disp_string=-1;cGame.s_tansitionType=cGame.random(0,3);if(cGame.s_aiMode==2&&a==1&&b!=4){a=0;if(b==5||b==8){d=-d}}if(cGame.s_aiMode==6&&b!=2){if(CTeam.s_newtutorialStep==11&&((CTeam.s_newTutorialPersonNum==3&&CTeam.s_isTutorialHeadShoot)||CTeam.s_newTutorialPersonNum==2)&&CTeam.s_isTutorialShoot&&a==1&&(b==1||(b==10&&CTeam.s_newtutorialStep==11&&CTeam.goalInTutorial))){CTeam.s_isShootTaskOver=true;a=0;if(CTeam.s_newTutorialPersonNum==3){a=1}CTeam.goalInTutorial=false}else{a=0}CTeam.s_isTutorialHeadShoot=false;CTeam.s_isTutorialShoot=false;if(CTeam.s_newtutorialStep==29){CTeam.s_isShootTaskOver=true}d=0;c=0;if(b==10){if(CTeam.s_isShootTaskOver){b=1}else{b=10}}else{b=1}}CTeam.s_sideCelebration=false;CTeam.s_specialCelebration=false;if(b==9&&cGame.canEndMatch()&&cGame.s_aiMode!=3&&cGame.isWin()){if(cGame.s_whichHalf==5){if(CTeam.s_shootoutRound%2==0){CTeam.s_sideCelePlayer=CTeam.s_team0.m_players[CTeam.getNextPenaltyKickerID(0)]}else{CTeam.s_sideCelePlayer=CTeam.s_team0.m_GK}}else{CTeam.s_sideCelePlayer=CPlayer.s_focusPlayer}CTeam.s_sideCelebration=true}if(b==9){CPlayer.s_powerDisappearTime=0}if(b==5){cGame.increaseValueOfStatItem(a,2)}else{if(b==7||b==6){if(CTeam.s_foulPlayer==null||CTeam.s_kickPlayer==null||CTeam.s_foulPlayer.m_myTeam.m_ID!=a){cGame.increaseValueOfStatItem(a,3)}if(b==6){cGame.PlaySound_dup_I(cGame.sfx_2_whistle_blow)}else{if(cGame.s_currentPlaySound==12||cGame.s_currentPlaySound==9){cGame.PlaySound_dup_I(cGame.sfx_2_whistle_blow)}else{cGame.PlaySound_dup_I(cGame.sfx_2_whistle_blow)}}}}if(b==8){cGame.PenaltyShootCursorOK=false;cGame.s_isPenaltyShootOver=true;cGame.s_isPenaltyDefendOver=true}GLLib.Dbg("kickTeamID: "+a);CTeam.s_matchState=b;CTeam.s_kickTeamID=a;CTeam.s_kickTeam=CTeam.s_teams[a];CTeam.s_placementX=d;CTeam.s_placementY=c;if(b==1){if(cGame.s_weather!=0){cGame.initSnow()}CTeam.setAllPlayerStand();CTeam.s_replayFinish=false;CPlayer.s_ballFastOwner=null;CTeam.s_potentialPlayer=null;CTeam.s_potentialLongPassPlayer=null;CTeam.s_potentialLongPassByPosPlayer=null;if(cGame.s_matchMode==11){CTeam.s_period=4;GLLib.Dbg("RESET CENTER ARREA 5v5 ---------------------------------");++CTeam.s_sceneStep}}if(b==7||b==6){CTeam.s_placementX=cGame.limit(d,-133888,133888);CTeam.s_placementY=cGame.limit(c,-84992,84992);if((CTeam.s_kickTeam.m_leftSide&&d<-528+cGame.PENALTY_X<<8)||(!CTeam.s_kickTeam.m_leftSide&&d>528-cGame.PENALTY_X<<8)){CTeam.s_placementX=(CTeam.s_kickTeam.m_leftSide?(-528+cGame.PENALTY_X<<8):(528-cGame.PENALTY_X<<8))}}if(b==2){CTeam.s_period=4}else{if(b==7&&(cGame.s_aiMode==10||cGame.s_aiMode==20)){CTeam.s_period=4;b=(CTeam.s_matchState=7)}else{if(CTeam.s_matchState==1&&cGame.s_aiMode!=6&&cGame.s_aiMode!=2&&cGame.s_aiMode!=20){GLLib.Dbg("GOAALLLLLLLLLLLLLLLLLLLLLLLLLLLLLL");if(!cGame.s_is_in_traininig10_mode){cGame.StopSound_dup_I(0);cGame.StopSound_dup_I(0)}if(!cGame.s_is_in_traininig10_mode){if(a==0){cGame.PlaySound_dup_II(cGame.sfx_goal_npc,false)}else{cGame.PlaySound_dup_II(cGame.sfx_goal_mc,false)}}}CTeam.s_period=0}}CTeam.s_ctrMatchState=0;CTeam.s_allowPass=(b!=8);CTeam.s_allowLongPass=(b!=1&&b!=2&&b!=3&&b!=8);CTeam.s_allowShoot=((b==8||b==7)&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.calShootRange());if(CPlayer.s_ballOwner!=null&&(b==7||b==6)&&cGame.s_aiMode!=20){cGame.setSpecialCamera_dup_ZActorZ(false,CPlayer.s_ballOwner,false)}CPlayer.clearFocus();CTeam.s_team0.m_needRefresh=false;CTeam.s_team1.m_needRefresh=false;CTeam.s_placementScreenCursorX=0;CTeam.s_placementScreenCursorY=0;CTeam.s_placementByCPU=(CTeam.s_kickTeam.m_type==1&&(CTeam.s_matchState==5||CTeam.s_matchState==3||CTeam.s_matchState==6||CTeam.s_matchState==7||CTeam.s_matchState==4));CTeam.s_isGKSavingPenalty=(CTeam.s_matchState==8);CTeam.s_savePenaltyDir=0;cGame.s_drawSupport=false;if(b==4||b==5||b==6||b==7||b==3){CPlayer.s_shootPlayer=null}if(b==9&&(cGame.s_whichHalf==2||cGame.s_whichHalf==4)){cGame.StopSound_dup_();if(cGame.canEndMatch()){cGame.PlaySound_dup_I(cGame.sfx_3_whistle_end)}else{cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}}if(b==20){CTeam.s_period=12;CTeam.s_periodSwitching=false;CTeam.s_ctrMatchState=0}CTeam.getReporterInfo(b);if(CTeam.s_matchState<=9){cGame.cpuSubInMatch_dup_();if(cGame.s_aiMode==13){cGame.balSubInMatch()}}};CTeam.getReporterInfo=function(a){GLLib.Dbg("getReporterInfo is not working!!!check it!");var b=0;switch(a){case 6:b=2;cGame.s_strIndex=902;cGame.s_strIndex+=cGame.random(0,b-1);if(cGame.s_strIndex==902+b-1){cGame.s_reporterStr=CTeam.randomComments();break}cGame.s_reporterStr=cGame.replaceString(cGame.GetString(cGame.s_strIndex),"~",cGame.playerName[CTeam.s_offsidePlayer.m_myTeam.m_ID][CTeam.s_offsidePlayer.m_Number]);break;case 7:b=5;cGame.s_strIndex=903;cGame.s_strIndex+=cGame.random(0,b-1);if(cGame.s_strIndex==903+b-1){cGame.s_reporterStr=CTeam.randomComments();break}cGame.s_reporterStr=cGame.GetString(cGame.s_strIndex);break;case 5:b=4;cGame.s_strIndex=897;cGame.s_strIndex+=cGame.random(0,b-1);if(cGame.s_strIndex==897+b-1){cGame.s_reporterStr=CTeam.randomComments();break}cGame.s_reporterStr=cGame.GetString(cGame.s_strIndex);if(cGame.s_strIndex==898){cGame.s_reporterStr=cGame.replaceString(cGame.s_reporterStr,"-",cGame.teamName[CTeam.s_kickTeamID]);break}break;case 4:b=2;cGame.s_strIndex=900;cGame.s_strIndex+=cGame.random(0,b-1);if(cGame.s_strIndex==900+b-1){cGame.s_reporterStr=CTeam.randomComments();break}cGame.s_reporterStr=cGame.GetString(cGame.s_strIndex);if(cGame.s_training_type!=2&&cGame.s_training_type!=3&&cGame.s_training_type!=4&&cGame.s_aiMode==2){cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow);break}break;case 3:b=2;cGame.s_strIndex=901;cGame.s_strIndex+=cGame.random(0,b-1);if(cGame.s_strIndex==901+b-1){cGame.s_reporterStr=CTeam.randomComments();break}cGame.s_reporterStr=cGame.GetString(cGame.s_strIndex);break;case 9:switch(cGame.s_whichHalf){case 1:b=0;break;case 2:b=(cGame.canEndMatch()?((CTeam.s_team0.m_goals!=CTeam.s_team1.m_goals)?1:2):3);if(b==3&&!cGame.s_haveExtraTime&&cGame.s_havePenShootout){b=5;break}break;case 3:b=(cGame.canEndMatch()?1:4);break;case 4:b=(cGame.canEndMatch()?((CTeam.s_team0.m_goals!=CTeam.s_team1.m_goals)?1:2):5);break;case 5:b=((CTeam.s_team0.m_goals!=CTeam.s_team1.m_goals)?6:2);break;case 6:b=7;break}cGame.s_strIndex=923;if(b==1||b==6){cGame.s_reporterStr=cGame.replaceString(cGame.GetString(cGame.s_strIndex+b),"~",cGame.teamName[CTeam.s_team0.m_goals<=CTeam.s_team1.m_goals?1:0])}if(b==0||b==2){cGame.s_reporterStr=cGame.replaceString(cGame.replaceString(cGame.replaceString(cGame.GetString(cGame.s_strIndex+b),"~",cGame.teamName[0]),"*",cGame.teamName[1]),"#",""+((CTeam.s_homeTeamID==0)?CTeam.s_team0.m_goals:CTeam.s_team1.m_goals)+" - "+((CTeam.s_homeTeamID==0)?CTeam.s_team1.m_goals:CTeam.s_team0.m_goals))}if(b==3||b==4||b==5){cGame.s_reporterStr=cGame.GetString(cGame.s_strIndex+b)}if(b==7){cGame.s_reporterStr=cGame.replaceString(cGame.GetString(cGame.s_strIndex+b),"~",cGame.teamName[CTeam.s_team0.m_goals>=CTeam.s_team1.m_goals?1:0]);break}break}};CTeam.randomComments=function(){var a=null;var c=cGame.random(0,1);if(c==0){if(CTeam.s_team0.m_goals-CTeam.s_team1.m_goals<=2||CTeam.s_team1.m_goals-CTeam.s_team0.m_goals<=2){cGame.s_strIndex=931;if(CTeam.s_team1.m_goals!=CTeam.s_team0.m_goals){a=cGame.replaceString(cGame.GetString(931),"~",cGame.teamName[CTeam.s_team1.m_goals<CTeam.s_team0.m_goals?1:0])}else{cGame.s_strIndex+=cGame.random(1,2);a=cGame.GetString(cGame.s_strIndex)}}else{cGame.s_strIndex=934;cGame.s_strIndex+=cGame.random(0,6);if(cGame.s_strIndex==934){a=cGame.replaceString(cGame.GetString(cGame.s_strIndex),"*",cGame.teamName[CTeam.s_team1.m_goals<CTeam.s_team0.m_goals?1:0])}else{if(cGame.s_strIndex<=936){a=cGame.replaceString(cGame.GetString(cGame.s_strIndex),"~",cGame.teamName[CTeam.s_team1.m_goals>=CTeam.s_team0.m_goals?1:0])}else{a=cGame.GetString(cGame.s_strIndex)}}}}else{cGame.s_strIndex=941;cGame.s_strIndex+=((CTeam.s_team1.m_goals!=CTeam.s_team0.m_goals)?cGame.random(0,1):0);if(cGame.s_btSide==1){cGame.s_strIndex=942}if(cGame.s_strIndex==942){a=cGame.replaceString(cGame.replaceString(cGame.GetString(cGame.s_strIndex),"*",cGame.teamName[CTeam.s_team1.m_goals>=CTeam.s_team0.m_goals?1:0]),"~",""+cGame.s_techStats[CTeam.s_team1.m_goals>=CTeam.s_team0.m_goals][0])}else{var b=cGame.random(0,1);a=cGame.replaceString(cGame.replaceString(cGame.GetString(cGame.s_strIndex),"~",cGame.teamName[b]),"*",""+((CTeam.s_teams[b].m_attackTime==0)?0:(gloft.casttoint(100*CTeam.s_teams[b].m_attackTime/(CTeam.s_team0.m_attackTime+CTeam.s_team1.m_attackTime)))))}}return a};CTeam.setAllPlayerStand=function(){for(var a=0;a<11;++a){if(a>=0||(CTeam.s_matchState!=1&&CTeam.s_matchState!=610)){CTeam.s_team0.m_players[a].stand(a>0);CTeam.s_team1.m_players[a].stand(a>0)}CTeam.s_team0.m_players[a].m_vX=0;CTeam.s_team0.m_players[a].m_vY=0;CTeam.s_team0.m_players[a].m_vZ=0;CTeam.s_team1.m_players[a].m_vX=0;CTeam.s_team1.m_players[a].m_vY=0;CTeam.s_team1.m_players[a].m_vZ=0}};CTeam.getPlayerInitalPosX=function(b){var a=gloft.casttoint(null);if(CTeam.s_kickTeamID==b.m_myTeam.m_ID){a=gloft.casttoint((b.m_formationGridX+16)*4/5)-16}else{a=gloft.casttoint((b.m_formationGridX+16)*2/3)-16}if(b.m_role!=0&&a<CTeam.FORBIDDEN_ZONE_RIGHT_GRID){a=CTeam.FORBIDDEN_ZONE_RIGHT_GRID}if(a>-3&&b.m_formationGridY>-3&&b.m_formationGridY<3){a=-3}else{if(a>-1){a=-1}}return b.m_myTeam.GridToPos(a)};CTeam.clearAll=function(){for(var h=0;h<2;++h){for(var g=0;g<11;++g){var q=CTeam.s_teams[h].m_players[g];if(q.m_doHumanWallJump){q.m_doHumanWallJump=false}CTeam.s_teams[h].m_haveNewOrder[g]=false;q.m_coachSetTacState=-1;q.m_tacState=-1;q.m_withBall=false;if(cGame.s_aiMode==2&&h==1&&g!=0){q.m_posX=0;q.m_posY=0;q.m_posZ=0}else{if(cGame.s_aiMode==9&&h==1&&cGame.s_dribbleDefenderNumber>0&&g!=0){q.m_posX=cGame.s_dribbleDefenderDefaultX[g];q.m_posY=cGame.s_dribbleDefenderDefaultY[g];q.m_posZ=0}else{q.m_posX=CTeam.getPlayerInitalPosX(q);q.m_posY=CTeam.s_teams[h].GridToPos(q.m_formationGridY);q.m_posZ=0}if(cGame.s_aiMode==6){if(CTeam.s_newTutorialPersonNum==1){if((h==1&&g!=0&&g!=10&&g!=9&&g!=8)||(h==0&&g!=10)){q.m_court=1}else{q.m_court=0;if(h==1){if(g==10){q.m_posX=17920;q.m_posY=0}else{if(g==9){q.m_posX=46080;q.m_posY=0}else{if(g==8){q.m_posX=76800;q.m_posY=0}}}}else{var m=q;var n=q;var o=false;n.m_posY=(o?1:0);m.m_posX=(o?1:0)}}}else{if(CTeam.s_newTutorialPersonNum==2){if((h==1&&g!=0)||(h==0&&g!=9&&g!=10)){q.m_court=1}else{if(h==0&&g==9){q.m_court=0;if(CTeam.s_newtutorialStep==16){q.m_posX=12800;q.m_posY=-10240}else{if(CTeam.s_newtutorialStep==14||CTeam.s_newtutorialStep==31||(CTeam.s_newtutorialStep==44&&CTeam.oldStepInFail==14)){q.m_posX=28160;q.m_posY=-10240}else{q.m_posX=528-cGame.PENALTY_X<<8;q.m_posY=7680}}}}}else{if(CTeam.s_newTutorialPersonNum==3){if(h==0&&g==9){q.m_posX=528-cGame.PENALTY_X+10<<8;q.m_posY=0}if(h==0&&g==8){q.m_posX=528-cGame.PENALTY_X+30<<8;q.m_posY=81152;q.m_court=0}}else{if(CTeam.s_newTutorialPersonNum==4){if(h==1&&(g==9||g==0)){if(g==9){q.m_posX=0;q.m_posY=0}}else{if(h==0){if(g==10){q.m_posX=12800;q.m_posY=-10240}else{if(g==9){q.m_posX=12800;q.m_posY=10240}else{if(g==8){q.m_posX=-12800;q.m_posY=-10240}}}}else{q.m_court=1}}}else{if(CTeam.s_newtutorialStep==33){if(h==0&&g==9){q.m_posX=-10240;q.m_posY=2560}else{q.m_posX=102400;q.m_posY=0}}q.m_court=0}}}}}else{if(cGame.s_aiMode==9||cGame.s_aiMode==20){q.m_court=1;if(h==0&&g==cGame.s_menuSelectPlayerID){q.m_court=0}}else{if(cGame.s_aiMode==10){q.m_court=1;if((h==0&&g==cGame.s_menuSelectPlayerID)||(h==1&&g==0)){q.m_court=0}}else{if(cGame.s_aiMode==15){q.m_court=1;if(h==0&&g==cGame.s_menuSelectPlayerID){q.m_court=0}}}}}}q.set_directDir((h==0)?2:6)}}var f=20000;var e=20000;var p=[[-16000,21000],[-28000,0],[-16000,-21000],[-56000,0],[16000,-21000],[28000,0],[16000,21000],[56000,0]];if(cGame.s_aiMode!=6){for(var d=0;d<2;++d){for(var c=0;c<((d==CTeam.s_kickTeamID)?2:4);++c){var a=CTeam.getNextPlayerID(d,((d==CTeam.s_kickTeamID)?8:10)-c,2,-1);if(a!=-1){CTeam.s_teams[d].m_players[a].stand(true);CTeam.s_teams[d].m_players[a].m_posX=p[((d!=CTeam.s_leftTeamID)?1:0)*4+c][0];CTeam.s_teams[d].m_players[a].m_posY=p[((d!=CTeam.s_leftTeamID)?1:0)*4+c][1]}}}}CTeam.setAllPlayerStand();CTeam.s_team0.initCommandList();CTeam.s_team1.initCommandList();if(CPlayer.s_ballOwner!=null){CPlayer.s_ballOwner.loseBall()}CPlayer.s_ballFastOwner=null;CPlayer.clearBallReceivers();CTeam.s_potentialPlayer=null;Actor.s_ball_heldbyplayer=false;CTeam.s_has_humanwall_builded=false;CTeam.s_potentialLongPassPlayer=null;CTeam.s_potentialLongPassByPosPlayer=null;CTeam.s_team0.m_morale=0;CTeam.s_team1.m_morale=0};CTeam.getNextPlayerID=function(c,e,d,b){for(var a=e;a!=d;a+=b){if(CTeam.s_teams[c].m_players[a].m_court==0){return a}}return -1};CTeam.drawGoalKickPlayer=function(){cGame.drawSpecialPlayerName(CTeam.s_kickPlayer,false);if(CTeam.s_kickTeam.m_type==0){if(CTeam.s_potentialPlayer!=null){cGame.drawSpecialPlayerName(CTeam.s_potentialPlayer,false)}}else{cGame.drawSpecialPlayerName(CTeam.s_kickPlayer.m_myTeam.m_players[CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayer.m_Number-1,0,-1)],false)}};CTeam.updatePlacement=function(){CTeam.s_matchStateChanged=(CTeam.s_matchLastState!=CTeam.s_matchState||CTeam.s_Lastperiod!=CTeam.s_period);if(CTeam.s_matchStateChanged){CTeam.s_mathePreState=CTeam.s_matchLastState}CTeam.s_matchLastState=CTeam.s_matchState;CTeam.s_Lastperiod=CTeam.s_period;++CTeam.s_ctrMatchState;Label_15179:{switch(CTeam.s_matchState){case 0:if(cGame.s_whichHalf==5&&GLLib.s_game_currentFrameNB>CTeam.s_penaltyEndTime){if(cGame.s_aiMode==15){return true}Actor.netTag=false;if(CTeam.s_penaltySuccessful){var bj=CTeam.s_teams[CTeam.s_shootoutRound%2];++bj.m_goals;cGame.recordGoalInfo(CTeam.s_leftTeamID)}CTeam.s_shootoutResult[CTeam.s_shootoutRound%10]=CTeam.s_penaltySuccessful;var F=2;if(CTeam.s_shootoutRound<10){var ao=CTeam.s_penaltySuccessful;for(var ai=CTeam.s_shootoutRound+1;ai<10;++ai){CTeam.s_shootoutResult[ai]=ao;ao=!ao}var c=0;var am=0;for(var ah=0;ah<10;++ah){if(CTeam.s_shootoutResult[ah]){if(ah%2==CTeam.s_kickTeamID){++c}else{++am}}}if(cGame.s_isLocalPenalty){if(CTeam.s_shootoutRound<9){F=2}else{cGame.endMatch()}}else{if(CTeam.s_penaltySuccessful){if(c>am){F=CTeam.s_kickTeamID}}else{if(c<am){F=1-CTeam.s_kickTeamID}}}}else{if(CTeam.s_shootoutRound%2==1&&CTeam.s_shootoutResult[CTeam.s_shootoutRound%10]!=CTeam.s_shootoutResult[CTeam.s_shootoutRound%10-1]){if(CTeam.s_penaltySuccessful){F=CTeam.s_kickTeamID}else{F=1-CTeam.s_kickTeamID}}}if(F==2){CTeam.s_leftTeamID=1-CTeam.s_leftTeamID;CTeam.s_team0.m_leftSide=!CTeam.s_team0.m_leftSide;CTeam.s_team1.m_leftSide=!CTeam.s_team1.m_leftSide;CTeam.setMatchState_dup_IIII(8,CTeam.s_leftTeamID,cGame.RIGHT_PENALTY_POINT_3D_X<<8,cGame.RIGHT_PENALTY_POINT_3D_Y<<8)}else{if(cGame.s_bChallengeModeOn){cGame.setStageStateWhenStopMatch()}CTeam.setMatchState_dup_IIII(9,CTeam.s_leftTeamID,Actor.s_football.m_posX,Actor.s_football.m_posY);cGame.menuStatusAfterLoad=106;if(cGame.s_gameRunTime<255){++cGame.s_gameRunTime}}++CTeam.s_shootoutRound;cGame.PenaltyCageCell_x=-1;cGame.PenaltyCageCell_y=-1}return false;case 9:switch(CTeam.s_period){case 0:if(Actor.s_football.m_vX==0&&Actor.s_football.m_vY==0&&!CTeam.s_sideCelebration){cGame.setSpecialCamera_dup_ZIIII(false,cGame.X0,cGame.Y4+360,3+IPortable.CAMERA_SPEED_HALFEND,-1)}if(CTeam.s_ctrMatchState>=5&&CPlayer.s_ballOwner!=null){CPlayer.s_ballOwner.loseBall();Actor.putBallOnGround(Actor.s_football.m_posX,Actor.s_football.m_posY)}if(CTeam.s_ctrMatchState==35&&cGame.canEndMatch()){if(cGame.s_matchMode!=11&&cGame.s_matchMode!=0){if(cGame.isWin()){if(!cGame.IsSoundPlaying(cGame.m_outro)){cGame.PlaySound_dup_I(cGame.m_outro)}}else{if(!cGame.s_trainingLab){if(!cGame.IsSoundPlaying(cGame.m_outro)){cGame.PlaySound_dup_I(cGame.m_outro)}}}}else{if(!cGame.IsSoundPlaying(cGame.m_outro)){cGame.PlaySound_dup_I(cGame.m_outro)}}}if(cGame.s_matchMode==11){if(CTeam.s_ctrMatchState==35&&!cGame.IsSoundPlaying(cGame.m_outro)){cGame.PlaySound_dup_I(cGame.sfx_3_whistle_end);cGame.PlaySound_dup_II(cGame.m_outro,!true)}}else{if(CTeam.s_ctrMatchState>=250&&!cGame.IsSoundPlaying(cGame.m_outro)){}}if(CTeam.s_ctrMatchState>=500||(cGame.s_isForPlayerActionRelease&&CTeam.s_ctrMatchState>=80)){if(cGame.s_isForPlayerActionRelease&&CTeam.s_ctrMatchState>=80){cGame.PlaySound_dup_I(cGame.sfx_ui_select)}cGame.continueMatch()}return false;default:break Label_15179}break;case 18:if(!cGame.s_isCinematicRunning){break}break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 20:CTeam.s_kickTeam.calGridCoordinates();switch(CTeam.s_period){case 0:if(cGame.s_aiMode==6&&CTeam.s_matchState==1){if(CTeam.s_isShootTaskOver&&(CTeam.s_newtutorialStep==11||(CTeam.s_isCurveshoot&&CTeam.s_newtutorialStep==29))){if(CTeam.s_ctrMatchState==19){CTeam.s_taskFinish=true;CTeam.s_isShootTaskOver=false}}else{if(CTeam.s_newtutorialStep!=33&&CTeam.s_newtutorialStep!=41&&CTeam.s_newtutorialStep!=9&&CTeam.s_needDrawRetry){if(CTeam.s_ctrMatchState==20){CTeam.s_needDrawRetry=true}CTeam.s_matchState=2;CTeam.s_ctrMatchState=230}else{if(!CTeam.s_needDrawRetry){CTeam.s_isShootTaskOver=false;CTeam.s_canThroughInTutorial=false;CTeam.s_isCurveshoot=false;CTeam.s_matchState=2;CTeam.s_ctrMatchState=230}}}}else{if(cGame.s_aiMode==2&&CTeam.s_matchState==1&&CTeam.s_ctrMatchState>=20){CTeam.s_matchState=2;CTeam.s_ctrMatchState=230}}if(CTeam.s_matchState==7||CTeam.s_matchState==6){if(CTeam.s_ctrMatchState>=57){CTeam.s_ctrMatchState=230}}else{if(CTeam.s_matchState==8&&cGame.s_whichHalf!=5){if(CTeam.s_ctrMatchState>=57){CTeam.s_ctrMatchState=230;if(CTeam.s_injuredPlayer!=null){CTeam.s_injuredPlayer=null}}}else{if(CTeam.s_matchState==8&&cGame.s_whichHalf==5&&CTeam.s_shootoutRound!=0){if(CTeam.s_ctrMatchState>=57){CTeam.s_ctrMatchState=230}}else{if(CTeam.s_matchState==1&&cGame.s_aiMode!=6){if(CTeam.s_ctrMatchState>=10&&(cGame.haveKeyPressed_dup_II(11,2)||cGame.haveKeyPressed_dup_II(19,2))){CTeam.s_ctrMatchState=230;cGame.tmp_score_goal=3;cGame.StopSound_dup_();cGame.PlaySound_dup_I(cGame.sfx_ui_select)}else{if(CTeam.s_ctrMatchState>=172&&!CTeam.s_sideCelebration){CTeam.s_ctrMatchState=230}}}else{if(CTeam.s_matchState!=1&&((cGame.s_isPenaltyMode&&CTeam.s_ctrMatchState>1)||CTeam.s_ctrMatchState>=28)){CTeam.s_ctrMatchState=230}}}}}if(CTeam.s_ctrMatchState==230&&!CTeam.s_periodSwitching){if(CTeam.s_matchState==7||CTeam.s_matchState==6||(CTeam.s_matchState==8&&cGame.s_whichHalf!=5)){CTeam.setPeriodSwitch(1)}else{if(CTeam.s_matchState==2||CTeam.s_matchState==1||(CTeam.s_matchState==8&&cGame.s_isPenaltyMode)||(CTeam.s_matchState==8&&cGame.s_bChallengeModeOn)){CTeam.s_period=4}else{CTeam.s_period=3;cGame.splashVarToZero()}}CTeam.s_ctrMatchState=0;if(CTeam.s_matchState==7||CTeam.s_matchState==6){cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_camX,cGame.s_camY,0,0)}else{if(CTeam.s_matchState==8){CTeam.s_ctrMatchState=0}}}if(CTeam.s_ctrMatchState>=5&&CPlayer.s_ballOwner!=null&&cGame.s_whichHalf!=5&&!Actor.s_ball_heldbygk){CPlayer.s_ballOwner.loseBall();Actor.putBallOnGround(Actor.s_football.m_posX,Actor.s_football.m_posY)}return false;case 1:if(CTeam.s_periodSwitching){if(CTeam.s_ctrMatchState==1){if(CTeam.s_matchState==6){if(CTeam.s_offsidePlayer!=null){Actor.s_side_referee[Actor.T_REFEREE].refereeOffside();Actor.s_side_referee[Actor.B_REFEREE].refereeOffside()}}else{var bf=false;var bk=0;if(CTeam.s_foulPlayer!=null){if(CTeam.s_foulPlayer.m_showCard==0){Actor.s_referee.setAction_dup_IZZ((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?11:9,true,false);bk=-5120;bf=true}else{if(CTeam.s_foulPlayer.m_showCard==1){if(CTeam.s_matchState==7&&CTeam.s_foulPlayer.m_card>1){Actor.s_referee.setAction_dup_IZZ(7,true,false)}else{Actor.s_referee.setAction_dup_IZZ(5,true,false)}bk=5120}else{if(CTeam.s_foulPlayer.m_showCard==2){Actor.s_referee.setAction_dup_IZZ(2,true,false);bk=5120}}}}else{Actor.s_referee.setAction_dup_IZZ((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?11:9,true,false);bk=-5120}if(CTeam.s_matchState==7){Actor.s_referee.m_posX=CTeam.s_foulPlayer.m_posX+(bf?0:bk);Actor.s_referee.m_posY=CTeam.s_foulPlayer.m_posY+bk}else{Actor.s_referee.m_posX=CTeam.s_placementX;Actor.s_referee.m_posY=CTeam.s_placementY+bk;if(CTeam.s_matchState==8&&cGame.s_whichHalf!=5&&CTeam.s_foulPlayer!=null&&!bf){CTeam.s_foulPlayer.m_posX=CTeam.s_placementX;CTeam.s_foulPlayer.m_posY=CTeam.s_placementY}}}if(CTeam.s_matchState==6){cGame.setSpecialCamera_dup_ZActorZ(true,Actor.s_side_referee[Actor.s_football.m_posX>0?1:0],false)}else{cGame.setSpecialCamera_dup_ZActorZ(true,Actor.s_referee,false)}cGame.updateCamera(true);CTeam.getReporterInfo(CTeam.s_matchState)}if(CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_card>1){var V=CTeam.s_foulPlayer.m_myTeam.m_ID;var bl=0;for(var ai=0;ai<11;++ai){if(CTeam.s_teams[V].m_players[ai].m_court!=0){++bl}}if(bl>3){CTeam.s_teams[V].m_goals=0;CTeam.s_teams[1-V].m_goals=3;cGame.s_whichHalf=6;CTeam.setMatchState_dup_IIII(9,CTeam.s_leftTeamID,Actor.s_referee.m_posX,Actor.s_referee.m_posY);CTeam.s_foulPlayer.m_showCard=0}}}else{GLLib.Dbg("HHHHHHHHHHHHHHHHHHHHHH");if(CPlayer.s_curCardFoul>0&&CTeam.s_ctrMatchState==20){cGame.PlaySound_dup_I(cGame.sfx_crowd_negative_01+Math.round(Math.random()))}CTeam.s_isFoulCounterEnable=true;if(cGame.haveKeyPressed_dup_II(11,2)||cGame.haveKeyPressed_dup_II(19,2)){CTeam.s_ctrMatchState=37;cGame.splashVarToZero();if(CTeam.s_foulPlayer!=null){CTeam.s_foulPlayer.m_myTeam.deleteAllCommand(CTeam.s_foulPlayer.m_Number)}Actor.s_ball_heldbyplayer=false}if((CTeam.s_ctrMatchState>=37&&(Actor.s_referee.m_actionOver||CTeam.s_matchState==6))||CTeam.s_isFoulCounter>100){GLLib.Dbg("XXXXXXXXXXXXXXXXXXXXXXXXXX");if(CTeam.s_matchState<=9&&cGame.s_playerChanged!=-1&&cGame.haveSubstitution()){CTeam.s_period=12;CTeam.s_Nextperiod=4}else{CTeam.setPeriodSwitch(4)}CTeam.s_ctrMatchState=0;CTeam.s_isFoulCounterEnable=false;CTeam.s_isFoulCounter=0}}return false;case 2:Actor.s_referee.m_posX=384000;Actor.s_referee.m_posY=384000;var az=false;var ap=false;Actor.s_coach.m_posX=((CTeam.s_team0.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach2.m_posX=((CTeam.s_team1.m_ID==CTeam.s_leftTeamID)?-12288:12288);Actor.s_coach.m_posY=-91392;if(!CTeam.s_periodSwitching&&CTeam.s_ctrMatchState==1){if(CTeam.s_matchState==1){cGame.pos3DTo2D(0,Actor.s_coach.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(true,cGame.s_pos2Dx,cGame.s_pos2Dy,-1,-1);cGame.updateCamera(true);if(cGame.random(0,1)==0){Actor.s_coach.setAction_dup_IZ(9,false);Actor.s_coach2.setAction_dup_IZ(6,false);cGame.s_reporterStr=cGame.GetString(914)}else{Actor.s_coach.setAction_dup_IZ(18,false);Actor.s_coach2.setAction_dup_IZ(4,false);cGame.s_reporterStr=cGame.GetString(915)}cGame.splashVarToZero()}else{if(CTeam.s_kickTeamID==CTeam.s_team0.m_ID){if(CTeam.s_injuredPlayer==null){CTeam.s_ctrMatchState=50}else{Actor.s_coach.setAction_dup_IZ(12,false);Actor.s_coach2.setAction_dup_IZ(6,false);cGame.s_reporterStr=cGame.GetString(916);ap=true;az=true;cGame.splashVarToZero()}}else{if(CTeam.s_foulPlayer!=null&&CTeam.s_foulPlayer.m_showCard==0){CTeam.s_ctrMatchState=50}else{ap=true;var av=10+cGame.random(0,1);var aP=4;if(CTeam.s_foulPlayer!=null){if(CTeam.s_foulPlayer.m_showCard==1){av=15;aP=11}else{if(CTeam.s_foulPlayer.m_showCard==2){av=17}}}else{if(CTeam.s_offsidePlayer!=null){av=14}}switch(av){case 10:case 11:cGame.s_reporterStr=cGame.GetString(919+((cGame.random(0,6)>0)?1:0));break;case 17:cGame.s_reporterStr=cGame.GetString(917);break;case 14:cGame.s_reporterStr=cGame.GetString(918);break;case 18:cGame.s_reporterStr=cGame.GetString(922);break}Actor.s_coach.setAction_dup_IZ(av,true);Actor.s_coach2.setAction_dup_IZ(aP,true);cGame.splashVarToZero()}az=true}if(ap){var C=(CTeam.s_team0.m_ID==CTeam.s_leftTeamID)?-7680:7680;cGame.pos3DTo2D(0,Actor.s_coach.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(true,cGame.s_pos2Dx,cGame.s_pos2Dy,-1,-1);cGame.updateCamera(true)}}}Actor.s_menuPlayer.updatePlayerAI();if(!CTeam.s_periodSwitching&&(cGame.haveKeyPressed_dup_II(18,2)||cGame.haveKeyPressed_dup_II(11,2))){CTeam.s_ctrMatchState=50}if(CTeam.s_ctrMatchState==50){if(CTeam.s_matchState==1){cGame.setNormalCamera(true);cGame.updateCamera(true);CTeam.s_ctrMatchState=10000;CTeam.s_period=5;cGame.setFade(1,255,100);cGame.splashVarToZero();if(cGame.s_stateCurrent==26&&cGame.s_aiMode!=0&&cGame.s_aiMode!=7&&cGame.s_aiMode==13){}}else{CTeam.setPeriodSwitch(4);CTeam.s_ctrMatchState=0}}if(CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==0){cGame.setNormalCamera(true);cGame.updateCamera(true)}return false;case 12:if(!CTeam.s_periodSwitching&&CTeam.s_ctrMatchState==1){Actor.s_referee.m_posX=0;Actor.s_referee.m_posY=-91392;Actor.s_menuPlayer.m_posX=gloft.casttoint(((cGame.s_playerChanged==CTeam.s_leftTeamID)?-8960:8960)/2);Actor.s_menuPlayer.m_posY=-91392;var r=Actor.s_menuPlayer;var ar=Actor.s_menuPlayer;var an=false;ar.m_vY=(an?1:0);r.m_vX=(an?1:0);cGame.setSpecialCamera_dup_ZActorZ(true,Actor.s_referee,false);cGame.updateCamera(true);Actor.s_referee.setAction_dup_IZ(10,false);Actor.s_menuPlayer.setAction_dup_IZZ(291,true,false);Actor.s_menuPlayer.m_flipX=false;var bg=(cGame.s_playerChanged==2)?0:cGame.s_playerChanged;var ba=CTeam.s_teams[bg].m_players[cGame.s_subsPair[6*bg+5-cGame.s_subsLeft[bg]]];if(ba==CPlayer.s_ballOwner){ba.loseBall()}ba.stand(true);ba.m_myTeam.deleteCommand(ba.m_Number);if(cGame.random(0,9)<5){ba.m_posX=2560;ba.m_posY=-73472;ba.m_coachSetTacState=29;ba.m_destReached=false}else{ba.m_posX=-17920;ba.m_posY=-58112;ba.m_coachSetDestGridX=-2;ba.m_coachSetDestGridY=-11;ba.m_coachSetTacState=30;ba.m_destReached=false}for(var ag=0;ag<2;++ag){for(var ae=0;ae<11;++ae){if(CTeam.s_teams[ag].m_players[ae].m_card>1){CTeam.s_teams[ag].m_players[ae].m_court=1}}}CTeam.s_teams[bg].m_haveNewOrder[cGame.s_subsPair[6*bg+5-cGame.s_subsLeft[bg]]]=true;cGame.splashVarToZero()}if(CTeam.s_ctrMatchState==75){CTeam.execChangePlayer();CTeam.setPeriodSwitch(4);CTeam.s_ctrMatchState=0}if(CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==0){cGame.pos3DTo2D(CTeam.s_placementX,CTeam.s_placementY,0);cGame.setSpecialCamera_dup_ZIIII(true,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);cGame.updateCamera(true)}Actor.s_menuPlayer.updatePlayerAI();return false;case 3:if(CTeam.s_matchState==8&&cGame.s_whichHalf==5){CTeam.s_ctrMatchState=50}if(CTeam.s_ctrMatchState==50){if(CTeam.s_matchState<=9&&cGame.s_playerChanged!=-1&&cGame.haveSubstitution()){CTeam.setPeriodSwitch(12)}else{CTeam.s_period=4}CTeam.s_ctrMatchState=0}return false;case 4:if((CTeam.s_matchState==1||(CTeam.s_matchState==4&&cGame.s_needReplay))&&cGame.s_aiMode!=2&&!CTeam.s_replayFinish){if(CTeam.s_matchState==1){var aZ=0;var aX=0;var bd=0;var bc=0;if(Actor.s_football.m_posX<0){var aD=aZ;aZ=bd;bd=aD;aD=aX;aX=bc;bc=aD}cGame.setSpecialCamera_dup_ZIIII(true,aZ,aX,0,-1);cGame.updateCamera(true);cGame.setSpecialCamera_dup_ZIIII(false,bd,bc,3,-1);cGame.s_reporterStr=null;var s=4;cGame.s_strIndex=909;cGame.s_strIndex+=cGame.random(0,s-1);cGame.splashVarToZero();cGame.getCurSoccer();cGame.s_currIndexOfReplay=cGame.s_startIndexOfReplay;cGame.s_autoReplay=true;cGame.s_isGamePaused=true;cGame.SwitchState(27);Actor.s_referee.m_posX=384000;Actor.s_referee.m_posY=384000;Actor.s_ctrFutureBallFrameInFloat=0;cGame.setFade(1,255,100)}else{cGame.s_currIndexOfReplay=cGame.s_startIndexOfReplay;cGame.s_autoReplay=true;cGame.s_isGamePaused=true;cGame.SwitchState(27)}return true}CTeam.s_replayFinish=false;cGame.s_needReplay=false;cGame.s_startIndexOfReplay=0;cGame.s_endIndexOfReplay=0;cGame.s_haveSavedReplay=false;Actor.netTag=false;if(((CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==0)||!CTeam.s_periodSwitching)&&CTeam.s_foulPlayer!=null){if(CTeam.s_foulPlayer.m_card>1){CTeam.s_foulPlayer.m_court=1;CTeam.s_foulPlayer.m_foulOutTime=cGame.getCurrMatchTime();cGame.s_redCardPlayer=CTeam.s_foulPlayer}CTeam.s_foulPlayer.m_showCard=0;CTeam.s_foulPlayer=null}if((CTeam.s_matchState<=9||CTeam.s_matchState==20)&&cGame.s_playerChanged!=-1){Actor.s_referee.m_posX=384000;Actor.s_referee.m_posY=384000;if(CTeam.s_matchState==1&&cGame.haveSubstitution()){cGame.s_saveMatchState=1;cGame.s_computeChange=false;CTeam.setMatchState_dup_I(20);return true}if(!cGame.haveSubstitution()){cGame.s_saveMatchState=-1}for(var ad=0;ad<2;++ad){if(cGame.s_playerChanged!=2){ad=cGame.s_playerChanged}for(var aQ=0;aQ<cGame.s_lastSubsLeft[ad]-cGame.s_subsLeft[ad];++aQ){cGame.s_subsIndex=aQ;var K=cGame.s_subsPair[6*ad+aQ+6-cGame.s_lastSubsLeft[ad]];var ab=CTeam.s_teams[ad].m_players[K];if(ab.m_Number!=0){ab.m_posX=CTeam.s_teams[ad].GridToPos(ab.m_defaultGridX);ab.m_posY=CTeam.s_teams[ad].GridToPos(ab.m_defaultGridY)}else{ab.m_posX=(ab.m_myTeam.m_leftSide?-478:478)<<8;ab.m_posY=0}var aT=Actor.s_football.m_posX-ab.m_posX;var aR=Actor.s_football.m_posY-ab.m_posY;ab.m_dirToBall=CPlayer.dirTo(aT,aR);ab.m_disToBall=cGame.fastDistance(aT,aR);ab.m_myTeam.deleteAllCommand(ab.m_Number)}for(var aQ=0;aQ<11;++aQ){CTeam.s_teams[ad].m_players[aQ].initProperties_dup_Z(true)}cGame.s_lastSubsLeft[ad]=cGame.s_subsLeft[ad];if(cGame.s_playerChanged!=2){ad=2}}cGame.s_playerChanged=-1;if(cGame.s_saveMatchState!=-1){CTeam.s_matchState=cGame.s_saveMatchState;CTeam.s_allowPass=(CTeam.s_matchState!=8);CTeam.s_allowLongPass=(CTeam.s_matchState!=1&&CTeam.s_matchState!=2&&CTeam.s_matchState!=3&&CTeam.s_matchState!=8);CTeam.s_allowShoot=((CTeam.s_matchState==8||CTeam.s_matchState==7)&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.calShootRange());cGame.s_saveMatchState=-1;CTeam.s_periodSwitching=false}}CTeam.s_team0.setFocusPlayer(true);if(CTeam.s_matchState==3||CTeam.s_matchState==4){CTeam.initPlacementPos(40)}else{if(CTeam.s_matchState==8){CTeam.initPlacementPos(0)}}Actor.putBallOnGround(CTeam.s_placementX,CTeam.s_placementY);if(CTeam.s_matchState==1||CTeam.s_matchState==2){if(CTeam.s_isGoalFormationChange){CTeam.s_isGoalFormationChange=false;cGame.s_isCPUStyleChanged=true}CTeam.clearAll();if(cGame.s_aiMode==6&&CTeam.s_isChangeInitPos){if(CTeam.s_newTutorialPersonNum==3){CTeam.s_placementX=CTeam.s_team0.m_players[8].m_posX;CTeam.s_placementY=CTeam.s_team0.m_players[8].m_posY;CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,8,-1,-1)}else{if(CTeam.s_newTutorialPersonNum==2){CTeam.s_placementX=0;CTeam.s_placementY=0;CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,9,-1,-1)}else{if(CTeam.s_newTutorialPersonNum==4){CTeam.s_placementX=CTeam.s_team1.m_players[9].m_posX;CTeam.s_placementY=CTeam.s_team1.m_players[9].m_posY;CTeam.s_kickPlayerID=CTeam.getNextPlayerID(1,9,-1,-1);CTeam.s_kickTeam=CTeam.s_team1}}}Actor.putBallOnGround(CTeam.s_placementX,CTeam.s_placementY)}else{if(cGame.s_aiMode==9){CTeam.s_placementX=cGame.s_training_challenge_dribble_x;CTeam.s_placementY=cGame.s_training_challenge_dribble_y;CTeam.adjustTrainingKicker(7);for(var ai=0;ai<2;++ai){for(var at=0;at<11;++at){var a8=CTeam.s_teams[ai].m_players[at];if((ai==0&&at==cGame.s_dribble_playerID)||(cGame.s_dribbleHaveGK&&ai==1&&at==0)||(cGame.s_dribbleHaveDefender&&ai==1&&at<=cGame.s_dribbleDefenderNumber&&at>0)){a8.m_court=0;if(ai==0&&at==cGame.s_dribble_playerID){var u=a8;var be=a8;var a7=false;be.m_posY=(a7?1:0);u.m_posX=(a7?1:0)}}else{a8.m_court=1}}}}else{CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,10,-1,-1)}}if(cGame.s_aiMode!=9){CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID]}if((cGame.s_aiMode!=10&&cGame.s_aiMode!=20&&cGame.s_aiMode!=9&&cGame.s_aiMode!=6)||CTeam.s_newTutorialPersonNum>=11){if(cGame.s_stateCurrent==26&&(cGame.s_aiMode==0||cGame.s_aiMode==7||cGame.s_aiMode==13||cGame.s_aiMode==2||cGame.s_aiMode==3)){if((CTeam.s_ctrMatchState<=1||CTeam.s_ctrMatchState==10000||CTeam.s_ctrMatchState==10001)&&!CTeam.s_periodSwitching){cGame.StopSound_dup_()}if(cGame.s_stateLast==27||!cGame.s_cinematicsSkip){cGame.SND_StopSound(cGame.m_intro);cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}else{cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}}CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?1280:-1280);CTeam.s_kickPlayer.set_currDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?0:4);var N=CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayerID-1,-1,-1);if(cGame.s_aiMode!=9){CTeam.s_kickTeam.m_players[N].m_posX=0;CTeam.s_kickTeam.m_players[N].m_posY=((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?-7424:10496);CTeam.s_kickTeam.m_players[N].set_currDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?4:0);CTeam.s_kickOffPlayerID=N}if(CTeam.s_kickTeam.m_leftSide&&((cGame.s_aiMode!=6&&cGame.s_aiMode!=9&&cGame.s_aiMode!=10&&cGame.s_aiMode!=20)||CTeam.s_newtutorialStep>12)){var bh=CTeam.getNextPlayerID(1-CTeam.s_kickTeamID,10,-1,-1);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[bh].m_posX=(CTeam.s_kickTeam.m_leftSide?15872:-15872);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[bh].m_posY=(CTeam.s_kickTeam.m_leftSide?-20992:20992);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[bh].set_currDir(CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[bh].m_dirToBall);N=CTeam.getNextPlayerID(1-CTeam.s_kickTeamID,bh-1,-1,-1);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_posX=(CTeam.s_kickTeam.m_leftSide?25600:-25600);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_posY=(CTeam.s_kickTeam.m_leftSide?-9984:9984);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].set_currDir(CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_dirToBall);N=CTeam.getNextPlayerID(1-CTeam.s_kickTeamID,N-1,-1,-1);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_posX=(CTeam.s_kickTeam.m_leftSide?28160:-28160);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_posY=((CTeam.s_kickTeam.m_leftSide&&false)?1:0);CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].set_currDir(CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[N].m_dirToBall)}}else{if(cGame.s_aiMode==9){CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;var G=CTeam.getFirstGuideID();if(G!=-1){cGame.s_training_challenge_dribble_start_dir=CPlayer.dirTo(Actor.s_actors[G].m_posX-cGame.s_training_challenge_dribble_x,Actor.s_actors[G].m_posY-cGame.s_training_challenge_dribble_y)}CPlayer.parseVector_dup_II(1280,cGame.s_training_challenge_dribble_start_dir);Actor.putBallOnGround(CTeam.s_placementX+CPlayer.s_vectorX,CTeam.s_placementY+CPlayer.s_vectorY);CTeam.s_kickPlayer.set_directDir(cGame.s_training_challenge_dribble_start_dir)}else{CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?-1280:0);CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?0:-1280);CTeam.s_kickPlayer.set_directDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?2:4)}}}else{if(CTeam.s_matchState==3){cGame.setFade(1,255,100);var aC=CTeam.s_kickTeam.PosToGrid(CTeam.s_placementX);var aB=CTeam.s_kickTeam.PosToGrid(CTeam.s_placementY);if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD TO GOLDEN WAY PART3----------->>>");CTeam.s_kickPlayerID=8}else{CTeam.s_kickPlayerID=CTeam.s_kickTeam.findNearstPlayer(aC,aB,true);if(CTeam.s_kickPlayerID==0){CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeam.m_ID,1,10,-1)}}CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID];CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;CTeam.s_kickPlayer.set_currDir((CTeam.s_placementY<0)?4:0);Actor.s_football.m_posZ=20480;Actor.s_football.m_vX=0;Actor.s_football.m_vY=0;Actor.s_football.m_vZ=0;Actor.s_ball_heldbyplayer=true;CTeam.s_kickPlayer.m_doHumanWallJump=false;CTeam.s_kickPlayer.doStand();if(CTeam.s_kickPlayer==CPlayer.s_legendPlayer){CTeam.s_placementByCPU=false}}else{if(CTeam.s_matchState==4){for(var ai=0;ai<2;++ai){for(var at=0;at<11;++at){CTeam.s_teams[ai].m_players[at].m_doHumanWallJump=false}}CTeam.s_kickPlayerID=0;CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID];CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?-5120:5120);CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;CTeam.s_kickPlayer.set_directDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?2:6)}else{if(CTeam.s_matchState==5){if(cGame.s_aiMode!=2&&cGame.s_speedines_rate==1){}cGame.StopSound_dup_();cGame.PlaySoundDelayed(cGame.sfx_1_whistle_blow,1,5);CTeam.updateInfo();if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD TO GOLDEN WAY PART0----------->>>");CTeam.s_kickPlayerID=8}else{CTeam.s_kickPlayerID=CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,4,null,false)}CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID];CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+((CTeam.s_placementY<0)?-5120:3840);CTeam.s_kickPlayer.set_currDir((CTeam.s_placementY<0)?4:0);CTeam.s_kickTeam.m_offsideGridX=16;var bm=CTeam.s_kickTeam.m_goals-CTeam.s_kickTeam.m_opTeam.m_goals;var aY=(bm>=2)?4:((bm==1)?5:((bm==0)?6:7));var aS=(bm>=0)?8:9;if(!CTeam.s_hasSetPlayerPos){CTeam.initCTPlayerPosByGrid(true,aY,aS);CTeam.s_hasSetPlayerPos=true}if(CTeam.s_kickPlayer==CPlayer.s_legendPlayer){CTeam.s_placementByCPU=false}}else{if(CTeam.s_matchState==6||CTeam.s_matchState==7){CTeam.updateInfo();if(CTeam.s_team0.m_state==1&&cGame.s_speedines_rate==1){}cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow);if(CTeam.s_matchState==7){Actor.s_ball_heldbyplayer=false}var ay=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var a1=CPlayer.dirTo((ay<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var P=a1+4&7;if(CTeam.s_matchState==6){if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD TO GOLDEN WAY PART 1----------->>>");if(CTeam.s_kickTeamID==CTeam.s_leftTeamID){CTeam.s_kickPlayerID=8}else{CTeam.s_kickPlayerID=4}}else{CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,6,0,-1)}}else{if(CTeam.s_matchState==7&&((CTeam.s_kickTeamID==CTeam.s_leftTeamID&&CTeam.s_placementX<0)||(CTeam.s_kickTeamID!=CTeam.s_leftTeamID&&CTeam.s_placementX>0))){if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD TO GOLDEN WAY PART 2----------->>>");if(CTeam.s_kickTeamID==CTeam.s_leftTeamID){CTeam.s_kickPlayerID=8}else{CTeam.s_kickPlayerID=4}}else{CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,4,1,-1);if(CTeam.s_kickPlayerID==-1){CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,6,0,-1)}}GLLib.Dbg("TRACE BEN CETAR MAJU MUNDUR DAB --- ID KICKER E SOPO TO PAK ------------------------------->>> "+CTeam.s_kickPlayerID)}else{CTeam.s_kickPlayerID=-1;if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD TO GOLDEN WAY PART3----------->>>");CTeam.s_kickPlayerID=8}else{CTeam.s_kickPlayerID=CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,2,null,false)}if(CTeam.s_kickPlayerID==-1){CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,8,0,-1)}}}CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID];if(CTeam.s_kickPlayer==CPlayer.s_legendPlayer){CTeam.s_placementByCPU=false}if(java.lang.Math.abs(CTeam.s_placementY)>76800){CPlayer.parseVector_dup_II(5120,P)}else{CPlayer.parseVector_dup_II(10240,P)}if(P==5){CPlayer.s_vectorX<<=1;CPlayer.s_vectorY<<=1}CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+CPlayer.s_vectorX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+CPlayer.s_vectorY;CTeam.s_kickPlayer.set_currDir(a1);if(CTeam.canSetFreeKickAssit()){CTeam.setFreeKickAssist()}CTeam.nWall=CTeam.buildHumanWall_dup_();cGame.setNormalCamera(true);cGame.updateCamera(true)}else{if(CTeam.s_matchState==8){if(cGame.s_whichHalf==5&&cGame.s_aiMode!=15){Actor.crowdBooing=false}if(!cGame.isTraining&&cGame.s_training_type!=1){cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}if(cGame.s_whichHalf==5){for(var ai=0;ai<11;++ai){if(ai!=0||CTeam.s_team0==CTeam.s_kickTeam){CTeam.s_team0.m_players[ai].m_posX=-2560;CTeam.s_team0.m_players[ai].m_posY=-50+ai*10<<8;CTeam.s_team0.m_players[ai].set_currDir(2);CTeam.s_team0.m_players[ai].stand(true)}if(ai!=0||CTeam.s_team1==CTeam.s_kickTeam){CTeam.s_team1.m_players[ai].m_posX=2560;CTeam.s_team1.m_players[ai].m_posY=-50+ai*10<<8;CTeam.s_team1.m_players[ai].set_currDir(2);CTeam.s_team1.m_players[ai].stand(true)}}CTeam.s_kickPlayerID=CTeam.getNextPenaltyKickerID(CTeam.s_kickTeamID);GLLib.Dbg(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>kickPlayer = "+CTeam.s_kickPlayerID)}else{var U=null;for(var at=0;at<2;++at){for(var ah=1;ah<11;++ah){U=CTeam.s_teams[at].m_players[ah];if(U.m_court==0){if(CTeam.s_kickTeamID==CTeam.s_leftTeamID){U.m_posX=cGame.limit(U.m_posX,-135168,(cGame.FORBIDDEN_ZONE_LEFT<<8)-15360);U.set_currDir(CPlayer.dirTo(135168,0))}else{U.m_posX=cGame.limit(U.m_posX,15360-(cGame.FORBIDDEN_ZONE_LEFT<<8),135168);U.set_currDir(CPlayer.dirTo(-135168,0))}U.stand(true)}}}CTeam.s_kickPlayerID=CTeam.getNextPlayerID(CTeam.s_kickTeamID,10,0,-1)}if(cGame.s_matchMode==11){GLLib.Dbg("SUPER SHOOT JO2_ARIES RF18 ROAD PENALTY----------->>>");CTeam.s_kickPlayerID=9}CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID];CTeam.s_team0.deleteAllCommand(0);CTeam.s_team1.deleteAllCommand(0);CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?-5120:5120);CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;CTeam.s_kickPlayer.set_currDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?2:6);CTeam.s_kickPlayer.m_whichPlayer=CTeam.s_kickPlayer.m_myTeam.m_ID}}}}}}CTeam.s_kickPlayer.getBall();CTeam.updateInfo();if(CTeam.s_kickTeamID==1&&CPlayer.s_focusPlayer!=null&&cGame.s_aiMode!=6&&CPlayer.s_focusPlayer!=CTeam.s_kickPlayer&&!CPlayer.s_focusPlayer.m_doHumanWallJump&&CPlayer.s_focusPlayer.m_disToBall<23040){var ay=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);CTeam.getPointBetweenTwoPoint(100,ay<<8,0,CTeam.s_placementX,CTeam.s_placementY);CPlayer.s_focusPlayer.m_posX=CTeam.s_middlePointX;CPlayer.s_focusPlayer.m_posY=CTeam.s_middlePointY}if(CTeam.s_matchState==1||CTeam.s_matchState==2){for(var ai=0;ai<11;++ai){CTeam.s_team0.m_players[ai].set_currDir(CTeam.s_team0.m_players[ai].m_dirToBall);CTeam.s_team1.m_players[ai].set_currDir(CTeam.s_team1.m_players[ai].m_dirToBall)}}CTeam.setAllPlayerStand();if(CTeam.s_matchState==1||CTeam.s_matchState==2){CTeam.setAllOnCourtPlayerStand()}Actor.s_ball_heldbygk=false;if(cGame.s_aiMode!=3){if(CTeam.s_kickTeam.m_type==0||(cGame.s_aiMode==13&&CTeam.s_kickPlayer==CPlayer.s_legendPlayer)){CTeam.s_kickPlayer.setFocus()}else{if(CTeam.s_matchState==8&&cGame.s_aiMode!=13){CTeam.s_kickTeam.m_opTeam.m_GK.setFocus()}else{CTeam.s_kickTeam.m_opTeam.setFocusPlayer(false)}}}if(!CTeam.s_periodSwitching){if(CTeam.s_matchState==8){Actor.s_ball_heldbyplayer=false;cGame.s_isPenaltyOver=false}if(CTeam.s_matchState==8&&CTeam.s_kickPlayer.m_myTeam.m_leftSide){cGame.setSpecialCamera_dup_ZIIII(true,cGame.PENALTY_CAMERA_X,cGame.PENALTY_CAMERA_Y,0,-1)}else{if(CTeam.s_matchState==2||CTeam.s_matchState==1){cGame.setSpecialCamera_dup_ZActorZ(true,Actor.s_football,false)}else{cGame.setNormalCamera(true)}}cGame.updateCamera(true);CTeam.s_ctrMatchState=10000;CTeam.s_bHasFreeKickAssit=false;CTeam.s_bFreeKickPassing=false;CTeam.s_hasSetPlayerPos=false;if((CTeam.s_matchState==7||CTeam.s_matchState==6)&&CTeam.s_kickPlayer.m_myTeam.m_type==0){if(CTeam.getFreeKickDisOnScreen()>30){cGame.setFKState(0);CTeam.setPeriod(5)}else{cGame.setFKState(1);CTeam.setPeriod(8)}}else{CTeam.s_period=5}if(CTeam.s_matchState==7||CTeam.s_matchState==6){CTeam.s_kickPlayer.m_coachSetTacState=9;if(CTeam.s_freeKickAssit!=null){CTeam.s_freeKickAssit.m_coachSetTacState=9}if(!CTeam.s_kickPlayer.m_myTeam.isPointInMyFBZ(CTeam.s_kickPlayer.m_myTeam.m_GK.m_posX,CTeam.s_kickPlayer.m_myTeam.m_GK.m_posY)){var ay=cGame.CAGE_LEFT-((CTeam.s_matchState==8)?0:8)<<8;if(CTeam.s_kickPlayer.m_myTeam.m_leftSide){ay=-ay}CTeam.s_kickPlayer.m_myTeam.m_GK.m_posX=ay;CTeam.s_kickPlayer.m_myTeam.m_GK.m_posY=0}CTeam.s_kickPlayer.m_myTeam.gkRefreshCoachOrder()}cGame.splashVarToZero()}return true;case 5:if(cGame.s_matchMode!=8&&!cGame.s_isBalTraining&&!cGame.s_isBalTraining&&!cGame.s_bChallengeModeOn){var a6=false;if(cGame.s_injurePlayer!=null&&cGame.s_injurePlayer.m_myTeam.m_ID==0&&cGame.s_injurePlayerSub[cGame.s_injurePlayer.m_Number]==0){a6=true;cGame.s_injurePlayerSub[cGame.s_injurePlayer.m_Number]=1;cGame.s_injurePlayer=null}if(cGame.s_redCardPlayer!=null&&cGame.s_redCardPlayer.m_myTeam.m_ID==0&&cGame.s_redCardPlayerSub[cGame.s_redCardPlayer.m_Number]==0){a6=true;cGame.s_redCardPlayerSub[cGame.s_redCardPlayer.m_Number]=1;cGame.s_redCardPlayer=null}if(a6){GLLib.Dbg("WASUIK ---- BCH_INGAME_MENU_SUBSTITUTION");cGame.s_branch=305;cGame.SwitchState(40);return false}}if(CTeam.s_matchState==1){cGame.clearShootScore()}CTeam.s_has_humanwall_builded=false;if(CTeam.s_kickTeam.m_type==0||(cGame.s_aiMode==13&&CTeam.s_kickPlayer==CPlayer.s_legendPlayer)){if(CTeam.s_matchState==1||CTeam.s_matchState==2){if((cGame.s_aiMode==6&&(CTeam.s_part==0||CTeam.s_part==1))||cGame.s_aiMode==9||cGame.s_aiMode==10||cGame.s_aiMode==20){CTeam.s_matchState=0;if(!cGame.isTraining&&cGame.s_training_type!=4){cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}return false}var J=CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayer.m_Number-1,0,-1);if(cGame.s_aiMode==12){J=CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,-1,null,true)}if(CTeam.s_kickOffPlayerID!=-1&&cGame.s_aiMode!=12){CTeam.s_potentialPlayer=CTeam.s_kickPlayer.m_myTeam.m_players[CTeam.s_kickOffPlayerID]}else{CTeam.s_potentialPlayer=CTeam.s_kickPlayer.m_myTeam.m_players[J]}if(cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID)){CPlayer.s_power=0;CTeam.s_kickPlayer.pass(CTeam.s_potentialPlayer.m_posX,CTeam.s_potentialPlayer.m_posY,-1)}}else{if(CTeam.s_matchState==8){if(CTeam.s_ctrMatchState>10025){CTeam.setPeriod(8)}}else{if(CTeam.s_matchState==7||CTeam.s_matchState==4||CTeam.s_matchState==6){if(cGame.s_aiMode==10||cGame.s_aiMode==20){if(cGame.s_aiMode==20&&cGame.s_fade==0&&cGame.s_miniGameHitBarDuration>1){cGame.s_miniGameHitBarDuration-=GLLib.s_game_frameDT;if(cGame.s_miniGameHitBarDuration<1){GLLib.Dbg("*****************penceeet111111************");cGame.s_miniGameHitBarDuration=1}}if(cGame.s_aiMode==20&&CTeam.s_TrainStep==4&&cGame.haveKeyPressed_dup_II(16,CTeam.s_kickTeamID)){if(cGame.fastDistance((cGame.s_training_challenge_freekick_position[0]*32<<8)-(cGame.CAGE_LEFT<<8),(cGame.s_training_challenge_freekick_position[1]*32<<8)-0)<76800){GLLib.Dbg("*****************penceeet222222************");CPlayer.s_radar=2}else{GLLib.Dbg("*****************penceeet3333333************");CPlayer.s_radar=2}if(cGame.s_miniGameHitBarDuration>1){cGame.s_isMiniGameHirBarKickOnTime=true;cGame.s_miniGameHitBarDuration=-1}GLLib.Dbg("*****************penceeet444444************");CTeam.setPeriod(10)}else{if(cGame.s_aiMode!=20&&CTeam.s_TrainStep==4&&cGame.haveKeyReleased_dup_II(16,CTeam.s_kickTeamID)){GLLib.Dbg("*****************penceeet55555555************");CTeam.setPeriod(8)}}}else{if(CTeam.canSetFreeKickAssit()){CTeam.s_bFreeKickPassing=false;if(cGame.isReleaseFKSelectButton()){cGame.setFKState(1);var a2=0;var aO=cGame.s_subs_N[a2][CTeam.s_kickPlayerID]%cGame.s_teamPlayerNum[a2];var M=a2*1260+aO*42;var aK=cGame.s_playerData[M+14];var g=cGame.s_playerData[M+14];CTeam.setPeriod(8);CTeam.s_bHasFreeKickAssit=false}}CTeam.cursorInit()}}else{if(CTeam.s_ctrMatchState>10030||cGame.anyKeyPressed_dup_I(CTeam.s_kickTeamID)){if(CTeam.s_matchState==5){CTeam.cursorInit()}else{if(CTeam.s_matchState==4){CTeam.s_potentialPlayer=CTeam.s_kickTeam.m_players[CTeam.getNextPlayerID(CTeam.s_kickTeamID,3,11,1)]}else{if(CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir,4)){if(cGame.s_matchMode==11&&CTeam.s_matchState==3){CTeam.s_potentialPlayer=CTeam.s_kickTeam.m_players[7]}else{CTeam.s_potentialPlayer=CTeam.s_kickTeam.m_players[CPlayer.s_passPlayerNumber]}}else{var J=CTeam.s_kickTeam.findNearstPlayer(CTeam.s_placementX,CTeam.s_placementY,true);CTeam.s_potentialPlayer=CTeam.s_kickTeam.m_players[J];if(CTeam.s_potentialPlayer.m_Number==0&&CTeam.s_matchState==CTeam.MS_THROWIN&&cGame.s_matchMode==cGame.MODE_5VS5){return}}}}CTeam.s_assistPosState=0;if(CTeam.s_matchState!=5){CTeam.s_placementScreenCursorX=CTeam.s_potentialPlayer.m_posX;CTeam.s_placementScreenCursorY=CTeam.s_potentialPlayer.m_posY;cGame.pos3DTo2D(CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY,0);CTeam.s_placementScreenCursorX=cGame.s_pos2Dx;CTeam.s_placementScreenCursorY=cGame.s_pos2Dy;CTeam.s_chooseShoot=false;CTeam.s_ctrMatchState=10000;CTeam.s_period=6}if(CTeam.s_matchState!=5){cGame.setSpecialCamera_dup_ZIIII(false,CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY,9,-1)}}}}}}else{if(cGame.s_aiMode==13&&CPlayer.s_legendPlayer!=null){CPlayer.s_legendPlayer.set_currDir(CPlayer.s_legendPlayer.m_dirToBall)}if(CTeam.s_matchState==8&&CTeam.s_kickTeam.m_type==1&&CTeam.s_ctrMatchState==10025){if(CTeam.s_kickTeam.m_leftSide){cGame.setSpecialCamera_dup_ZIIII(false,cGame.RIGHT_PENALTY_CARMER_X,cGame.RIGHT_PENALTY_CARMER_Y,9,-1)}else{cGame.setSpecialCamera_dup_ZIIII(false,cGame.LEFT_PENALTY_CARMER_X,cGame.LEFT_PENALTY_CARMER_Y,9,-1)}}if(CTeam.s_ctrMatchState>((CTeam.s_matchState==8)?10095:((CTeam.s_matchState==3)?10025:10055))||cGame.s_aiMode==6){var L=cGame.random(0,10)>3&&(CTeam.s_matchState==5||CTeam.s_matchState==6||CTeam.s_matchState==7);if(CTeam.s_kickPlayer.m_currDir%2==1||CPlayer.s_radar==3){L=false}if(!L){CTeam.setPeriod(11)}else{CTeam.setPeriod(17)}}else{if(CTeam.s_isGKSavingPenalty){}}}return false;case 15:if(cGame.s_aiMode!=20&&cGame.s_aiMode!=10){cGame.needdraw_cursor=true}if(cGame.s_cameraReached||cGame.s_aiMode==20||cGame.s_aiMode==10){CTeam.s_period=6}if(!CTeam.canSetFreeKickAssit()){cGame.Touch_LockTouchArea(27,true)}return false;case 6:if(cGame.s_matchMode!=8&&!cGame.s_bChallengeModeOn){var a6=false;if(cGame.s_injurePlayer!=null&&cGame.s_injurePlayer.m_myTeam.m_ID==0&&cGame.s_injurePlayerSub[cGame.s_injurePlayer.m_Number]==0){a6=true;cGame.s_injurePlayerSub[cGame.s_injurePlayer.m_Number]=1;cGame.s_injurePlayer=null}if(cGame.s_redCardPlayer!=null&&cGame.s_redCardPlayer.m_myTeam.m_ID==0&&cGame.s_redCardPlayerSub[cGame.s_redCardPlayer.m_Number]==0){a6=true;cGame.s_redCardPlayerSub[cGame.s_redCardPlayer.m_Number]=1;cGame.s_redCardPlayer=null}if(a6){cGame.s_branch=305;cGame.SwitchState(40);return false}}if(CTeam.s_matchState<=9&&cGame.s_playerChanged!=-1&&cGame.haveSubstitution()){CTeam.s_period=12;CTeam.s_Nextperiod=4}CTeam.s_ctrMatchState=0;if(CTeam.s_matchState==5||CTeam.s_bFreeKickPassing){if(cGame.isTouchIGMBotton()){break}var Y=cGame.cursor_x;var X=cGame.cursor_y;var R=-1;var a0=cGame.isInRect(cGame.s_touch_x,cGame.s_touch_y,279,139,82,82);var aG=-1;var au=false;if(cGame.isTouchNameBox()){au=true}else{if(!cGame.isClickFKSelectButton()){if(cGame.s_isForPlayerActionRelease&&cGame.s_ClickedTimes<200){cGame.pos2DTo3D(cGame.s_release_x+cGame.s_camX,cGame.s_release_y+cGame.s_camY);Y=cGame.s_pos2Dx;X=cGame.s_pos2Dy}else{if(cGame.s_touch_x!=0&&cGame.s_touch_y!=0){if(!a0){aG=cGame.getTouchDir(cGame.s_touch_x,cGame.s_touch_y)}if(aG!=-1){}if(aG==50){R=7;X=cGame.cursor_y-1024}else{if(aG==56){X=cGame.cursor_y+1024;R=3}else{if(aG==52){R=5;Y=cGame.cursor_x-1024}else{if(aG==54){R=1;Y=cGame.cursor_x+1024}else{if(aG==51){X=cGame.cursor_y-768;Y=cGame.cursor_x+768;R=0}else{if(aG==49){R=6;X=cGame.cursor_y-768;Y=cGame.cursor_x-768}else{if(aG==57){Y=cGame.cursor_x+768;X=cGame.cursor_y+768;R=2}else{if(aG==55){Y=cGame.cursor_x-768;X=cGame.cursor_y+768;R=4}}}}}}}}}}}}var a5=false;if(CTeam.s_matchState==5&&cGame.fastDistance(Y-Actor.s_football.m_posX,X-Actor.s_football.m_posY)<148480&&java.lang.Math.abs(Y)>cGame.CURSOR_LIMIT_X){a5=true}else{if(CTeam.s_bFreeKickPassing){if((CTeam.s_kickTeamID==CTeam.s_leftTeamID&&CTeam.s_placementX>0)||(CTeam.s_kickTeamID!=CTeam.s_leftTeamID&&CTeam.s_placementX<0)){a5=(java.lang.Math.abs(Y)>java.lang.Math.min(java.lang.Math.abs(CTeam.s_placementX),cGame.CURSOR_LIMIT_X))}else{a5=((CTeam.s_kickTeamID==CTeam.s_leftTeamID&&Y>CTeam.s_placementX)||(CTeam.s_kickTeamID!=CTeam.s_leftTeamID&&Y<CTeam.s_placementX))}}}if(!cGame.isClickFKSelectButton()){cGame.cursor_x=Y;cGame.cursor_y=X;if(java.lang.Math.abs(Y)>135168){cGame.cursor_x=((Y<0)?-135168:135168)}if(java.lang.Math.abs(X)>86272){cGame.cursor_y=((X<0)?-86272:86272)}}cGame.cursorDistance=cGame.slowDistance(cGame.cursor_x-Actor.s_football.m_posX,cGame.cursor_y-Actor.s_football.m_posY);cGame.pos3DTo2D(cGame.cursor_x,cGame.cursor_y,0);cGame.cursor_2d_x=cGame.s_pos2Dx;cGame.cursor_2d_y=cGame.s_pos2Dy;if(cGame.s_aiMode!=20&&cGame.s_aiMode!=10){cGame.needdraw_cursor=true;cGame.setSpecialCamera_dup_ZIIII(false,cGame.cursor_2d_x,cGame.cursor_2d_y,20,-1)}var aW=gloft.casttoint(cGame.cursorDistance/12373);if(aW>12){aW=12}CPlayer.s_radar=7;CPlayer.s_power=0;CPlayer.s_radarPower=((aW==0)?1:aW);CTeam.s_kickToX=cGame.cursor_x;CTeam.s_kickToY=cGame.cursor_y;if(cGame.s_aiMode==20&&cGame.s_fade==0&&cGame.s_miniGameHitBarDuration>1){cGame.s_miniGameHitBarDuration-=GLLib.s_game_frameDT;if(cGame.s_miniGameHitBarDuration<1){cGame.s_miniGameHitBarDuration=1}}if((!cGame.isClickFKSelectButton()&&(cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID)||cGame.haveKeyPressed_dup_II(17,CTeam.s_kickTeamID)))||au){cGame.Touch_LockTouchArea(27,false);if(java.lang.Math.abs(cGame.cursor_y)<cGame.FORBIDDEN_ZONE_BOTTOM+cGame.SMALL_FORBIDDEN_ZONE_BOTTOM<<7){var aH=CTeam.s_kickPlayer.m_pass;if(aH>99){aH=1}else{aH=10-gloft.casttoint(aH/10)}var A=cGame.random(aH-1,aH+1);CTeam.s_kickToX=cGame.random(cGame.cursor_x-(A<<8),cGame.cursor_x+(A<<8));var bb=cGame.random(aH-1,aH+1);CTeam.s_kickToY=cGame.random(cGame.cursor_y-(bb<<8),cGame.cursor_y+(bb<<8))}Actor.s_cornerCursor.setAction_dup_IZ(43,false);if(cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID)){cGame.cursor_x=(CTeam.s_kickTeam.m_leftSide?(528-cGame.PENALTY_X<<8):(-(528-cGame.PENALTY_X)<<8));cGame.cursor_y=256;cGame.cursor_pass_through=true;CTeam.setPeriod(10);GLLib.Dbg("************* "+cGame.cursor_x+" "+cGame.cursor_y);GLLib.Dbg("************* "+CTeam.s_kickToX+" "+CTeam.s_kickToY)}else{if(cGame.haveKeyPressed_dup_II(17,CTeam.s_kickTeamID)||au){CTeam.setPeriod(10);cGame.cursor_x=(CTeam.s_kickTeam.m_leftSide?(528-cGame.PENALTY_X<<8):(-(528-cGame.PENALTY_X)<<8));cGame.cursor_y=256}}}else{if((cGame.s_aiMode==20||CTeam.canSetFreeKickAssit())&&cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID)){if(cGame.s_aiMode==20&&CTeam.s_TrainStep==4){if(cGame.fastDistance((cGame.s_training_challenge_freekick_position[0]*32<<8)-(cGame.CAGE_LEFT<<8),(cGame.s_training_challenge_freekick_position[1]*32<<8)-0)<76800){CPlayer.s_radar=2}else{CPlayer.s_radar=2}if(cGame.s_miniGameHitBarDuration>1){cGame.s_isMiniGameHirBarKickOnTime=true;cGame.s_miniGameHitBarDuration=gloft.casttoint(cGame.s_miniGameHitBarDuration/1000)*1000}}else{CPlayer.s_radar=3}CTeam.setPeriod(10);cGame.cursor_x=(CTeam.s_kickTeam.m_leftSide?(528-cGame.PENALTY_X<<8):(-(528-cGame.PENALTY_X)<<8));cGame.cursor_y=256}else{if(cGame.s_fkState==0&&cGame.isReleaseFKSelectButton()){cGame.setFKState(1);CTeam.setPeriod(8)}}}}else{var aU=cGame.getTouchDir(cGame.s_touch_x,cGame.s_touch_y);var W=-1;if(aU==50){W=1}if(aU==56){W=5}if(aU==52){W=7}if(aU==54){W=3}if(W!=-1&&CTeam.s_potentialPlayer.selectPassPoint(W,4)){var aN=CTeam.s_kickTeam.m_players[CPlayer.s_passPlayerNumber];if(CTeam.s_matchState!=3){CTeam.s_potentialPlayer=aN}else{if(cGame.fastDistance(CTeam.s_kickPlayer.m_posX-aN.m_posX,CTeam.s_kickPlayer.m_posY-aN.m_posY)<46080){CTeam.s_potentialPlayer=aN}}}CTeam.s_placementScreenCursorX=CTeam.s_potentialPlayer.m_posX;CTeam.s_placementScreenCursorY=CTeam.s_potentialPlayer.m_posY;cGame.pos3DTo2D(CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY,0);CTeam.s_placementScreenCursorX=cGame.s_pos2Dx;CTeam.s_placementScreenCursorY=cGame.s_pos2Dy;CTeam.s_placementScreenCursorX=java.lang.Math.max(320,CTeam.s_placementScreenCursorX);CTeam.s_placementScreenCursorY=java.lang.Math.max(180,CTeam.s_placementScreenCursorY);cGame.setSpecialCamera_dup_ZIIII(false,CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY,9,-1);cGame.pos2DTo3D(CTeam.s_placementScreenCursorX,CTeam.s_placementScreenCursorY);CTeam.s_kickToX=cGame.s_pos2Dx;CTeam.s_kickToY=cGame.s_pos2Dy;if(CTeam.s_matchState!=3){CPlayer.s_radar=2;CPlayer.s_power=0;CPlayer.s_radarPower=gloft.casttoint(cGame.fastDistance(CTeam.s_kickToX-Actor.s_football.m_posX,CTeam.s_kickToY-Actor.s_football.m_posY)/10240)}CTeam.s_allowShoot=((CTeam.s_matchState==8||CTeam.s_matchState==7)&&CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.calShootRange());if((CTeam.s_allowPass&&cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID))||(CTeam.s_allowLongPass&&cGame.haveKeyPressed_dup_II(17,CTeam.s_kickTeamID))||(CTeam.s_allowLongPass&&CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.m_Number==0&&cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID))||(CTeam.s_allowShoot&&cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID))||(CTeam.s_allowShoot&&cGame.haveKeyPressed_dup_II(16,CTeam.s_kickTeamID)&&CTeam.s_matchState==7)){if(cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID)){CPlayer.s_radar=1;GLLib.Dbg(">>>>>>>>>>>>>>>>>>>>>KICK");CTeam.setPeriod(7)}else{if(cGame.haveKeyPressed_dup_II(17,CTeam.s_kickTeamID)||(CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.m_Number==0&&cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID))){CTeam.setPeriod(10)}else{if(cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID)){CTeam.setPeriod(8)}else{if(cGame.haveKeyPressed_dup_II(16,CTeam.s_kickTeamID)){CTeam.setPeriod(8);CTeam.s_bHasFreeKickAssit=true}}}}}}return false;case 16:if(!CTeam.s_periodSwitching||CTeam.s_ctrPeriodSwitching==1){}if(CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==0){cGame.updateCamera(true);CTeam.s_ctrMatchState=10000}return true;case 13:CTeam.s_kickPlayer.updatePlayerAI();if(CTeam.s_ctrMatchState==3){CTeam.s_freeKickAssit.setBehavior(11);CPlayer.s_lastAsistPlayer=(CPlayer.s_ballLastOwner=CTeam.s_freeKickAssit);var ay=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var aL=gloft.casttoint(cGame.fastDistance((ay<<8)-CTeam.s_placementX,0-CTeam.s_placementY)/10);aL=((aL>7680)?7680:aL);CPlayer.parseVector_dup_II(aL,CTeam.s_freeKickAssit.m_currDir);Actor.setBallOutTo(5,CTeam.s_placementX+CPlayer.s_vectorX,CTeam.s_placementY+CPlayer.s_vectorY,0,-1,-1);CTeam.s_freeKickAssit.updatePlayerAI();CTeam.s_kickPlayer.m_withBall=true;CTeam.setPeriod(11)}return true;case 14:if(CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==1){cGame.setSpecialCamera_dup_ZActorZ(true,CTeam.s_kickPlayer,false);cGame.updateCamera(true)}if(CTeam.s_periodSwitching&&CTeam.s_ctrPeriodSwitching==0){CTeam.switchFreeKickAssist()}if(!CTeam.s_periodSwitching&&CTeam.s_ctrMatchState==1){CTeam.s_ctrMatchState=10000;CTeam.s_period=5}return true;case 7:if(cGame.s_cameraReached){if(CTeam.s_bHasFreeKickAssit&&CTeam.canSetFreeKickAssit()){var ay=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var aL=cGame.fastDistance((ay<<8)-CTeam.s_placementX,0-CTeam.s_placementY);CPlayer.parseVector_dup_II(gloft.casttoint(aL/10),CTeam.s_freeKickAssit.m_currDir);CTeam.s_kickPlayer.m_withBall=false;CTeam.s_kickPlayer.runTo(CTeam.s_placementX+CPlayer.s_vectorX,CTeam.s_placementY+CPlayer.s_vectorY,true);CTeam.setPeriod(13);CTeam.s_ctrMatchState=0}else{var L=cGame.random(0,10)>3&&(CTeam.s_matchState==5||CTeam.s_matchState==6||CTeam.s_matchState==7);if(CTeam.s_kickPlayer.m_currDir%2==1||CPlayer.s_radar==3){L=false}if(!L){CTeam.setPeriod(11)}else{CTeam.setPeriod(17)}}}else{if(CTeam.s_matchState==5||CTeam.s_bFreeKickPassing){if(CPlayer.s_radar==7&&(cGame.haveKeyHold_dup_II(17,CTeam.s_kickTeamID)||cGame.haveKeyHold_dup_II(11,CTeam.s_kickTeamID))&&CPlayer.s_power<12){if(cGame.s_Pressed_PlayerNumber==-1){CPlayer.s_power+=Actor._frameInc}if(CPlayer.s_power>12){CPlayer.s_power=12}if(CPlayer.s_power>6){cGame.s_isExceed_half_power=true}else{cGame.s_isExceed_half_power=false}}}else{if(CPlayer.s_radar==3&&cGame.haveKeyHold_dup_II(6,CTeam.s_kickTeamID)&&CPlayer.s_power<12){if(cGame.s_Pressed_PlayerNumber==-1){CPlayer.s_power+=Actor._frameInc}if(CPlayer.s_power>12){CPlayer.s_power=12}}}}return true;case 8:if(cGame.s_cameraReached){CTeam.setPeriod(9)}return false;case 9:if((CTeam.s_matchState==7||CTeam.s_matchState==6)&&cGame.isReleaseFKSelectButton()){if(CTeam.s_bHasFreeKickAssit||!CTeam.s_kickPlayer.isNeedFreekickAssit()){cGame.setFKState(0);CTeam.freeKickInit();return false}cGame.setFKState(2);CTeam.setPeriod(8);CTeam.s_bHasFreeKickAssit=CTeam.s_kickPlayer.isNeedFreekickAssit()}if(CTeam.s_matchState<=9&&cGame.s_playerChanged!=-1&&cGame.haveSubstitution()){CTeam.s_period=12;CTeam.s_Nextperiod=4}CTeam.s_ctrMatchState=0;if((cGame.isTouchNameBox()&&CTeam.s_matchState!=8)||(cGame.haveKeyPressed_dup_II(6,CTeam.s_kickTeamID)&&CTeam.s_matchState==8)||(CTeam.s_matchState==8&&cGame.s_aiMode==15&&cGame.PenaltyShootCursorOK)){GLLib.Dbg("Shoot freekick / penalty");CTeam.setPeriod(10)}else{if(cGame.haveKeyPressed_dup_II(16,CTeam.s_kickTeamID)&&cGame.s_aiMode==10){CTeam.setPeriod(10)}else{if(CTeam.s_matchState==8&&cGame.haveKeyPressed_dup_II(11,CTeam.s_kickTeamID)){CTeam.s_kickPlayer.set_preState(13);CTeam.setPeriod(10)}}}return false;case 17:if(CTeam.s_kickPlayer!=null){if(CTeam.s_kickPlayer.m_behavior!=125&&cGame.random(0,1)==0){CTeam.s_kickPlayer.setBehavior(125)}else{if(CTeam.s_kickPlayer.m_actionOver){CTeam.setPeriod(11)}}}return false;case 10:if(CPlayer.s_radar==2){if(cGame.haveKeyHold_dup_I(16)&&cGame.s_aiMode==20&&CPlayer.s_powerForHitBar<48){if(cGame.s_aiMode==20){CPlayer.s_powerForHitBar+=CPlayer.s_powerincreaseForHitBar;CPlayer.s_power=gloft.casttoint(CPlayer.s_powerForHitBar/4);if(CPlayer.s_powerForHitBar>48){CPlayer.s_powerForHitBar=48}}else{CPlayer.s_power+=Actor._frameInc;if(CPlayer.s_power>12){CPlayer.s_power=12}}}else{if(cGame.s_aiMode!=20){CPlayer.s_power=CPlayer.s_radarPower}if(CTeam.s_kickPlayer.m_myTeam.m_ID==1){return true}if(cGame.s_aiMode==20){var a4=cGame.GUI_GetParamValue(37,119,2);var E=cGame.s_miniGameHitBarScoreAreaImg.getHeight();var D=cGame.GUI_GetParamValue(37,120,2)+cGame.s_miniGameHitBarTargetSmallOffsetX;if(D<a4-gloft.casttoint(E/6)){CTeam.s_miniGameHitBarTargetYIndex=-2}else{if(D<a4){CTeam.s_miniGameHitBarTargetYIndex=-1}else{CTeam.s_miniGameHitBarTargetYIndex=gloft.casttoint((D-a4)/(gloft.casttoint(E/6)))}}switch(CTeam.s_windDirection){case 0:CTeam.s_miniGameHitBarTargetYIndex-=CTeam.WIND_FORCE[CTeam.s_windForce]*2;break;case 1:CTeam.s_miniGameHitBarTargetYIndex-=gloft.casttoint(CTeam.WIND_FORCE[CTeam.s_windForce]/2)*2;break;case 3:CTeam.s_miniGameHitBarTargetYIndex+=gloft.casttoint(CTeam.WIND_FORCE[CTeam.s_windForce]/2)*2;break;case 4:CTeam.s_miniGameHitBarTargetYIndex+=CTeam.WIND_FORCE[CTeam.s_windForce]*2;break;case 5:CTeam.s_miniGameHitBarTargetYIndex+=gloft.casttoint(CTeam.WIND_FORCE[CTeam.s_windForce]/2)*2;break;case 7:CTeam.s_miniGameHitBarTargetYIndex-=gloft.casttoint(CTeam.WIND_FORCE[CTeam.s_windForce]/2)*2;break}cGame.limit(CTeam.s_canHitBarPower,3,10);if(CTeam.s_miniGameHitBarTargetYIndex<0){CTeam.s_miniGameHitBarTargetY=cGame.random(cGame.CAGE_TOP,cGame.CAGE_TOP-30);CTeam.s_miniGameHitBarTargetZ=cGame.s_miniGameHitBarTargetZ[0]}else{if(CTeam.s_miniGameHitBarTargetYIndex>5){CTeam.s_miniGameHitBarTargetY=cGame.random(cGame.CAGE_BOTTOM,cGame.CAGE_BOTTOM+30);CTeam.s_miniGameHitBarTargetZ=cGame.s_miniGameHitBarTargetZ[5]}else{CTeam.s_miniGameHitBarTargetY=CTeam.s_miniGameHitBarTargetYArray[CTeam.s_miniGameHitBarTargetYIndex];CTeam.s_miniGameHitBarTargetZ=cGame.s_miniGameHitBarTargetZ[CTeam.s_miniGameHitBarTargetYIndex]}}if(CPlayer.s_power!=CTeam.s_canHitBarPower){CTeam.s_miniGameHitBarTargetZ+=(CPlayer.s_power-CTeam.s_canHitBarPower)*20}}if(cGame.s_aiMode==20){if(cGame.haveKeyReleased_dup_I(16)){GLLib.Dbg("############ kick hitbar released");cGame.setSpecialCamera_dup_ZIIII(false,CTeam.s_kickPlayer.m_screenX,CTeam.s_kickPlayer.m_screenY,9,CTeam.s_kickPlayer.m_currDir);cGame.updateCamera(false)}if(cGame.s_cameraReached){CTeam.setPeriod(11)}}else{CTeam.setPeriod(7)}}}else{if(CPlayer.s_radar==3){if((cGame.haveKeyHold_dup_I(6)||(cGame.haveKeyHold_dup_I(11)&&CTeam.s_matchState==8)||(cGame.isTouchNameBox()&&CTeam.s_matchState==7)||(cGame.haveKeyHold_dup_I(16)&&(cGame.s_aiMode==20||cGame.s_aiMode==10)))&&(CPlayer.s_power<12||cGame.s_aiMode==15)){GLLib.Dbg("Freekick :: accelerate power");CPlayer.s_power+=Actor._frameInc;GLLib.Dbg("KICK>>>>>>>>>>>>>>>>>>>>>>>>>>>1");if(cGame.s_aiMode==15&&cGame.s_is_in_traininig10_mode){CPlayer.s_power-=Actor._frameInc}if(CPlayer.s_power>12){CPlayer.s_power=12}if(cGame.s_aiMode==15){var bi=cGame.s_playerData[cGame.s_menuSelectPlayerID*42+5];var B=gloft.casttoint((java.lang.Math.max(0,CPlayer.s_power-cGame.convertPlayerValue(bi))<<3)/5);cGame.miniPenaltyShootTypeOff=((cGame.miniPenaltyShootTypeOff>B)?cGame.miniPenaltyShootTypeOff:B);if(cGame.miniPenaltyShootType+(cGame.miniPenaltyShootTypeOff>>3)>3){cGame.miniPenaltyShootTypeOff=(3-cGame.miniPenaltyShootType<<3)+7}}}else{GLLib.Dbg("KICK>>>>>>>>>>>>>>>>>>>>>>>>>>>2");if(CTeam.s_kickPlayer.m_myTeam.m_ID==1&&cGame.s_aiMode!=7){return true}if(CTeam.s_kickPlayer.m_preState==13&&CPlayer.s_power<4){CPlayer.s_power=4}CTeam.s_chooseShoot=false;if(cGame.s_aiMode==20){var a4=cGame.GUI_GetParamValue(37,119,2);var E=cGame.s_miniGameHitBarScoreAreaImg.getHeight();var D=cGame.GUI_GetParamValue(37,120,2)+cGame.s_miniGameHitBarTargetSmallOffsetX;if(D<a4){CTeam.s_miniGameHitBarTargetYIndex=-1}else{if(D>a4+E){CTeam.s_miniGameHitBarTargetYIndex=6}else{CTeam.s_miniGameHitBarTargetYIndex=gloft.casttoint((D-a4)/(gloft.casttoint(E/6)))}}if(CTeam.s_miniGameHitBarTargetYIndex<0){CTeam.s_miniGameHitBarTargetY=cGame.random(cGame.CAGE_TOP,cGame.CAGE_TOP-30)}else{if(CTeam.s_miniGameHitBarTargetYIndex>5){CTeam.s_miniGameHitBarTargetY=cGame.random(cGame.CAGE_BOTTOM,cGame.CAGE_BOTTOM+30)}else{CTeam.s_miniGameHitBarTargetY=CTeam.s_miniGameHitBarTargetYArray[CTeam.s_miniGameHitBarTargetYIndex]}}CTeam.s_miniGameHitBarTargetZ=85;if(CPlayer.s_power!=CTeam.s_canHitBarPower){CTeam.s_miniGameHitBarTargetZ+=(CPlayer.s_power-CTeam.s_canHitBarPower)*20}}if(cGame.s_aiMode==20){CTeam.setPeriod(11)}else{if(cGame.s_aiMode==15){CTeam.setPeriod(18)}else{CTeam.setPeriod(7)}}}}else{if(CPlayer.s_radar==7){CPlayer.s_power=CPlayer.s_radarPower;if(CTeam.s_kickPlayer.m_myTeam.m_ID==1){return true}CTeam.s_period=7;cGame.setSpecialCamera_dup_ZIIII(false,CTeam.s_kickPlayer.m_screenX,CTeam.s_kickPlayer.m_screenY,36,CTeam.s_kickPlayer.m_currDir)}}}return true;case 11:if(CTeam.s_kickTeam.m_type==0||(cGame.s_aiMode==13&&CTeam.s_kickPlayer==CPlayer.s_legendPlayer)){if(CTeam.s_matchState==5){for(var ai=1;ai<11;++ai){if(CTeam.s_kickTeam.m_players[ai].m_currState==11){CTeam.s_kickTeam.m_players[ai].stand(true)}}}if(CTeam.s_bHasFreeKickAssit&&CTeam.s_freeKickAssit!=null){CTeam.s_freeKickAssit.m_coachSetTacState=-1;CTeam.s_freeKickAssit=null}if(CPlayer.s_radar==1){if(CTeam.s_matchState==3){CTeam.s_kickPlayer.longPass(CTeam.s_kickToX,CTeam.s_kickToY,0)}else{if(cGame.fastDistance(CTeam.s_kickToX-Actor.s_football.m_posX,CTeam.s_kickToY-Actor.s_football.m_posY)>50176){CPlayer.parseVector_dup_III(192,CTeam.s_kickToX-Actor.s_football.m_posX,CTeam.s_kickToY-Actor.s_football.m_posY);CTeam.s_kickToX=Actor.s_football.m_posX+(CPlayer.s_vectorX<<8);CTeam.s_kickToY=Actor.s_football.m_posY+(CPlayer.s_vectorY<<8)}CTeam.s_kickPlayer.pass(CTeam.s_kickToX,CTeam.s_kickToY,-1)}}else{if(CPlayer.s_radar==2){var a=10240*CPlayer.s_power;if(Actor.s_ball_heldbygk||CTeam.s_matchState==4){a+=51200;CPlayer.s_longpass_extend=true}var S=cGame.random(0,120);var Q=cGame.random(-120,120);if(cGame.random(0,100)>20){var T=cGame.random(30,60);Q+=((Q>0)?T:(-T))}if(!CTeam.s_kickTeam.m_leftSide){S=-S}S<<=8;Q<<=8;CPlayer.parseVector_dup_III(a,S-Actor.s_football.m_posX>>4,Q-Actor.s_football.m_posY>>4);CTeam.s_kickPlayer.longPass(Actor.s_football.m_posX+CPlayer.s_vectorX,Actor.s_football.m_posY+CPlayer.s_vectorY,0);var f=CTeam.s_kickTeam.m_players[CTeam.s_kickTeam.findPlayerByPosNew(S,Q,true)];CTeam.s_kickTeam.deleteAllCommand(f.m_Number);CTeam.s_kickTeam.addCommand(f.m_Number,1,S,Q,1)}else{if(CPlayer.s_radar==7){var af=CPlayer.s_power-CPlayer.s_radarPower;var H=12373*af;CPlayer.parseVector_dup_III(H,CTeam.s_kickToX-Actor.s_football.m_posX>>8,CTeam.s_kickToY-Actor.s_football.m_posY>>8);GLLib.Dbg("final corner kick out dis="+H+"s_power="+CPlayer.s_power+" need="+CPlayer.s_radarPower);if(cGame.s_aiMode==20){cGame.cursor_pass_through=false}if(cGame.cursor_pass_through){CTeam.s_kickPlayer.pass(CTeam.s_kickToX+CPlayer.s_vectorX,CTeam.s_kickToY+CPlayer.s_vectorY,-1);cGame.cursor_pass_through=false}else{CTeam.s_kickPlayer.longPass(CTeam.s_kickToX+CPlayer.s_vectorX,CTeam.s_kickToY+CPlayer.s_vectorY,16640)}}else{if(CPlayer.s_radar==3){if(CTeam.s_bHasFreeKickAssit){CTeam.s_bHasFreeKickAssit=false;var C=cGame.SHOOT_RADAR_MISS_RANGE;if(cGame.s_shootCursor-cGame.SHOOT_RADAR_X<cGame.SHOOT_RADAR_RANGE>>1){C=-C}cGame.s_shootCursor+=C}if(cGame.s_isPenaltyShoot){cGame.PenaltyShootCursorOK=false;cGame.s_isPenaltyShoot=false;cGame.PenaltyCageCell_x=-1;cGame.PenaltyCageCell_y=-1}CTeam.s_kickPlayer.shoot(gloft.casttoint(CPlayer.SHOOT_MAX_HEIGHT*CPlayer.s_power/12))}}}}CPlayer.s_radar=0;CPlayer.s_radarPower=0}else{CTeam.s_kickTeam.deleteAllCommand(CTeam.s_kickPlayer.m_Number);if(CTeam.s_matchState==1||CTeam.s_matchState==2){if(cGame.s_aiMode==6&&CTeam.s_newTutorialPersonNum==4){CTeam.s_matchState=0;return false}CTeam.s_kickPlayer.m_coachSetTacState=9;CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,2,CTeam.s_kickPlayer.m_myTeam.m_players[CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayer.m_Number-1,0,-1)].m_posX,CTeam.s_kickPlayer.m_myTeam.m_players[CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayer.m_Number-1,0,-1)].m_posY,0)}else{if(CTeam.s_matchState==8){if(CTeam.s_isGKSavingPenalty){if(cGame.PenaltyCageCell_x!=-1&&cGame.PenaltyCageCell_y!=-1){cGame.m_SaveH=gloft.casttoint(cGame.PenaltyCageCell_y/(gloft.casttoint(cGame.PenaltyCageH/3)));cGame.m_SaveV=gloft.casttoint(cGame.PenaltyCageCell_x/(gloft.casttoint(cGame.PenaltyCageW/4)));CTeam.s_savePenaltyDir=cGame.m_SaveV}else{if(cGame.PenaltyCageCell_x==-1&&cGame.PenaltyCageCell_y==-1){cGame.m_SaveH=1;cGame.m_SaveV=2;CTeam.s_savePenaltyDir=-1}}}CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,4,-1,-1,cGame.random(0,cGame.CAGE_HIGH<<8))}else{if(CTeam.s_matchState==5){CPlayer.s_power=cGame.random(0,9);CTeam.s_kickPlayer.cpuCenterPassPoint();CPlayer.s_power=0;var a9=CTeam.s_kickTeam;var aA=CTeam.s_kickPlayer.m_Number;var aV=3;var aq=CTeam.s_kickPlayer;var t=CPlayer.s_passPointX;var q=CTeam.s_kickPlayer;a9.addCommand(aA,aV,t,CPlayer.s_passPointY,5120)}else{if(CTeam.s_matchState==4){var d=cGame.random(1,10);var ak=CTeam.s_kickTeam.m_players[cGame.random(9,10)];if(d<=6&&ak.m_court==0){var aM=cGame.random(-150,150);var al=cGame.random(-200,200);if(cGame.random(0,100)>20){var z=cGame.random(30,60);aM+=((aM>0)?z:(-z))}if(!CTeam.s_kickTeam.m_leftSide){aM=-aM}aM<<=8;al<<=8;CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,3,aM,al,5120);ak=CTeam.s_kickTeam.m_players[CTeam.s_kickTeam.findPlayerByPosNew(aM,al,true)];CTeam.s_kickTeam.deleteAllCommand(ak.m_Number);CTeam.s_kickTeam.addCommand(ak.m_Number,1,aM,al,1)}else{var v=0;do{++v;ak=CTeam.s_kickTeam.m_players[cGame.random(1,4)]}while(ak.m_court!=0||v>4);CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,2,ak.m_posX,ak.m_posY,0)}}else{if(CTeam.s_matchState==3){if(!CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir-1&7,0)&&!CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir+1&7,0)){CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir,0)}CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,3,CPlayer.s_passPointX,CPlayer.s_passPointY,0)}else{var ay=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var aL=cGame.fastDistance((ay<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var O=CPlayer.dirTo((ay<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var ax=O==2||O==6;var o=CTeam.s_kickPlayer.calShootRange();var I=false;var aJ=false;if(aL>>8<cGame.FORBIDDEN_ZONE_WIDTH+130){if(ax&&o){I=true}else{aJ=true}}else{if(aL>>8<cGame.FORBIDDEN_ZONE_WIDTH+180){if(ax&&o){if(cGame.random(0,9)<=4){I=true}else{aJ=true}}else{if(cGame.random(0,9)<=4){aJ=true}}}else{aJ=true}}if(I){CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,4,-1,-1,cGame.random(0,CPlayer.SHOOT_MAX_HEIGHT))}else{if(aJ){CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir,1);var a3=CTeam.s_kickTeam;var aE=CTeam.s_kickPlayer.m_Number;var aa=3;var n=CTeam.s_kickPlayer;var ac=CPlayer.s_passPointX;var e=CTeam.s_kickPlayer;a3.addCommand(aE,aa,ac,CPlayer.s_passPointY,5120)}else{CTeam.s_kickPlayer.selectPassPoint(CTeam.s_kickPlayer.m_currDir,0);CTeam.s_kickTeam.addCommand(CTeam.s_kickPlayer.m_Number,2,CPlayer.s_passPointX,CPlayer.s_passPointY,0)}}}}}}}}return false;case 18:cGame.miniPenaltyShootTimeSkip-=GLLib.s_game_frameDT;if(cGame.miniPenaltyShootTimeSkip<=0){cGame.miniPenaltyShootY=gloft.casttoint((cGame.PenaltyCageCell_x-230)*(cGame.CAGE_BOTTOM<<8)/230);cGame.miniPenaltyShootZ=gloft.casttoint((160-cGame.PenaltyCageCell_y)*(cGame.CAGE_HIGH<<8)/160);GLLib.Dbg("********************* miniPenaltyShootY "+cGame.miniPenaltyShootY);GLLib.Dbg("********************* miniPenaltyShootZ "+cGame.miniPenaltyShootZ);var Z=gloft.casttoint((cGame.CAGE_BOTTOM<<8)*(1<<cGame.miniPenaltyShootType+(cGame.miniPenaltyShootTypeOff>>3))/12);var aj=gloft.casttoint((cGame.CAGE_HIGH<<8)*(1<<cGame.miniPenaltyShootType+(cGame.miniPenaltyShootTypeOff>>3))/12);if(cGame.miniPenaltyShootType+(cGame.miniPenaltyShootTypeOff>>3)==2){var aw=cGame.random(0,9);var aF=0;if(aw<2){aF=cGame.random(0,gloft.casttoint(Z/4))}else{if(aw<5){aF=cGame.random(gloft.casttoint(Z/4),gloft.casttoint(Z/2))}else{aF=cGame.random(gloft.casttoint(Z/2),Z)}}if(cGame.random(0,1)==0){aF=-aF}cGame.miniPenaltyShootY+=aF;aw=cGame.random(0,9);var aI=0;if(aw<2){aI=cGame.random(0,gloft.casttoint(aj/4))}else{if(aw<5){aI=cGame.random(gloft.casttoint(aj/4),gloft.casttoint(aj/2))}else{aI=cGame.random(gloft.casttoint(aj/2),aj)}}if(cGame.random(0,1)==0){aI=-aI}cGame.miniPenaltyShootZ+=aI}else{var aw=cGame.random(0,9);var aF=0;if(aw<3){aF=cGame.random(0,gloft.casttoint(Z/4))}else{if(aw<7){aF=cGame.random(gloft.casttoint(Z/4),gloft.casttoint(Z/2))}else{aF=cGame.random(gloft.casttoint(Z/2),Z)}}if(cGame.random(0,1)==0){aF=-aF}cGame.miniPenaltyShootY+=aF}CTeam.setPeriod(7)}return false}return true}}return false};CTeam.placePlayerInTraining=function(b,f,a){f.m_court=0;f.m_destGridX=f.m_coachSetDestGridX;f.m_destGridY=f.m_coachSetDestGridY;var h=b.GridToPosRandom(f.m_destGridX);f.m_destX=h;f.m_posX=h;var e=b.GridToPosRandom(f.m_destGridY);f.m_destY=e;f.m_posY=e;if(f.m_coachSetTacState==13){var d=b.m_opTeam.m_players[f.m_coachSetMarkID];CPlayer.parseVector_dup_II(8192,d.m_currDir+4&7);var g=d.m_posX+CPlayer.s_vectorX;f.m_destX=g;f.m_posX=g;var c=d.m_posY+CPlayer.s_vectorY;f.m_destY=c;f.m_posY=c}f.set_currDir(CPlayer.dirTo(Actor.s_football.m_posX-f.m_posX,Actor.s_football.m_posY-f.m_posY));cGame.P(a+", grid:"+f.m_destGridX+","+f.m_destGridY+", pos:"+f.m_destX+","+f.m_destY)};CTeam.initCTPlayerPosByGrid=function(K,p,t){var D=16;var E=CTeam.s_corner_match_location_mark_att;var v=CTeam.s_corner_match_location_mark_def;var C=CTeam.CORNER_MATCH_LOCATION_GRID_X;var B=CTeam.CORNER_MATCH_LOCATION_GRID_Y;var n=CTeam.CORNER_MATCH_PREFERENTIAL_ATT;CTeam.have_defender_in_training=(t>0);var o=CTeam.s_kickTeam;var q=10;var r=CTeam.s_kickTeam.m_opTeam;var s=10;var c=o.m_leftSide?(Actor.s_football.m_posY>0):(Actor.s_football.m_posY<0);for(var I=0;I<11;++I){o.m_players[I].m_coachSetTacState=0;if(I!=0){r.m_players[I].m_coachSetTacState=0}else{r.m_players[I].m_coachSetTacState=14}o.deleteAllCommand(o.m_players[I].m_Number);r.deleteAllCommand(r.m_players[I].m_Number)}for(var G=0;G<D;++G){v[G]=(E[G]=-1)}o.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));r.s_valueOfGrid=gloft.ArrayCreation([693],gloft.casttobyte(null));var h=11;if(p>0){var b=(p-1)*3;var M=n[b];var m=n[b+1];var z=n[b+2];for(var H=0;H<q;++H){var L=(H<2)?6:-1;h=CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,L,E,true);if(h<=0){break}var J=o.m_players[h];J.m_coachSetTacState=4;var u=gloft.casttoint(null);if(M>0){do{u=cGame.random(3,8)}while(E[u]!=-1);--M}else{if(z>0){u=0;--z}else{if(m>0){do{u=cGame.random(1,2)}while(E[u]!=-1);--m}else{u=11+H-p}}}E[u]=h;CTeam.s_towardGridX=C[u];CTeam.s_towardGridY=(c?B[u]:(-B[u]));o.setPlayerDest(h,CTeam.s_towardGridX,CTeam.s_towardGridY);if(CTeam.s_towardGridX!=J.m_coachSetDestGridX){GLLib.Dbg("warninig , set att place failed"+h+":"+CTeam.s_towardGridX+"-->"+J.m_coachSetDestGridX)}GLLib.Dbg("att:");CTeam.placePlayerInTraining(o,J,h)}}if(t>0){var e=0;var y=(t-1)*3;var d=CTeam.CORNER__TRAIN_MATCH_PREFERENTIAL_DEF[y];var N=CTeam.CORNER__TRAIN_MATCH_PREFERENTIAL_DEF[y+1];var a=CTeam.CORNER__TRAIN_MATCH_PREFERENTIAL_DEF[y+2];for(var F=0;F<s;++F){e=CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(r,1,11,1,-1,v,false);if(e<=0){break}var A=r.m_players[e];A.m_coachSetTacState=12;var u=0;if(N>0){do{u=cGame.random(1,2)}while(v[u]!=-1);--N}else{if(d>0){do{u=cGame.random(3,8)}while(v[u]!=-1);--d}else{if(a>0){u=0;if(E[u]==-1){var x=gloft.casttoint(null);for(x=3;x<8&&v[x]!=-1;++x){}if(x<=8){do{u=cGame.random(3,8)}while(v[u]!=-1)}else{do{u=cGame.random(1,2)}while(v[u]!=-1)}}--a}else{u=9+F-t}}}v[u]=e;if(E[u]!=-1){var w=E[u];r.getMarkPos(w,0);var g=r.PosToGrid(CTeam.s_markX);var f=r.PosToGrid(CTeam.s_markY);A.m_coachSetTacState=13;A.m_coachSetMarkID=w;r.selectGoodSpace(e,g,f,true)}else{CTeam.s_towardGridX=-C[u];CTeam.s_towardGridY=-(c?B[u]:(-B[u]));r.setPlayerDest(e,CTeam.s_towardGridX,CTeam.s_towardGridY)}GLLib.Dbg("def:");CTeam.placePlayerInTraining(r,A,e)}}};CTeam.getPlayerAroundOtherPlayerNumber=function(g){var d=0;var h=null;var f=3;var b=g.m_gridX+(g.m_myTeam.m_leftSide?2:-2);var a=g.m_gridY;for(var e=1;e<11;++e){h=g.m_opTeam.m_players[e];if(b-3<-h.m_gridX&&-h.m_gridX<b+3&&a-3<h.m_gridY&&h.m_gridY<a+3){++d}}return d};CTeam.getForwardPlayer=function(a){return CTeam.getForwardPlayerBySide(a,-1)};CTeam.getForwardPlayerBySide=function(j,h){var l=CTeam.s_ForwardPlayerList;var a=0;var m=CTeam.s_ForwardPlayerList;var g=1;var k=CTeam.s_ForwardPlayerList;var f=2;var d=-100;k[f]=d;l[a]=(m[g]=d);var e=false;for(var c=1;c<11;++c){var b=GLLib.Math_Atan(CTeam.s_teams[j].m_players[c].m_posX-CPlayer.s_focusPlayer.m_posX,CTeam.s_teams[j].m_players[c].m_posY-CPlayer.s_focusPlayer.m_posY);if((h==-1||CTeam.getPlayerSide(CTeam.s_teams[j].m_players[c])==h)&&!CTeam.isPlayerOffside(CTeam.s_teams[j].m_players[c])&&CTeam.s_teams[j].m_players[c].m_posX<cGame.SMALL_FORBIDDEN_ZONE_LEFT<<8&&b>20&&b<235&&CTeam.s_offsideLine[1-j]-4096>CTeam.s_teams[j].m_players[c].m_posX){if(CTeam.s_ForwardPlayerList[0]==-100||CTeam.s_teams[j].m_players[c].m_gridX>CTeam.s_teams[j].m_players[CTeam.s_ForwardPlayerList[0]].m_gridX){CTeam.s_ForwardPlayerList[2]=CTeam.s_ForwardPlayerList[1];CTeam.s_ForwardPlayerList[1]=CTeam.s_ForwardPlayerList[0];CTeam.s_ForwardPlayerList[0]=c;e=true}else{if(CTeam.s_ForwardPlayerList[1]==-100||CTeam.s_teams[j].m_players[c].m_gridX>CTeam.s_teams[j].m_players[CTeam.s_ForwardPlayerList[1]].m_gridX){CTeam.s_ForwardPlayerList[2]=CTeam.s_ForwardPlayerList[1];CTeam.s_ForwardPlayerList[1]=c;e=true}else{if(CTeam.s_ForwardPlayerList[2]==-100||CTeam.s_teams[j].m_players[c].m_gridX>CTeam.s_teams[j].m_players[CTeam.s_ForwardPlayerList[2]].m_gridX){CTeam.s_ForwardPlayerList[2]=c;e=true}}}}}return e};CTeam.getPlayerSide=function(a){if(a.m_gridY<CTeam.FORBIDDEN_ZONE_TOP_GRID){return a.m_myTeam.m_leftSide?4:5}if(a.m_gridY>CTeam.FORBIDDEN_ZONE_BOTTOM_GRID){return a.m_myTeam.m_leftSide?5:4}return 1};CTeam.getNextFreePlayer_dup_IIIIaIZ=function(f,e,c,d,b,a){return CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(CTeam.s_kickTeam,f,e,c,d,b,a)};CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ=function(g,o,q,b,m,p,h){var n=-1;var c=-1;for(var e=o;e!=q;e+=b){if(!cGame.s_is_in_traininig10_mode&&g!=null){var l=g.m_players[e];if(l.m_court!=0){continue}}if(e!=CTeam.s_kickPlayerID||!h){var d=0;if(p!=null){while(d<p.length&&e!=p[d]){++d}if(d<p.length){continue}}if(m==-1){return e}var f=g.m_ID*1260+e*42;var j=gloft.casttoint(null);var a=j=cGame.s_playerData[f+m];if(c==-1||j>c){c=j;n=e}}}GLLib.Dbg("getNextFreePlayer, abbly, id:"+m+"__________"+n);return n};CTeam.resetCornerCamera=function(){cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);cGame.setSpecialCamera_dup_ZIIII(false,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);cGame.updateCamera(true);CTeam.s_period=5;CTeam.s_ctrMatchState=10000};CTeam.initCornerTrainingPlacement=function(a,d,e,b,c){CTeam.isGoalAtLeftInCornerTraining=a;CTeam.isCornerAtTopInCornerTraining=d;CTeam.setMatchState_dup_IIII(5,CTeam.s_team0.m_ID,a?-134400:134400,d?-85504:85504);CTeam.s_period=5;if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(2)}else{CTeam.setTrainStep(0)}CTeam.updateInfo();CTeam.adjustTeamSide(!a);CTeam.adjustTrainingKicker(4);CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+((CTeam.s_placementY<0)?-5120:3840);CTeam.s_kickPlayer.set_currDir((CTeam.s_placementY<0)?4:0);Actor.putBallOnGround(CTeam.s_placementX,CTeam.s_placementY);CTeam.s_kickPlayer.getBall();CTeam.s_team0.m_offsideGridX=16;CTeam.initCTPlayerPosByGrid(e,b,c);CTeam.setAllPlayerStand();CTeam.s_kickPlayer.set_nextDir(CTeam.s_kickPlayer.m_currDir);Actor.s_ball_heldbygk=false;CTeam.s_team1.m_GK.stand(true);CTeam.s_team1.m_GK.set_directDir(CTeam.s_team1.m_leftSide?2:6);CTeam.s_ctrMatchState=10000;cGame.setNormalCamera(true);cGame.resetCamera();cGame.setFade(1,255,100)};CTeam.initPenaltyTrainingPlacement=function(){GLLib.Dbg("### INIT penalty minigame");cGame.s_tactic=false;CTeam.setMatchState_dup_IIII(8,CTeam.s_leftTeamID,cGame.RIGHT_PENALTY_POINT_3D_X<<8,cGame.RIGHT_PENALTY_POINT_3D_Y<<8);CTeam.s_kickPlayerID=cGame.s_dribble_playerID;CTeam.adjustTrainingKicker(2);GLLib.Dbg("kick player:"+CTeam.s_kickPlayerID+", number in team:"+cGame.s_dribble_in_team_playerID);var a=cGame.s_training_challenge_level<2;cGame.s_curObj=null;CTeam.setPeriod(5);if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(4)}else{CTeam.setTrainStep(0)}for(var b=0;b<11;++b){var c=CTeam.s_teams[1].m_players[b];c.m_court=0}};CTeam.initHitBarTrainingPlacement=function(){var a=cGame.s_training_challenge_level<2;if(CTeam.s_team0.m_leftSide){CTeam.setMatchState_dup_IIII(7,CTeam.s_leftTeamID,0,1536)}else{CTeam.setMatchState_dup_IIII(7,1-CTeam.s_leftTeamID,0,1536)}CTeam.setPeriod(5);if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(4)}else{CTeam.setTrainStep(0)}var u=4;if(cGame.s_miniGameHirBarScoreOneKick!=0||CTeam.m_train_train_count==0){cGame.getNextKickPosition();for(var s=0;s<Actor.s_futureBallHitBarPosX.length;++s){Actor.s_futureBallHitBarPosX[s]=0;Actor.s_futureBallHitBarPosY[s]=0;Actor.s_futureBallHitBarPosZ[s]=0;Actor.s_futureBallHitBarLastPosX[s]=0;Actor.s_futureBallHitBarLastPosY[s]=0;Actor.s_futureBallHitBarLastPosZ[s]=0}}var p=cGame.s_training_challenge_level*3*2*u+CTeam.m_train_train_count*2*u;var g=cGame.s_training_challenge_freekick_position[0]*32<<8;var f=cGame.s_training_challenge_freekick_position[1]*32<<8;p+=u;var t=0;var q=0;var h=0;CTeam.s_placementX=g;CTeam.s_placementY=f;CTeam.adjustTeamSide(CTeam.s_placementX>=0);CTeam.s_kickPlayerID=cGame.s_dribble_playerID;CTeam.adjustTrainingKicker(2);CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;CTeam.s_kickPlayer.set_currDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?2:6);Actor.putBallOnGround(CTeam.s_placementX,CTeam.s_placementY);if(CTeam.s_matchState==7){Actor.s_ball_heldbyplayer=false}var d=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var b=CPlayer.dirTo((d<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var c=b+4&7;if(java.lang.Math.abs(CTeam.s_placementY)>76800){CPlayer.parseVector_dup_II(5120,c)}else{CPlayer.parseVector_dup_II(10240,c)}if(c==5){CPlayer.s_vectorX<<=1;CPlayer.s_vectorY<<=1}CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+CPlayer.s_vectorX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+CPlayer.s_vectorY;CTeam.s_kickPlayer.set_currDir(b);CTeam.s_kickPlayer.m_coachSetTacState=9;for(var r=0;r<11;++r){var n=CTeam.s_teams[1].m_players[r];n.m_court=0}for(var o=0;o<2;++o){for(var m=0;m<11;++m){var e=CTeam.s_teams[o].m_players[m];if(o==CTeam.s_kickTeamID&&m==CTeam.s_kickPlayerID){e.m_court=0}else{e.m_court=1}}}CTeam.s_kickPlayer.getBall();cGame.s_breakedTargetIndex=-1;cGame.s_hitAreaType=-1;CTeam.s_haveHumanWall=false;for(var o=0;o<Actor.s_futureBallHitBarPosX.length;++o){Actor.s_futureBallHitBarLastPosX[o]=Actor.s_futureBallHitBarPosX[o];Actor.s_futureBallHitBarLastPosY[o]=Actor.s_futureBallHitBarPosY[o];Actor.s_futureBallHitBarLastPosZ[o]=Actor.s_futureBallHitBarPosZ[o];Actor.s_futureBallHitBarPosX[o]=0;Actor.s_futureBallHitBarPosY[o]=0;Actor.s_futureBallHitBarPosZ[o]=0}cGame.s_miniGameHitBarTargetSmallOffsetX=0;cGame.s_miniGameHitBarTargetSmallOffsetY=0;if(CTeam.m_train_train_count!=0){cGame.s_miniGameHirBarScore[CTeam.m_train_train_count-1]=cGame.s_miniGameHirBarScoreOneKick}cGame.s_miniGameHirBarScoreOneKick=0;cGame.s_isMiniGameHirBarKickOnTime=false;if(cGame.s_miniGameHitBarLevelInfo[cGame.s_miniGameHitBarLevelRowIndex[cGame.s_training_challenge_level]][10]>-1){cGame.s_miniGameHitBarDuration=cGame.s_miniGameHitBarLevelInfo[cGame.s_miniGameHitBarLevelRowIndex[cGame.s_training_challenge_level]][10]*1000-1}else{cGame.s_miniGameHitBarDuration=-1}var v=cGame.fastDistance((cGame.s_training_challenge_freekick_position[0]*32<<8)-(cGame.CAGE_LEFT<<8),(cGame.s_training_challenge_freekick_position[1]*32<<8)-0);cGame.calHitBarScore(1,v>>8);CPlayer.s_powerForHitBar=0;Actor.s_ballFrameForHitBar=0;CTeam.updateInfo();CTeam.setAllPlayerStand();Actor.s_ball_heldbygk=false;CTeam.setAllOnCourtPlayerStand();cGame.pos3DTo2D(CTeam.s_placementX+20480,CTeam.s_placementY,0);cGame.setSpecialCamera_dup_ZIIII(true,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);cGame.updateCamera(true);cGame.setFade(1,255,100)};CTeam.initDribbleTrainingPlacement=function(){CTeam.s_team0.m_leftSide=cGame.s_dribbleGKLeftSide;CTeam.s_team1.m_leftSide=!cGame.s_dribbleGKLeftSide;CTeam.s_leftTeamID=(CTeam.s_team0.m_leftSide?CTeam.s_team0.m_ID:CTeam.s_team1.m_ID);CTeam.setMatchState_dup_IIII(2,CTeam.s_team0.m_ID,0,1536);if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(2)}else{CTeam.setTrainStep(0)}cGame.setNormalCamera(true)};CTeam.setAllOnCourtPlayerStand=function(){for(var c=0;c<2;++c){for(var a=0;a<11;++a){var b=CTeam.s_teams[c].m_players[a];if(b.m_court==0){b.stand(true);b.turn(-1)}}}};CTeam.initFreekickTrainingPlacement=function(){var u=cGame.s_training_challenge_level<2;var b=4;var m=cGame.s_training_challenge_level*3*2*b+CTeam.m_train_train_count*2*b;var d=cGame.s_training_challenge_freekick_position[0]*32<<8;var c=cGame.s_training_challenge_freekick_position[1]*32<<8;m+=b;var n=0;var g=0;var s=0;CTeam.s_placementX=d;CTeam.s_placementY=c;CTeam.adjustTeamSide(CTeam.s_placementX>0);CTeam.s_kickPlayerID=cGame.s_dribble_playerID;CTeam.setMatchState_dup_IIII(7,0,CTeam.s_placementX,CTeam.s_placementY);CTeam.setPeriod(5);if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(4)}else{CTeam.setTrainStep(0)}CTeam.adjustTrainingKicker(2);CTeam.s_kickPlayer.m_posX=CTeam.s_placementX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY;CTeam.s_kickPlayer.set_currDir((CTeam.s_kickTeamID==CTeam.s_leftTeamID)?2:6);Actor.putBallOnGround(CTeam.s_placementX,CTeam.s_placementY);if(CTeam.s_matchState==7){Actor.s_ball_heldbyplayer=false}var l=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var o=CPlayer.dirTo((l<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var t=o+4&7;if(java.lang.Math.abs(CTeam.s_placementY)>76800){CPlayer.parseVector_dup_II(5120,t)}else{CPlayer.parseVector_dup_II(10240,t)}if(t==5){CPlayer.s_vectorX<<=1;CPlayer.s_vectorY<<=1}CTeam.s_kickPlayer.m_posX=CTeam.s_placementX+CPlayer.s_vectorX;CTeam.s_kickPlayer.m_posY=CTeam.s_placementY+CPlayer.s_vectorY;CTeam.s_kickPlayer.set_currDir(o);CTeam.s_kickPlayer.m_coachSetTacState=9;for(var f=0;f<11;++f){var q=CTeam.s_teams[1].m_players[f];q.m_court=0}if(cGame.s_currect_training_human_wall_num>0){}for(var h=0;h<2;++h){for(var e=0;e<11;++e){var r=CTeam.s_teams[h].m_players[e];if(r.m_doHumanWallJump){var p=new Actor();p.m_type=200;p.m_animID=6;p.s_isCinematicActor=false;p.m_destX=-1;p.m_destY=-1;p.m_destZ=-1;p.m_posX=r.m_posX;p.m_posY=r.m_posY;p.m_posZ=r.m_posZ;p.m_level=1;Actor.s_actors[Actor.s_actorCount++]=p;r.m_court=1}else{if(h==CTeam.s_kickTeamID&&e==CTeam.s_kickPlayerID){r.m_court=0}else{r.m_court=1}}}}CTeam.s_kickPlayer.getBall();CTeam.updateInfo();CTeam.setAllPlayerStand();Actor.s_ball_heldbygk=false;CTeam.setAllOnCourtPlayerStand();cGame.setNormalCamera(true);cGame.resetCamera();cGame.setFade(1,255,100);if(CTeam.m_train_train_count==0){for(var h=0;h<Actor.s_futureBallHitBarPosX.length;++h){Actor.s_futureBallHitBarPosX[h]=0;Actor.s_futureBallHitBarPosY[h]=0;Actor.s_futureBallHitBarPosZ[h]=0;Actor.s_futureBallHitBarLastPosX[h]=0;Actor.s_futureBallHitBarLastPosY[h]=0;Actor.s_futureBallHitBarLastPosZ[h]=0}}else{for(var h=0;h<Actor.s_futureBallHitBarPosX.length;++h){Actor.s_futureBallHitBarLastPosX[h]=Actor.s_futureBallHitBarPosX[h];Actor.s_futureBallHitBarLastPosY[h]=Actor.s_futureBallHitBarPosY[h];Actor.s_futureBallHitBarLastPosZ[h]=Actor.s_futureBallHitBarPosZ[h];Actor.s_futureBallHitBarPosX[h]=0;Actor.s_futureBallHitBarPosY[h]=0;Actor.s_futureBallHitBarPosZ[h]=0}}};CTeam.adjustTrainingKicker=function(b){var a=gloft.casttoint(null);cGame.s_dribble_in_team_playerID=(cGame.s_dribble_playerID=(a=((cGame.s_dribble_in_team_playerID==-1)?CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,b,null,false):cGame.s_dribble_in_team_playerID)));CTeam.s_kickPlayerID=a;if(cGame.s_dribble_in_team_playerID>=11){CTeam.s_kickPlayerID=(cGame.s_dribble_playerID=cGame.DEFAULT_DRIBBLE_PLAYER_ID);var c=cGame.getBenchPlayerRole(cGame.s_dribble_in_team_playerID);if(c==0){CTeam.s_kickPlayerID=(cGame.s_dribble_playerID=0)}cGame.exchangePlayerInfo(0,CTeam.s_kickPlayerID,cGame.s_dribble_in_team_playerID);cGame.s_dribble_in_team_playerID=CTeam.s_kickPlayerID}CTeam.s_kickPlayer=CTeam.s_kickTeam.m_players[CTeam.s_kickPlayerID]};CTeam.initOne_TwoPlayerPosByGrid=function(b){if(CTeam.isNextShootInTraining){CTeam.isNextShootInTraining=false;CTeam.setTrainStep(2)}else{CTeam.setTrainStep(0)}var k=true;var l=CTeam.s_team0;var f=CTeam.s_team1;for(var p=0;p<11;++p){l.m_players[p].m_court=1;if(p!=0||!k){f.m_players[p].m_court=1}}var h=b<<1;var a=(b<<1)+1;var t=CTeam.ONE_TWO_TRAINING_DESIGN[h];var e=CTeam.ONE_TWO_TRAINING_DESIGN[a];var n=t.length>>1;var r=e.length>>1;CTeam.have_defender_in_training=(r>0);var g=gloft.ArrayCreation([n],gloft.casttoint(null));for(var m=0;m<n;++m){var c=gloft.casttoint(null);if(m==0){c=CTeam.s_kickPlayerID}else{c=CTeam.getNextFreePlayer_dup_IIIIaIZ(10,0,-1,-1,g,true)}g[m]=c;var d=l.m_players[c];var q=t[m<<1];var o=t[(m<<1)+1];d.m_coachSetDestGridX=q;d.m_coachSetDestGridY=o;CTeam.placePlayerInTraining(l,d,c)}for(var m=0;m<r;++m){var s=m+1;var d=f.m_players[s];var q=e[m<<1];var o=e[(m<<1)+1];d.m_coachSetDestGridX=q;d.m_coachSetDestGridY=o;CTeam.placePlayerInTraining(l,d,s)}};CTeam.initOne_TwoPlacement=function(d){var a=d%2==1;CTeam.adjustTeamSide(a);CTeam.s_kickTeam=CTeam.s_team0;cGame.s_dribble_in_team_playerID=-1;CTeam.adjustTrainingKicker(4);CTeam.initOne_TwoPlayerPosByGrid(d);for(var c=0;c<2;++c){for(var b=0;b<11;++b){CTeam.s_team1.m_players[b].set_currDir(a?6:2);CTeam.s_team0.m_players[b].set_currDir(a?2:6)}}CTeam.s_placementX=CTeam.s_kickPlayer.m_posX;CTeam.s_placementY=CTeam.s_kickPlayer.m_posY;CPlayer.parseVector_dup_II(1280,CTeam.s_kickPlayer.m_currDir);Actor.putBallOnGround(CTeam.s_placementX+CPlayer.s_vectorX,CTeam.s_placementY+CPlayer.s_vectorY);CTeam.s_kickPlayer.getBall();CTeam.setMatchState_dup_IIII(2,CTeam.s_kickTeam.m_ID,CTeam.s_placementX,CTeam.s_placementY);CTeam.s_period=5;CTeam.updateInfo();CTeam.setAllPlayerStand();Actor.s_ball_heldbygk=false;CTeam.s_team1.m_GK.stand(true);CTeam.s_team1.m_GK.set_directDir(CTeam.s_team1.m_leftSide?2:6);CTeam.s_ctrMatchState=10000;cGame.setNormalCamera(true);cGame.resetCamera();cGame.setFade(1,255,100)};CTeam.isDrawFreeKickCircle=function(){return CTeam.s_matchState==7&&((CTeam.s_kickTeamID==CTeam.s_leftTeamID&&CTeam.s_placementX>0)||(CTeam.s_kickTeamID!=CTeam.s_leftTeamID&&CTeam.s_placementX<0))&&CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.calShootRange()&&CTeam.s_haveHumanWall&&((CTeam.s_period>=5&&CTeam.s_period<11)||CTeam.s_period==15)};CTeam.getDisToGoal_dup_=function(){var a=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);return cGame.fastDistance((a<<8)-CTeam.s_placementX,0-CTeam.s_placementY)>>8};CTeam.getDisToGoal_dup_II=function(a,c){var b=CTeam.s_team0.m_leftSide?(cGame.CAGE_LEFT-8):(-cGame.CAGE_LEFT+8);return cGame.fastDistance((b<<8)-a,0-c)>>8};CTeam.setFreeKickRadius=function(){if(CTeam.s_hasCaculatedFKCR){return}cGame.pos3DTo2D(CTeam.s_middlePointX,CTeam.s_middlePointY,0);var i=cGame.s_pos2Dx;var h=cGame.s_pos2Dy;cGame.pos3DTo2D(CTeam.s_placementX,CTeam.s_placementY,0);var c=java.lang.Math.abs(cGame.s_pos2Dx-i);var b=java.lang.Math.abs(cGame.s_pos2Dy-h);var a=gloft.casttoint(null);var g=a=java.lang.Math.max(c>>1,b);var f=a*cGame.slowDistance(256,cGame.slowDistance(256,256))>>8;var e=cGame.slowDistance(c-f,b)+cGame.slowDistance(c+f,b);var d=a<<2;if(e>d){while(a<110&&cGame.slowDistance(c-f,b)+cGame.slowDistance(c+f,b)>=a<<2){f=++a*cGame.slowDistance(256,cGame.slowDistance(256,256))>>8}}else{while(a>60&&cGame.slowDistance(c-f,b)+cGame.slowDistance(c+f,b)<=a<<2){f=--a*cGame.slowDistance(256,cGame.slowDistance(256,256))>>8}}CTeam.s_freeKickCircleRadius=a-2<<1;CTeam.s_hasCaculatedFKCR=true};CTeam.buildHumanWall_dup_=function(){return CTeam.buildHumanWall_dup_IIIIZ(-1,-1,-1,-1,false)};CTeam.buildHumanWall_dup_IIIIZ=function(al,E,D,p,az){if(CTeam.s_has_humanwall_builded){return -1}CTeam.s_has_humanwall_builded=true;var av=0;var ab=0;var ae=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);var ay=CPlayer.dirTo((ae<<8)-CTeam.s_placementX,0-CTeam.s_placementY);var u=ay+4&7;if((CTeam.s_kickTeamID==CTeam.s_leftTeamID&&CTeam.s_placementX>CPlayer.SHOOT_LINE_LIMIT)||(CTeam.s_kickTeamID!=CTeam.s_leftTeamID&&CTeam.s_placementX<-CPlayer.SHOOT_LINE_LIMIT)){var ak=cGame.fastDistance((ae<<8)-CTeam.s_placementX,0-CTeam.s_placementY);if(al<0){if(ay==2||ay==6){if(ak>>8>cGame.FORBIDDEN_ZONE_WIDTH+130){CTeam.nWall=3}else{if(ak>>8>cGame.FORBIDDEN_ZONE_WIDTH+80){CTeam.nWall=4}else{CTeam.nWall=5}}}else{if(ay==0||ay==4){CTeam.nWall=2}else{if(ak>>8>cGame.FORBIDDEN_ZONE_WIDTH+180){CTeam.nWall=2}else{if(ak>>8>cGame.FORBIDDEN_ZONE_WIDTH+130){CTeam.nWall=3}else{CTeam.nWall=4}}}}}else{CTeam.nWall=al}var ai=1-CTeam.s_kickTeamID;CTeam.getPointBetweenTwoPoint(92,ae<<8,(CTeam.s_placementY>0)?(cGame.CAGE_BOTTOM<<8):(cGame.CAGE_TOP<<8),CTeam.s_placementX,CTeam.s_placementY);CTeam.setFreeKickRadius();var B=gloft.casttoint(null);var H=B=CTeam.getNextPlayerID(ai,10,0,-1);var g=[4,4,0,1,2,4,5,0];var aj=g[u];var L=(CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(aj<<8):(-aj<<8);var K=(CTeam.s_middlePointY>0)?(-aj<<8):(aj<<8);if(!az){CTeam.s_teams[ai].m_players[H].m_posX=CTeam.s_middlePointX+L;CTeam.s_teams[ai].m_players[H].m_posY=CTeam.s_middlePointY+K}else{CTeam.s_teams[ai].m_players[H].m_posX=E;CTeam.s_teams[ai].m_players[H].m_posY=D;ay=p}CTeam.s_teams[ai].m_players[H].m_doHumanWallJump=true;CTeam.s_teams[ai].m_players[H].doStand();var c=1536;var t=((CTeam.s_placementX>>8)*(CTeam.s_placementY>>8)>0)?2:-2;av=CTeam.s_teams[ai].m_players[H].m_posY;ab=CTeam.s_teams[ai].m_players[H].m_posY;for(var V=0;V<CTeam.nWall-1;++V){H=CTeam.getNextPlayerID(ai,H-1,0,-1);CPlayer.parseVector_dup_II(1536*(V+1),u+t+8&7);CTeam.s_teams[ai].m_players[H].m_posX=CTeam.s_teams[ai].m_players[B].m_posX+CPlayer.s_vectorX;CTeam.s_teams[ai].m_players[H].m_posY=CTeam.s_teams[ai].m_players[B].m_posY+CPlayer.s_vectorY;CTeam.s_teams[ai].m_players[H].m_doHumanWallJump=true;CTeam.s_teams[ai].m_players[H].doStand();if(av>CTeam.s_teams[ai].m_players[H].m_posY){av=CTeam.s_teams[ai].m_players[H].m_posY}if(ab<CTeam.s_teams[ai].m_players[H].m_posY){ab=CTeam.s_teams[ai].m_players[H].m_posY}}}else{CTeam.nWall=0}CTeam.s_haveHumanWall=(CTeam.nWall>0);CTeam.getPointBetweenTwoPoint(92,ae<<8,0,CTeam.s_placementX,CTeam.s_placementY);var au=CTeam.s_middlePointX;var at=CTeam.s_middlePointY;var h=ay==2||ay==6;if(!cGame.s_is_in_traininig10_mode&&CTeam.s_haveHumanWall){CTeam.s_kickTeam.m_offsideGridX=16;var am=CTeam.s_teams[CTeam.s_kickTeamID];var P=CTeam.s_teams[1-CTeam.s_kickTeamID];am.gkRefreshCoachPlacementOrder();P.gkRefreshCoachPlacementOrder();var s=am.PosToGrid(au);var r=am.PosToGrid(at);var I=gloft.casttoint((am.PosToGrid(CTeam.s_kickPlayer.m_posX)+1+s)/2);var J=am.m_leftSide?(Actor.s_football.m_posY>0):(Actor.s_football.m_posY<0);var G=[J?-6:6,J?8:-8];GLLib.Dbg("build humanwall at"+s+","+r);var aM=10;var aN=[1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,0,0,1,1,-1,-1,0,0,1,1,-1,-1,2,2,-2,-2,0,0,1,1,-1,-1,-2,-2,-3,-3,2,-2,-3,-3];var d=[-2,-1,0,1,2,-2,-1,0,1,2,-2,-1,0,1,2,-3,3,-3,3,-3,3,-2,2,-2,2,-2,2,-2,2,-2,2,-4,4,-4,4,-4,4,-3,3,-4,4,-3,3,-4,4];var ah=h?6:5;var aQ=h?2:0;if(!h){aN=[11,11,11,11,12,12,12,12,12,13,13,13,13,13,11,11,11,11,12,12,12,12,13,13,13,13];d=[-2,-1,0,1,2,-2,-1,0,1,2,-2,-1,0,1,2,-3,3,-4,4,-3,3,-4,4,-3,3,-4,4];for(var U=0;U<aN.length;++U){var aw=aN;var N=U;aw[N]-=gloft.casttobyte(s);var ao=d;var aI=U;ao[aI]-=gloft.casttobyte(r)}}var X=aN.length;var aL=-1;var ad=-2;var b=gloft.ArrayCreation([X],gloft.casttoint(null));var W=gloft.ArrayCreation([X],gloft.casttoint(null));var ax=0;var ar=0;for(var T=0;T<X;++T){W[T]=(b[T]=-1);var ag=s+aN[T];var af=r+d[T];if(!h||s<13||T>=15){if(ag<15){var f=am.GridToPos(ag)-Actor.s_football.m_posX;var e=am.GridToPos(af)-Actor.s_football.m_posY;if(am.isInPlayfield(ag,af)&&cGame.verySlowDistance(f,e)>>8>=gloft.casttoint(CTeam.s_freeKickCircleRadius/2)+16){GLLib.Dbg(ag+","+af+"dis to ball:"+(cGame.verySlowDistance(f,e)>>8)+", s_freeKickCircleRadius/2:"+gloft.casttoint(CTeam.s_freeKickCircleRadius/2));if(ax<10){b[T]=-2;++ax}if(T>=5&&ar<10){W[T]=-2;++ar}}}}}var q=gloft.ArrayCreation([11],gloft.casttoint(null));var an=gloft.ArrayCreation([11],gloft.casttoint(null));for(var S=0;S<11;++S){an[S]=(q[S]=-1);if(P.m_players[S].m_doHumanWallJump){an[S]=S}}q[CTeam.s_kickPlayer.m_Number]=CTeam.s_kickPlayer.m_Number;if(null!=CTeam.s_freeKickAssit){q[CTeam.s_freeKickAssit.m_Number]=CTeam.s_freeKickAssit.m_Number}var ac=CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(am,10,0,-1,6,q,true);var aA=0;var R=[0,0,3,-5,-5];var O=[-3,3,0,-4,4];while(ac!=-1){var aF=am.m_players[ac];if(aA<4){var w=0;for(var Q=0;Q<X;++Q){w=Q;if(b[Q]==-2){b[Q]=-1;break}}b[w]=(q[ac]=ac);aF.m_coachSetTacState=4;CTeam.s_towardGridX=s+aN[w];CTeam.s_towardGridY=r+d[w]}else{if(aA<ah){q[ac]=ac;aF.m_coachSetTacState=12;CTeam.s_towardGridX=I;CTeam.s_towardGridY=G[aA-4]}else{q[ac]=ac;aF.m_coachSetTacState=0;CTeam.s_towardGridX=R[aA-ah];CTeam.s_towardGridY=O[aA-ah];if(java.lang.Math.abs(am.PosToGrid(CTeam.s_placementX)-CTeam.s_towardGridX)+java.lang.Math.abs(am.PosToGrid(CTeam.s_placementY)-CTeam.s_towardGridY)<4){CTeam.s_towardGridX=-3}}}am.setPlayerDest(ac,CTeam.s_towardGridX,CTeam.s_towardGridY);if(CTeam.s_towardGridX!=aF.m_coachSetDestGridX){GLLib.Dbg("warninig , set att place failed"+ac+":"+CTeam.s_towardGridX+"-->"+aF.m_coachSetDestGridX)}GLLib.Dbg("att:");CTeam.placePlayerInTraining(am,aF,ac);++aA;ac=CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(am,10,0,-1,(aA<2)?6:-1,q,true)}var a=CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(P,10,0,-1,-1,an,true);var ap=0;while(a!=-1){var aD=P.m_players[a];if(ap<aQ){an[a]=a;aD.m_coachSetTacState=12;CTeam.s_towardGridX=I+1;CTeam.s_towardGridY=((G[ap]>0)?(G[ap]-1):(G[ap]+1))}else{var M=0;for(var F=0;F<X;++F){M=F;if(W[F]==-2){W[F]=-1;break}}W[M]=(an[a]=a);aD.m_coachSetTacState=12;CTeam.s_towardGridX=s+aN[M];CTeam.s_towardGridY=r+d[M]}CTeam.s_towardGridX=-CTeam.s_towardGridX;CTeam.s_towardGridY=-CTeam.s_towardGridY;P.setPlayerDest(a,CTeam.s_towardGridX,CTeam.s_towardGridY);if(CTeam.s_towardGridX!=aD.m_coachSetDestGridX){GLLib.Dbg("warninig , set def place failed"+a+":"+CTeam.s_towardGridX+"-->"+aD.m_coachSetDestGridX)}GLLib.Dbg("def:");CTeam.placePlayerInTraining(P,aD,a);++ap;a=CTeam.getNextFreePlayer_dup_CTeamIIIIaIZ(P,10,0,-1,-1,an,false)}}else{if(!cGame.s_is_in_traininig10_mode){var v=[0,0,0,1,0,-1,1,0,1,1,1,-1,-1,0,-1,1,-1,-1];for(var aq=0;aq<2;++aq){for(var aa=1;aa<11;++aa){var A=CTeam.s_teams[aq].m_players[aa];if(A!=CTeam.s_kickPlayer&&A.m_court==0){if(A!=CTeam.s_freeKickAssit||A.m_myTeam!=CTeam.s_kickPlayer.m_myTeam){A.m_coachSetTacState=12;CTeam.s_teams[aq].deleteAllCommand(A.m_Number);CTeam.setFKPlayerPostion(A,A.m_role);var aK=CTeam.s_teams[aq].GridToPos(A.m_coachSetDestGridX);var aJ=CTeam.s_teams[aq].GridToPos(A.m_coachSetDestGridY);var o=cGame.fastDistance(Actor.s_football.m_posX-aK,Actor.s_football.m_posY-aJ);if(o<=31744){var aE=27648+A.m_disToBall;CPlayer.parseVector_dup_II(31744,A.m_dirToBall+4&7);var aP=Actor.s_football.m_posX-CPlayer.s_vectorX;var aO=Actor.s_football.m_posY-CPlayer.s_vectorY;var aC=CTeam.s_teams[aq].PosToGrid(aP);var aB=CTeam.s_teams[aq].PosToGrid(aO);if(!CTeam.s_teams[aq].isInPlayfield(aC,aB)){aP=Actor.s_football.m_posX+CPlayer.s_vectorX;aO=Actor.s_football.m_posY+CPlayer.s_vectorY;aC=CTeam.s_teams[aq].PosToGrid(aP);aB=CTeam.s_teams[aq].PosToGrid(aO)}var aH=CTeam.s_teams[aq].PosToGrid(Actor.s_football.m_posX);var aG=CTeam.s_teams[aq].PosToGrid(Actor.s_football.m_posY);var z=java.lang.Math.abs(aC-aH)+java.lang.Math.abs(aB-aG);var Z=aC;var Y=aB;for(var C=0;C<9;++C){if(!CTeam.isGridHasPlayer(aq,Z,Y)&&CTeam.s_teams[aq].isInPlayfield(Z,Y)&&java.lang.Math.abs(Z-aH)+java.lang.Math.abs(Y-aG)>=z){aC=Z;aB=Y;break}Z=aC+v[C*2];Y=aB+v[C*2+1]}A.m_coachSetDestGridX=aC;A.m_coachSetDestGridY=aB;CTeam.placePlayerInTraining(CTeam.s_teams[aq],A,aa)}}}}}}}if(CTeam.s_haveHumanWall&&av>>8!=ab>>8&&av>>8<cGame.CAGE_BOTTOM&&ab>>8>cGame.CAGE_TOP){if(java.lang.Math.abs(av)>java.lang.Math.abs(ab)){CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[0].m_posY=ab+(cGame.CAGE_BOTTOM<<8)>>1}else{CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[0].m_posY=av+(cGame.CAGE_TOP<<8)>>1}CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[0].m_destY=CTeam.s_teams[1-CTeam.s_kickTeamID].m_players[0].m_posY}return CTeam.nWall};CTeam.setFKPlayerPostion=function(d,f){if(d.m_myTeam.m_state==1){var a=d.m_myTeam.PosToGrid(Actor.s_football.m_posX);var e=[-8,0,6];var b=d.getFormationPos();var c=gloft.casttoint(null);for(c=0;c<3&&a>e[c];++c){}switch(c){case 0:if(b==1||b==0){d.m_coachSetDestGridX=a;break}if(b==3){d.m_coachSetDestGridX=cGame.random(-1,1);break}if(b==2){d.m_coachSetDestGridX=cGame.random(-4,-2);break}d.m_coachSetDestGridX=cGame.random(5,7);break;case 1:if(b==0){d.m_coachSetDestGridX=a-3;break}if(b==1){d.m_coachSetDestGridX=a;break}if(b==3){d.m_coachSetDestGridX=a+6;break}if(b==2){d.m_coachSetDestGridX=a+4;break}d.m_defaultGridX=cGame.random(9,10);break;case 2:if(b==1||b==0){d.m_coachSetDestGridX=cGame.random(-4,-2);break}if(b==2){d.m_coachSetDestGridX=a+2;break}if(b==3){d.m_coachSetDestGridX=a+4;break}d.m_coachSetDestGridX=cGame.random(10,11);break;case 3:d.m_coachSetDestGridX=d.m_attackGridX;break}}else{var a=d.m_myTeam.PosToGrid(Actor.s_football.m_posX);var e=[-8,0,6];var b=d.getFormationPos();var c=gloft.casttoint(null);for(c=0;c<3&&-a>=e[c];++c){}switch(c){case 0:if(b==1||b==0){d.m_coachSetDestGridX=cGame.random(-8,-6);break}if(b==3||b==2){d.m_coachSetDestGridX=cGame.random(-2,2);break}d.m_coachSetDestGridX=cGame.random(5,7);break;case 1:if(b==1||b==0){d.m_coachSetDestGridX=cGame.random(-10,-9);break}if(b==3||b==2){d.m_coachSetDestGridX=cGame.random(-6,-2);break}d.m_coachSetDestGridX=cGame.random(-1,2);break;case 2:if(b==1||b==0){d.m_coachSetDestGridX=cGame.random(-13,-10);break}if(b==3||b==2){d.m_coachSetDestGridX=cGame.random(-9,-5);break}d.m_coachSetDestGridX=cGame.random(-3,1);break;case 3:d.m_coachSetDestGridX=d.m_attackGridX;break}}d.m_coachSetDestGridY=d.m_defaultGridY};CTeam.isGridHasPlayer=function(b,a,f){for(var d=0;d<2;++d){for(var c=1;c<11;++c){var e=CTeam.s_teams[d].m_players[c];if(e.m_court==0){if(CTeam.s_teams[b].PosToGrid(e.m_posX)==a&&CTeam.s_teams[b].PosToGrid(e.m_posY)==f){return true}}}}return false};CTeam.canSetFreeKickAssit=function(){return(CTeam.s_kickTeam.m_type==0||(cGame.s_aiMode==13&&CTeam.s_kickPlayer==CPlayer.s_legendPlayer))&&CTeam.s_matchState==7&&CTeam.s_kickPlayer!=null&&CTeam.s_kickPlayer.calShootRange()};CTeam.setFreeKickAssist=function(){var f=CTeam.getNextPlayerID(CTeam.s_kickTeamID,10,CTeam.s_kickPlayerID,-1);if(f==-1){f=CTeam.getNextPlayerID(CTeam.s_kickTeamID,CTeam.s_kickPlayerID-1,1,-1)}CTeam.s_freeKickAssit=CTeam.s_team0.m_players[f];var d=CTeam.s_kickPlayer.m_currDir+((CTeam.s_placementY>0)?2:-2)&7;if(d!=2){if(d!=6){if(d>2&&d<6){d=(CTeam.s_team0.m_leftSide?4:0)}else{d=(CTeam.s_team0.m_leftSide?0:4)}}}CPlayer.parseVector_dup_II(2048,d);CTeam.s_freeKickAssit.m_posX=CTeam.s_placementX+CPlayer.s_vectorX;CTeam.s_freeKickAssit.m_posY=CTeam.s_placementY+CPlayer.s_vectorY;var e=CTeam.s_freeKickAssit;var c=CTeam.s_freeKickAssit;var a=false;c.m_vY=(a?1:0);e.m_vX=(a?1:0);CTeam.s_freeKickAssit.set_directDir(d+4&7);CTeam.s_freeKickAssit.setBehavior(0)};CTeam.switchFreeKickAssist=function(){CTeam.s_bHasFreeKickAssit=!CTeam.s_bHasFreeKickAssit;if(CTeam.s_bHasFreeKickAssit){CTeam.setFreeKickAssist()}else{CTeam.releaseFreeKickAssist()}};CTeam.releaseFreeKickAssist=function(){if(CTeam.s_freeKickAssit!=null){CTeam.s_freeKickAssit.m_coachSetTacState=-1;CTeam.s_freeKickAssit=null;Actor.s_football.m_posX=CTeam.s_placementX;Actor.s_football.m_posY=CTeam.s_placementY}};CTeam.freeKickInit=function(){CTeam.s_chooseShoot=false;CTeam.s_bFreeKickPassing=false;CTeam.s_bHasFreeKickAssit=false;CPlayer.s_radarPower=0;CTeam.s_period=16;CTeam.setPeriodSwitch(5)};CTeam.cursorInit=function(){GLLib.ResetKey();if(CTeam.s_matchState==7||CTeam.s_matchState==4||CTeam.s_matchState==6){var a=(1-CTeam.s_kickTeamID==CTeam.s_leftTeamID)?(-cGame.CAGE_LEFT+8):(cGame.CAGE_LEFT-8);if(cGame.s_aiMode==10){cGame.cursor_x=a<<8;cGame.cursor_y=0}else{CTeam.getPointBetweenTwoPoint((CTeam.s_matchState==4)?360:90,a<<8,0,CTeam.s_placementX,CTeam.s_placementY);cGame.cursor_x=CTeam.s_middlePointX;cGame.cursor_y=CTeam.s_middlePointY}CTeam.s_bFreeKickPassing=true}else{if(CTeam.s_matchState==5){cGame.cursor_x=(CTeam.s_kickTeam.m_leftSide?(528-cGame.PENALTY_X<<8):(-(528-cGame.PENALTY_X)<<8));cGame.cursor_y=256}}CTeam.s_potentialPlayer=null;CTeam.s_chooseShoot=false;Actor.s_cornerCursor.m_actionCycle=true;Actor.s_cornerCursor.setAction_dup_IZZ(39,false,Actor.s_cornerCursor.m_actionCycle);CTeam.s_period=15;cGame.needdraw_cursor=true;cGame.pos3DTo2D(cGame.cursor_x,cGame.cursor_y,0);cGame.cursor_2d_x=java.lang.Math.max(320,cGame.s_pos2Dx);cGame.cursor_2d_y=java.lang.Math.max(180,cGame.s_pos2Dy);if(cGame.s_aiMode!=20){cGame.setSpecialCamera_dup_ZIIII(false,cGame.cursor_2d_x,cGame.cursor_2d_y,9<<((cGame.s_aiMode==10)?2:1),-1)}};CTeam.debugPeriodName=function(a){switch(a){case 0:GLLib.Dbg("PERIOD :: PE_EMOTION");break;case 1:GLLib.Dbg("PERIOD :: PE_REFEREE");break;case 2:GLLib.Dbg("PERIOD :: PE_COACH");break;case 3:GLLib.Dbg("PERIOD :: PE_GOING");break;case 4:GLLib.Dbg("PERIOD :: PE_PREPARE");break;case 5:GLLib.Dbg("PERIOD :: PE_WAIT");break;case 6:GLLib.Dbg("PERIOD :: PE_LOCATE");break;case 7:GLLib.Dbg("PERIOD :: PE_CAMERA_TO_KICK_PLAYER");break;case 8:GLLib.Dbg("PERIOD :: PE_CAMERA_TO_GOAL");break;case 9:GLLib.Dbg("PERIOD :: PE_PRE_SHOOT");break;case 10:GLLib.Dbg("PERIOD :: PE_ACC_POWER");break;case 11:GLLib.Dbg("PERIOD :: PE_EXECUTE");break;case 12:GLLib.Dbg("PERIOD :: PE_CHANGEPLAYER");break;case 13:GLLib.Dbg("PERIOD :: PE_KICK_ASSIT");break;case 14:GLLib.Dbg("PERIOD :: PE_KICK_SWITCH");break;case 16:GLLib.Dbg("PERIOD :: PE_FREEKICK_INIT");break;case 15:GLLib.Dbg("PERIOD :: PE_WAIT_CAMERA");break;case 17:GLLib.Dbg("PERIOD :: PE_PRE_SHOOT2");break;default:GLLib.Dbg("PERIOD :: period not found");break}};CTeam.setPeriod=function(a){CTeam.debugPeriodName(a);switch(CTeam.s_period=a){case 7:if(cGame.s_isPenaltyMode||cGame.s_whichHalf==5){break}if(CTeam.s_matchState==8&&CTeam.s_kickTeam.m_leftSide){cGame.setSpecialCamera_dup_ZIIII(false,cGame.PENALTY_CAMERA_X,cGame.PENALTY_CAMERA_Y,36,CTeam.s_kickPlayer.m_currDir);break}cGame.setSpecialCamera_dup_ZIIII(false,CTeam.s_kickPlayer.m_screenX,CTeam.s_kickPlayer.m_screenY,9<<((cGame.s_aiMode==10)?3:2),CTeam.s_kickPlayer.m_currDir);break;case 8:if(CTeam.s_kickTeam.m_leftSide){cGame.setSpecialCamera_dup_ZIIII(false,cGame.RIGHT_PENALTY_CARMER_X,cGame.RIGHT_PENALTY_CARMER_Y,18,-1)}else{cGame.setSpecialCamera_dup_ZIIII(false,cGame.LEFT_PENALTY_CARMER_X,cGame.LEFT_PENALTY_CARMER_Y,18,-1)}if(cGame.s_isLocalPenalty&&cGame.s_stateCurrent!=24){cGame.s_cinematicsPause=false;cGame.Overlay_Message_dup_javalangString(cGame.GetString(2043+CTeam.s_kickTeamID));break}break;case 10:if(CPlayer.s_radar==2){if(cGame.s_aiMode==20){++CPlayer.s_powerForHitBar;CPlayer.s_power=gloft.casttoint(CPlayer.s_powerForHitBar/4);break}CPlayer.s_power=4;break}else{if(CPlayer.s_radar==3){CPlayer.s_power=1;break}if(CPlayer.s_radar==7){CPlayer.s_power=1;break}break}break;case 9:CPlayer.s_radar=3;CPlayer.s_power=0;CTeam.s_chooseShoot=true;break;case 11:case 13:if(!cGame.s_isPenaltyMode&&cGame.s_whichHalf!=5){cGame.setNormalCamera(true)}cGame.updateCamera(true);break;case 18:cGame.miniPenaltyShootTimeSkip=cGame.miniPenaltyShootTimeI9100Skip[gloft.casttoint(cGame.s_training_challenge_level/20)];break}};CTeam.initPlacementPos=function(b){if(cGame.s_whichHalf==5){var a=CTeam.s_kickTeam.m_opTeam.m_GK;a.m_posX=135168;a.m_posY=0;a.stand(true);a.set_directDir(6);return}if(CTeam.s_matchState==8){var a=CTeam.s_kickTeam.m_opTeam.m_GK;a.stand(true)}for(var c=0;c<2;++c){for(var e=0;e<11;++e){var d=CTeam.s_teams[c].m_players[e];if(e==0||b==0){d.m_posX=d.m_destX;d.m_posY=d.m_destY}else{CTeam.getPointBetweenTwoPoint(b,d.m_posX,d.m_posY,d.m_destX,d.m_destY);d.m_posX=CTeam.s_middlePointX;d.m_posY=CTeam.s_middlePointY}}}};CTeam.setForbiddenZoneGrid=function(){CTeam.FORBIDDEN_ZONE_TOP_GRID=gloft.casttoint((cGame.FORBIDDEN_ZONE_TOP+16)/32);CTeam.FORBIDDEN_ZONE_BOTTOM_GRID=gloft.casttoint((cGame.FORBIDDEN_ZONE_BOTTOM+16)/32);CTeam.FORBIDDEN_ZONE_LEFT_GRID=gloft.casttoint((-cGame.FORBIDDEN_ZONE_RIGHT+16)/32);CTeam.FORBIDDEN_ZONE_RIGHT_GRID=gloft.casttoint((-cGame.FORBIDDEN_ZONE_LEFT+16)/32)};CTeam.adjustTeamSide=function(c){if(!c){CTeam.s_leftTeamID=CTeam.s_team1.m_ID;CTeam.s_team0.m_leftSide=false;CTeam.s_team1.m_leftSide=true}else{CTeam.s_leftTeamID=CTeam.s_team0.m_ID;CTeam.s_team0.m_leftSide=true;CTeam.s_team1.m_leftSide=false}CTeam.clearAll();if(!c){for(var a=0;a<11;++a){var b=CTeam.s_teams[1].m_players[a];b.set_currDir(2)}}};CTeam.isPlayerOffside=function(b){if(cGame.s_aiMode==2||cGame.s_aiMode==6||cGame.s_aiMode==6||(cGame.s_is_in_traininig10_mode&&cGame.s_aiMode!=12)){return false}if(CTeam.s_matchState!=0||b==null||Actor.s_ball_state==2||Actor.s_ball_state==9||Actor.s_ball_state==3){return false}Label_0128:{if(CPlayer.s_ballLastOwner!=null){if(b.m_myTeam.m_leftSide){if(b.m_posX>=CPlayer.s_ballLastOwner.m_posX+1024){break Label_0128}}else{if(b.m_posX<=CPlayer.s_ballLastOwner.m_posX-1024){break Label_0128}}return false}}if(b.m_court!=0){return false}var c=1-b.m_myTeam.m_ID;if(b.m_myTeam.m_leftSide){if(b.m_posX<0){return false}for(var a=1;a<11;++a){if(CTeam.s_teams[c].m_players[a].m_court==0&&b.m_posX<CTeam.s_teams[c].m_players[a].m_posX){return false}}}else{if(b.m_posX>0){return false}for(var a=1;a<11;++a){if(CTeam.s_teams[c].m_players[a].m_court==0&&b.m_posX>CTeam.s_teams[c].m_players[a].m_posX){return false}}}return cGame.s_aiMode!=12||CTeam.have_defender_in_training};CTeam.initPosInChallenge=function(){for(var c=0;c<2;++c){for(var a=0;a<11;++a){var g=null;var d=null;var k=d=(g=CTeam.s_teams[c].m_players[a]);var b=CTeam.getPlayerInitalPosX(k);d.m_destX=b;g.m_posX=b;var f=k;var e=k;var h=CTeam.s_teams[c].GridToPos(k.m_formationGridY);e.m_destY=h;f.m_posY=h;k.m_posZ=0}}};CTeam.execChangePlayer=function(){var d=(cGame.s_playerChanged==2)?0:cGame.s_playerChanged;for(var b=0;b<((cGame.s_playerChanged!=2)?1:cGame.s_playerChanged);++b){d+=b;cGame.s_subsIndex=0;for(var c=cGame.s_countChangePlayerInMatch[d]-1;c>=0;--c){cGame.exchangePlayerInfo(d,cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c],cGame.s_subsPair[6*d+2-cGame.s_subsLeft[d]-c]);++cGame.s_subsIndex;var g=0;for(var f=11;f<cGame.s_teamPlayerNum[d];++f){if(cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c]==cGame.s_subs_N[d][f]){g=f;break}}var a=cGame.s_subs_N[d][g];cGame.s_subs_N[d][g]=cGame.s_subs_N[d][cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c]];cGame.s_subs_N[d][cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c]]=a;cGame.s_subsPlayerNumber[d*3+2-cGame.s_subsLeft[d]-c]=cGame.s_subsPair[6*d+2-cGame.s_subsLeft[d]-c];var e=CTeam.m_punishment[g];CTeam.m_punishment[g]=CTeam.m_punishment[cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c]];CTeam.m_punishment[cGame.s_subsPair[6*d+5-cGame.s_subsLeft[d]-c]]=e}}if(cGame.s_isHalfTimeSub){cGame.s_lastSubsLeft[0]=cGame.s_subsLeft[0];cGame.s_lastSubsLeft[1]=cGame.s_subsLeft[1];cGame.s_isHalfTimeSub=false}cGame.s_countChangePlayerInMatch[0]=0;cGame.s_countChangePlayerInMatch[1]=0;GLLib.Dbg("GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG1")};CTeam.isDribbleInArea=function(){var b=cGame.isActorInDribbleArea(Actor.s_football);var a=cGame.isActorInDribbleArea(CTeam.s_kickPlayer);if(b==-1&&a==1){return 1}return 0};CTeam.updateCheckDribbleElement=function(){if(CTeam.s_startDribbleIndex==-1||CTeam.s_startDribbleIndex!=CTeam.s_curDribbleIndex){++CTeam.s_startDribbleIndex;CTeam.s_curDribbleElementID=CTeam.getElementIDByLayerID(-1);CTeam.s_curCrossBarLinkID=-1;CTeam.s_isNewRotateBar=true;CTeam.s_rotateCurDirIndex=0;CTeam.s_rotateLastDir=-1;CTeam.s_rotateWrongDirNum=0}if(CTeam.s_curDribbleElementID==-1){return}var a=false;var b=0;switch(Actor.s_actors[CTeam.s_curDribbleElementID].m_type){case 109:a=CTeam.checkDribbleCrossBar(CTeam.s_curDribbleElementID);if(Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow==193||Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow==192){b=cGame.s_miniGameScoreRules[0][0];break}if(Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow>=183&&Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow<=191){b=cGame.s_miniGameScoreRules[1][0];break}break;case 112:a=CTeam.checkDribbleRotateBar(CTeam.s_curDribbleElementID);if(Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow==193||Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow==192){b=cGame.s_miniGameScoreRules[2][0];break}if(Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow>=183&&Actor.s_actors[CTeam.s_curDribbleElementID].m_actionIDNow<=191){b=cGame.s_miniGameScoreRules[3][0];break}break}if(a){cGame.s_miniGameScore+=b;++CTeam.s_curDribbleIndex;++CTeam.s_comboPassCount;CTeam.s_passAndHitFlag=1}};CTeam.getElementIDByLayerID=function(b){var a=-1;for(var c=0;c<Actor.s_actorCount;++c){if(Actor.s_actors[c].m_type==109||Actor.s_actors[c].m_type==112){if(b!=-1){if(Actor.s_actors[c].m_layerID==b){a=c;break}}else{if(Actor.s_actors[c].m_order==CTeam.s_curDribbleIndex&&Actor.s_actors[c].m_dribbleCrossBarLink!=-1){a=c;break}}}}return a};CTeam.getFirstGuideID=function(){var a=-1;for(var b=0;b<Actor.s_actorCount;++b){if(Actor.s_actors[b].m_type==110){if(Actor.s_actors[b].m_order==0){a=b;break}}}return a};CTeam.checkDribbleCrossBar=function(h){if(Actor.s_actors[h].m_dribbleCrossBarLink==-1){return false}if(CTeam.s_curCrossBarLinkID==-1){CTeam.s_curCrossBarLinkID=CTeam.getElementIDByLayerID(Actor.s_actors[h].m_dribbleCrossBarLink);if(CTeam.s_curCrossBarLinkID==-1){return false}}var b=Actor.s_actors[h].m_posX;var a=Actor.s_actors[h].m_posY;var i=Actor.s_actors[CTeam.s_curCrossBarLinkID].m_posX;var g=Actor.s_actors[CTeam.s_curCrossBarLinkID].m_posY;var d=Actor.s_actors[h].m_dribbleDir;var j=CTeam.checkSegmentAndPoint(b,a,i,g,CPlayer.s_focusPlayer.m_lastPosX,CPlayer.s_focusPlayer.m_lastPosY);var c=CTeam.checkSegmentAndPoint(b,a,i,g,CPlayer.s_focusPlayer.m_posX,CPlayer.s_focusPlayer.m_posY);var f=CTeam.checkSegmentAndPoint(CPlayer.s_focusPlayer.m_lastPosX,CPlayer.s_focusPlayer.m_lastPosY,CPlayer.s_focusPlayer.m_posX,CPlayer.s_focusPlayer.m_posY,b,a);var e=CTeam.checkSegmentAndPoint(CPlayer.s_focusPlayer.m_lastPosX,CPlayer.s_focusPlayer.m_lastPosY,CPlayer.s_focusPlayer.m_posX,CPlayer.s_focusPlayer.m_posY,i,g);if((f<=0||e>=0)&&(f>=0||e<=0)){return false}var k=false;switch(d){case 0:k=(j>0&&c<0);break;case 1:k=(j<0&&c>0);break;case 2:if(b==i){k=(CPlayer.s_focusPlayer.m_lastPosX>b&&CPlayer.s_focusPlayer.m_posX<b);break}if(b<i){k=((a>g)?(j>0&&c<0):(j<0&&c>0));break}k=((a>g)?(j<0&&c>0):(j>0&&c<0));break;case 3:if(b==i){k=(CPlayer.s_focusPlayer.m_lastPosX<b&&CPlayer.s_focusPlayer.m_posX>b);break}if(b<i){k=((a>g)?(j<0&&c>0):(j>0&&c<0));break}k=((a>g)?(j>0&&c<0):(j<0&&c>0));break}return k};CTeam.updateCheckPlayerHitElements=function(){var a=false;var b=0;var d=CPlayer.s_focusPlayer;for(var c=0;c<Actor.s_actorCount;++c){if(Actor.s_actors[c].m_type==109||Actor.s_actors[c].m_type==112||Actor.s_actors[c].m_type==113){a=CTeam.checkHitElement(c);if(a){d=CTeam.s_teams[CTeam.s_hitElementPlayerTeamID].m_players[CTeam.s_hitElementPlayerID];if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_canHitable){CTeam.s_comboPassCount=0;CTeam.s_passAndHitFlag=-1;Actor.s_actors[c].m_dribbleDeduction=true}}switch(Actor.s_actors[c].m_actionIDNow){case 192:case 193:if(!a){Actor.s_actors[c].m_canHitable=true;break}if(Actor.s_actors[c].m_canHitable){if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_type==109){cGame.s_miniGameScore+=cGame.s_miniGameScoreRules[0][1]}else{if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_type==112){cGame.s_miniGameScore+=cGame.s_miniGameScoreRules[2][1]}}Actor.s_actors[c].setAction_dup_IZZ(193,true,false);Actor.s_actors[c].m_canHitable=false;d.doStagger();break}break;case 183:if(a&&Actor.s_actors[c].m_canHitable){if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_type==109){cGame.s_miniGameScore+=cGame.s_miniGameScoreRules[1][1]}else{if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_type==112){cGame.s_miniGameScore+=cGame.s_miniGameScoreRules[3][1]}}b=CPlayer.dirTo(d.m_vX,d.m_vY);Actor.s_actors[c].setAction_dup_IZZ(184+b,true,false);Actor.s_actors[c].m_canHitable=false;d.doStagger();break}break;case 226:case 228:case 230:if(!a||!Actor.s_actors[c].m_canHitable){break}if(d==CPlayer.s_focusPlayer&&Actor.s_actors[c].m_type==113){cGame.s_miniGameScore+=cGame.s_miniGameScoreRules[4][1]}if(d.m_vY<0&&java.lang.Math.abs(d.m_vY)>java.lang.Math.abs(d.m_vX)){Actor.s_actors[c].setAction_dup_IZZ(231,true,false);Actor.s_actors[c].m_canHitable=false;break}if(d.m_vY>0&&java.lang.Math.abs(d.m_vY)>java.lang.Math.abs(d.m_vX)){Actor.s_actors[c].setAction_dup_IZZ(233,true,false);Actor.s_actors[c].m_canHitable=false;break}if(d.m_vX<0&&java.lang.Math.abs(d.m_vX)>java.lang.Math.abs(d.m_vY)){Actor.s_actors[c].setAction_dup_IZZ(234,true,false);Actor.s_actors[c].m_canHitable=false;break}if(d.m_vX>0&&java.lang.Math.abs(d.m_vX)>java.lang.Math.abs(d.m_vY)){Actor.s_actors[c].setAction_dup_IZZ(232,true,false);Actor.s_actors[c].m_canHitable=false;break}break}}}};CTeam.checkHitElement=function(a){var b=cGame.fastDistance(CPlayer.s_focusPlayer.m_posX-Actor.s_actors[a].m_posX,CPlayer.s_focusPlayer.m_posY-Actor.s_actors[a].m_posY);if(b<=1280){CTeam.s_hitElementPlayerTeamID=0;CTeam.s_hitElementPlayerID=CPlayer.s_focusPlayer.m_Number;return true}for(var c=1;c<=cGame.s_dribbleDefenderNumber;++c){b=cGame.fastDistance(CTeam.s_team1.m_players[c].m_posX-Actor.s_actors[a].m_posX,CTeam.s_team1.m_players[c].m_posY-Actor.s_actors[a].m_posY);if(b<=1280){CTeam.s_hitElementPlayerTeamID=1;CTeam.s_hitElementPlayerID=c;return true}}return false};CTeam.checkDribbleRotateBar=function(a){var d=Actor.s_actors[a].m_posX;var b=Actor.s_actors[a].m_posY;if(CTeam.s_isNewRotateBar){CTeam.initRotateDirOrder(a)}var c=CPlayer.dirTo(CPlayer.s_focusPlayer.m_posX-d,CPlayer.s_focusPlayer.m_posY-b);if(c==CTeam.s_rotateDirOrder[CTeam.s_rotateCurDirIndex]){if(CTeam.s_rotateCurDirIndex!=CTeam.s_rotateDirOrder.length-1){++CTeam.s_rotateCurDirIndex;CTeam.s_rotateWrongDirNum=0}if(CTeam.s_rotateDirOrder.length>5&&CTeam.s_rotateCurDirIndex==gloft.casttoint(CTeam.s_rotateDirOrder.length/2)+1){++CTeam.s_rotateGuideOff}if(CTeam.s_rotateCurDirIndex==CTeam.s_rotateDirOrder.length-1){switch(Actor.s_actors[a].m_dribbleDir){case 0:case 6:case 10:case 12:case 19:case 23:return CPlayer.s_focusPlayer.m_lastPosX<d&&CPlayer.s_focusPlayer.m_posX>d;case 2:case 4:case 8:case 14:case 17:case 21:return CPlayer.s_focusPlayer.m_lastPosX>d&&CPlayer.s_focusPlayer.m_posX<d;case 1:case 7:case 11:case 13:case 16:case 20:return CPlayer.s_focusPlayer.m_lastPosY<b&&CPlayer.s_focusPlayer.m_posY>b;case 3:case 5:case 9:case 15:case 18:case 22:return CPlayer.s_focusPlayer.m_lastPosY>b&&CPlayer.s_focusPlayer.m_posY<b}}}else{if(CTeam.s_rotateCurDirIndex>0&&CTeam.s_rotateLastDir!=c){++CTeam.s_rotateWrongDirNum}}if(CTeam.s_rotateLastDir==-1||CTeam.s_rotateLastDir!=c){CTeam.s_rotateLastDir=c}if(CTeam.s_rotateWrongDirNum>3){if(CTeam.s_rotateDirOrder.length>5&&CTeam.s_rotateCurDirIndex>=gloft.casttoint(CTeam.s_rotateDirOrder.length/2)+1){CTeam.s_rotateCurDirIndex=gloft.casttoint(CTeam.s_rotateDirOrder.length/2)+1}else{CTeam.s_rotateCurDirIndex=0}CTeam.s_rotateWrongDirNum=0}return false};CTeam.initRotateDirOrder=function(b){var c=Actor.s_actors[b].m_dribbleDir;var e=c<<1;var f=1;var a=9;if(c>=20){a=3;f=-1;e=c-20<<1}else{if(c>=16){a=3;f=1;e=c-16<<1}else{if(c>=12){a=5;f=-1;e=c-12<<1}else{if(c>=8){a=5;f=1;e=c-8<<1}else{if(c>=4){a=9;f=-1;e=c-4<<1}}}}}CTeam.s_rotateDirOrder=gloft.ArrayCreation([a],gloft.casttoint(null));for(var d=0;d<a;++d){CTeam.s_rotateDirOrder[d]=e;e=(e+f&7)}};CTeam.checkSegmentAndPoint=function(c,b,e,d,g,f){if(c>e){var a=e;e=c;c=a;a=d;d=b;b=a}return(e-c)*(f-b)-(g-c)*(d-b)};CTeam.getChallengeLockFromRms=function(b){try{cGame.rs=javax.microedition.rms.RecordStore.openRecordStore("rf_challenge",true);if(cGame.rs.getNumRecords()>0){cGame.rs.getRecord(1,cGame.s_challenge_buffer,0);if(b){java.lang.System.arraycopy(cGame.s_challenge_buffer,0,CTeam.s_training_lock,0,CTeam.s_training_lock.length)}else{cGame.s_challengeLock=cGame.s_challenge_buffer[6]}}else{java.lang.System.arraycopy(CTeam.s_training_lock,0,cGame.s_challenge_buffer,0,CTeam.s_training_lock.length);cGame.s_challenge_buffer[6]=0;cGame.rs.addRecord(cGame.s_challenge_buffer,0,cGame.s_challenge_buffer.length)}}catch(c){c.printStackTrace()}finally{try{cGame.rs.closeRecordStore()}catch(a){a.printStackTrace()}}};CTeam.writeChallengeLockToRms=function(b){try{cGame.rs=javax.microedition.rms.RecordStore.openRecordStore("rf_challenge",true);if(b){java.lang.System.arraycopy(CTeam.s_training_lock,0,cGame.s_challenge_buffer,0,CTeam.s_training_lock.length)}else{cGame.s_challenge_buffer[6]=cGame.s_challengeLock}cGame.rs.setRecord(1,cGame.s_challenge_buffer,0,cGame.s_challenge_buffer.length)}catch(c){c.printStackTrace()}finally{try{cGame.rs.closeRecordStore()}catch(a){a.printStackTrace()}}};CTeam.unlockTraining=function(a){if(CTeam.s_training_lock[a]<=cGame.s_training_challenge_level){var b=CTeam.s_training_lock;++b[a];if(CTeam.s_training_lock[a]>=20){CTeam.s_training_lock[a]=20}}};CTeam.training_ClearPlayerCoachset=function(){for(var d=0;d<11;++d){CTeam.s_team0.m_players[d].m_coachSetTacState=-1;CTeam.s_team0.m_players[d].stand(false);CTeam.s_team0.m_haveNewOrder[d]=false;if(!Actor.s_ball_heldbygk||d!=0){CTeam.s_team1.m_players[d].m_coachSetTacState=-1;CTeam.s_team1.m_players[d].stand(false);CTeam.s_team0.m_haveNewOrder[d]=false}CTeam.s_team1.m_players[d].m_doHumanWallJump=false}if(CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_myTeam.m_ID==CTeam.s_team0.m_ID){CPlayer.s_ballOwner.loseBall();var c=Actor.s_football;var b=Actor.s_football;var a=Actor.s_football;var e=false;a.m_vZ=(e?1:0);b.m_vY=(e?1:0);c.m_vX=(e?1:0)}};CTeam.setTrainStep=function(b){if(CTeam.s_TrainStep!=b){CTeam.s_train_step_current_frame=0}if((CTeam.s_TrainStep=b)==0){CTeam.m_train_train_count=0;CTeam.m_train_train_count_chance=0;CTeam.m_train_win_count=0;CTeam.s_training_rank=0;CTeam.isTrainFailViaOffsde=false;if(cGame.s_aiMode==9){}}else{if(b==1){CTeam.s_newtutorialPause=true;CTeam.s_newtutorialHintStrID=886}else{if(b==2){CTeam.s_newtutorialPause=false;if(cGame.s_aiMode==12){GLLib.ResetKey()}}else{if(b==4){CTeam.s_newtutorialPause=false;if(cGame.s_aiMode==9){CTeam.isDribbleOutArea=false}}else{if(b!=3){if(b==5){GLLib.Dbg("!!! TRAIN_FAIL");CTeam.isTrainFailViaOffsde=(CTeam.s_matchState==6);CTeam.setMatchState_dup_I(cGame.s_currect_training_mode_goalkick_status);CTeam.training_ClearPlayerCoachset();if(cGame.s_currect_training_mode_train_count==1){cGame.s_isChallengeSuccess=false}if(cGame.s_currect_training_mode_train_count>CTeam.m_train_train_count+1){CTeam.s_team0.m_players[cGame.s_menuSelectPlayerID].m_coachSetTacState=37;CTeam.s_team0.m_haveNewOrder[cGame.s_menuSelectPlayerID]=true}if(CTeam.m_train_train_count>=cGame.s_currect_training_mode_train_count-1){if(cGame.s_aiMode==15||cGame.s_aiMode==10){cGame.s_isChallengeSuccess=true;for(var a=0;a<cGame.s_miniLevel.length;++a){if(cGame.s_miniLevel[a].m_animID<6&&cGame.s_miniLevel[a].m_dribbleDeductionTime<=0){cGame.s_isChallengeSuccess=false;break}}}if(!cGame.s_isChallengeSuccess){}}if(cGame.s_aiMode==9){CTeam.s_train_step_current_frame=20;CTeam.setAllPlayerStand()}if(cGame.s_currect_training_mode_train_count==1){cGame.s_isChallengeSuccess=false}if(cGame.s_currect_training_mode_train_count>CTeam.m_train_train_count+1){CTeam.s_team0.m_players[cGame.s_menuSelectPlayerID].m_coachSetTacState=37;CTeam.s_team0.m_haveNewOrder[cGame.s_menuSelectPlayerID]=true}if(CTeam.m_train_train_count>=cGame.s_currect_training_mode_train_count-1){if(cGame.s_aiMode==15||cGame.s_aiMode==10){cGame.s_isChallengeSuccess=true;for(var a=0;a<cGame.s_miniLevel.length;++a){if(cGame.s_miniLevel[a].m_animID<6&&cGame.s_miniLevel[a].m_dribbleDeductionTime<=0){cGame.s_isChallengeSuccess=false;break}}}if(!cGame.s_isChallengeSuccess){}}}else{if(b==6){CTeam.setMatchState_dup_I(cGame.s_currect_training_mode_goalkickoff_status);++CTeam.m_train_win_count;CTeam.training_ClearPlayerCoachset();if(cGame.s_aiMode==20){if(cGame.s_miniGameScore>cGame.s_miniGameStarRules[0+cGame.s_training_challenge_level][6]){cGame.s_isChallengeSuccess=true}for(var a=0;a<Actor.s_futureBallHitBarLastPosX.length;++a){Actor.s_futureBallHitBarLastPosX[a]=0;Actor.s_futureBallHitBarLastPosY[a]=0;Actor.s_futureBallHitBarLastPosZ[a]=0;Actor.s_futureBallHitBarPosX[a]=0;Actor.s_futureBallHitBarPosX[a]=0;Actor.s_futureBallHitBarPosX[a]=0}}else{if(cGame.s_aiMode!=10){cGame.s_isChallengeSuccess=true}}if(CTeam.m_train_train_count>=cGame.s_currect_training_mode_train_count-1){if(cGame.s_aiMode==15||cGame.s_aiMode==10){cGame.s_isChallengeSuccess=true;for(var a=0;a<cGame.s_miniLevel.length;++a){if(cGame.s_miniLevel[a].m_animID<6&&cGame.s_miniLevel[a].m_dribbleDeductionTime<=0){cGame.s_isChallengeSuccess=false;break}}}if(!cGame.s_isChallengeSuccess){}}if(cGame.s_currect_training_mode_train_count>CTeam.m_train_train_count+1){CTeam.s_team0.m_players[cGame.s_menuSelectPlayerID].m_coachSetTacState=36;CTeam.s_team0.m_haveNewOrder[cGame.s_menuSelectPlayerID]=true;GLLib.Dbg("##### Gooooooooooooll ")}}else{if(b==7){cGame.s_currIndexOfReplay=cGame.s_startIndexOfReplay;cGame.s_autoReplay=true;cGame.s_isGamePaused=true;cGame.SwitchState(27);GLLib.Dbg("train mode: replaying")}else{if(b==10){CTeam.s_ctrMatchState=0;CTeam.setMatchState_dup_I(cGame.s_currect_training_mode_result_status)}else{if(b==11){CTeam.setAllPlayerStand()}else{if(b==12){if(cGame.s_nonCareerTraining){cGame.SwitchState(36)}else{if(cGame.s_isChallengeSuccess){cGame.PlaySoundDelayed(0,1,15)}else{cGame.PlaySoundDelayed(9,1,15)}cGame.SwitchState(107)}}}}}}}}}}}}};CTeam.training_machine=function(){++CTeam.s_train_step_current_frame;var h=CTeam.training_machine_data[CTeam.s_TrainStep];var i=false;var a=h[0];if(a!=-1){var b=(h.length>1)?h[1]:-1;i=CTeam.run_training_machine_function(a,b)}else{var g=h[1];var j=h[2];var f=h[3];var d=h[4];var c=h[5];i=((g==-1||g==cGame.s_stateCurrent)&&(j==-1||j==CTeam.s_matchState)&&(f==-1||f==CTeam.s_period)&&(d==-1||d<=CTeam.s_train_step_current_frame)&&(c==-1||cGame.s_isForPlayerActionRelease));if(i){var k=h[6];var e=h[7];if(k>=0){CTeam.setTrainStep(k)}if(e>0){CTeam.run_training_machine_function(e,-1)}}}};CTeam.updateTrainingTime=function(a){cGame.s_dribbleTime=a-CTeam.s_training_step_current_time;if(cGame.s_dribbleTime<0){cGame.s_dribbleTime=0}if((a==0||CTeam.s_isStartTime)&&cGame.s_aiMode==12){cGame.s_dribbleTime=20000}cGame.s_currMinute=gloft.casttoint((gloft.casttoint(cGame.s_dribbleTime/1000)));cGame.s_currSecond=gloft.casttoint(gloft.casttoint((cGame.s_dribbleTime%1000))/10)};CTeam.run_training_machine_function=function(b,c){Label_1824:{switch(b){case 2:if(CTeam.s_train_step_current_frame>=c){var h=false;if(cGame.s_aiMode==15||cGame.s_aiMode==10){h=true;cGame.s_isChallengeSuccess=true;for(var g=0;g<cGame.s_miniLevel.length;++g){if(cGame.s_miniLevel[g].m_animID<6&&!cGame.s_miniLevel[g].m_actionOver){cGame.s_isChallengeSuccess=false;h=false;break}}}if(!h&&CTeam.m_train_train_count_chance<cGame.s_currect_training_mode_train_count-1){CTeam.s_isStartTime=true;CTeam.updateTrainingTime(0);++CTeam.m_train_train_count;++CTeam.m_train_train_count_chance;CTeam.isNextShootInTraining=true;if(cGame.s_aiMode==20){cGame.s_needShowHirBarDeduction=false;cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}if(cGame.s_aiMode==10||cGame.s_aiMode==15||cGame.s_aiMode==15||cGame.s_training_type==4){cGame.PlaySound_dup_I(cGame.sfx_1_whistle_blow)}cGame.ProcessCinematicsEnd(1);cGame.P("cGame.setGameStatus(cGame.GS_NEWMATCH) is not working...............");cGame.SwitchState(26)}else{CTeam.setTrainStep(10)}break}break;case 3:if(CTeam.s_train_step_current_frame<c){break}if(CTeam.s_training_rank==3||CTeam.s_training_rank==2||CTeam.s_training_rank==1){CTeam.setTrainStep(11);break}CTeam.setTrainStep(12);break;case 1:switch(CTeam.s_matchState){case 0:if(CTeam.s_isStartTime){CTeam.s_training_step_start_time=java.lang.System.currentTimeMillis();CTeam.s_training_step_current_time=0;CTeam.s_train_step_current_frame=0;CTeam.s_isStartTime=false}else{CTeam.s_training_step_current_time+=GLLib.s_game_frameDT}if(Actor.s_ball_heldbygk){CTeam.setTrainStep(5);break Label_1824}break Label_1824;case 1:CTeam.setTrainStep(6);break Label_1824;case 4:if(cGame.s_aiMode!=12){CTeam.setTrainStep(5);break Label_1824}if(cGame.s_miniGameScore>0&&CTeam.m_train_train_count==2){CTeam.s_TrainStep=6;CTeam.setMatchState_dup_I(0);++CTeam.m_train_win_count;cGame.s_isChallengeSuccess=true;GLLib.Dbg("winningggggggggggg 1");break Label_1824}CTeam.setTrainStep(5);break Label_1824;case 3:case 5:case 6:case 7:GLLib.Dbg("fail dure:"+CTeam.s_matchState);CTeam.setTrainStep(5);break Label_1824;default:GLLib.Dbg("corner Training: state is:"+CTeam.s_matchState);break Label_1824}break;case 4:switch(CTeam.s_matchState){case 0:if(CTeam.s_isStartTime){CTeam.s_training_step_start_time=java.lang.System.currentTimeMillis();CTeam.s_training_step_current_time=0;CTeam.s_train_step_current_frame=0;CTeam.s_isStartTime=false}else{CTeam.s_training_step_current_time+=GLLib.s_game_frameDT}CTeam.updateTrainingTime(20000);if(!Actor.s_ball_heldbygk&&(CPlayer.s_ballOwner==null||CPlayer.s_ballOwner.m_myTeam.m_ID==CTeam.s_team0.m_ID)&&(CTeam.s_team0.m_leftSide?Actor.s_football.m_posX:(-Actor.s_football.m_posX))>=25600&&CTeam.s_training_step_current_time<=20000){break Label_1824}if(cGame.s_miniGameScore>0&&CTeam.m_train_train_count==2){CTeam.s_TrainStep=6;CTeam.setMatchState_dup_I(0);++CTeam.m_train_win_count;cGame.s_isChallengeSuccess=true;GLLib.Dbg("winningggggggggggg 2");break Label_1824}CTeam.setTrainStep(5);break Label_1824;case 1:CTeam.setTrainStep(6);break Label_1824;case 4:if(cGame.s_aiMode!=12){CTeam.setTrainStep(5);break Label_1824}if(cGame.s_miniGameScore>0&&CTeam.m_train_train_count==2){CTeam.s_TrainStep=6;CTeam.setMatchState_dup_I(0);++CTeam.m_train_win_count;cGame.s_isChallengeSuccess=true;GLLib.Dbg("winningggggggggggg 3");break Label_1824}CTeam.setTrainStep(5);break Label_1824;case 3:case 5:case 6:case 7:GLLib.Dbg("fail dure:"+CTeam.s_matchState);CTeam.setTrainStep(5);break Label_1824;default:CTeam.setTrainStep(5);GLLib.Dbg("One-Two Training, fail: state is:"+CTeam.s_matchState);break Label_1824}break;case 5:if((cGame.anyKeyPressed_dup_()||cGame.anyKeyHold()||cGame.s_isClicked||cGame.s_touchNeeddraw_cursor)&&!cGame.haveKeyPressed_dup_I(19)&&!cGame.haveKeyPressed_dup_I(11)&&!cGame.haveKeyPressed_dup_I(18)&&!cGame.haveKeyHold_dup_I(19)&&!cGame.haveKeyHold_dup_I(11)&&!cGame.haveKeyHold_dup_I(18)&&cGame.s_curObj.button_Index!=2){CTeam.setTrainStep(4);break}break;case 11:if(!cGame.s_isNeedShowMessage&&cGame.s_fade==0){break}break;case 6:var f=CTeam.isDribbleInArea();if(CPlayer.s_focusPlayer!=null){CTeam.s_passAndHitFlag=0;CTeam.updateCheckDribbleElement();CTeam.updateCheckPlayerHitElements();if(CTeam.s_comboPassCount==5){CTeam.s_comboPassCount=0}}if(cGame.s_aiMode==9&&!cGame.s_dribbleStart){cGame.updateDribbleTime()}for(var g=0;g<Actor.s_actorCount;++g){var l=Actor.s_actors[g];cGame.pos3DTo2D(CTeam.s_kickPlayer.m_posX,CTeam.s_kickPlayer.m_posY,0);var e=java.lang.Math.abs(cGame.s_pos2Dx-l.m_posX);var m=java.lang.Math.abs(cGame.s_pos2Dy-l.m_posY);var k=java.lang.Math.abs(cGame.s_pos2Dy-32-l.m_posY);cGame.pos3DTo2D(Actor.s_football.m_posX,Actor.s_football.m_posY,0);var n=java.lang.Math.abs(cGame.s_pos2Dx-l.m_posX);var d=java.lang.Math.abs(cGame.s_pos2Dy-l.m_posY);if(e<=25&&(m<=25||k<=25)){break}if(n<=20&&d<=20){break}}break;case 9:switch(CTeam.s_matchState){case 0:if(Actor.isSomebodyBeKilled()){if(cGame.s_aiMode!=15){CTeam.setMatchState_dup_I(1)}GLLib.Dbg(">>>> PENALTY TRAIN_SUCCESS");CTeam.setTrainStep(6);++cGame.s_miniGameScoreSeriesTime;if(cGame.s_miniGameScoreSeriesTimeMax<cGame.s_miniGameScoreSeriesTime){cGame.s_miniGameScoreSeriesTimeMax=cGame.s_miniGameScoreSeriesTime;break Label_1824}break Label_1824}else{if((CPlayer.s_ballOwner!=null&&CPlayer.s_ballOwner.m_myTeam.m_ID!=CTeam.s_team0.m_ID)||Actor.s_football.m_vX*Actor.s_football.m_posX<=0||Actor.s_football.m_lastPosX-768>135168||Actor.s_football.m_lastPosX+768<-135168||(Actor.s_football.m_posZ<=256&&java.lang.Math.abs(Actor.s_football.m_vX)<256&&java.lang.Math.abs(Actor.s_football.m_vY)<256)||(CPlayer.s_ballLastOwner==CTeam.s_team1.m_players[0]&&!Actor.isSomebodyBeKilled())){CTeam.setTrainStep(5);break Label_1824}break Label_1824}break;case 1:case 4:CTeam.setTrainStep(5);cGame.s_miniGameScoreSeriesTime=0;break Label_1824;case 7:case 8:break Label_1824;default:GLLib.Dbg("Freekick Training: state is:"+CTeam.s_matchState+" set it as MS_GOALKICK");CTeam.setMatchState_dup_I(4);CTeam.setTrainStep(5);cGame.s_miniGameScoreSeriesTime=0;break Label_1824}break;case 10:switch(CTeam.s_matchState){case 0:if(cGame.s_isHitBar||cGame.s_breakedTargetIndex>-1){cGame.s_isHitBar=false;cGame.s_needShowHirBarDeduction=true;CTeam.setTrainStep(6);break Label_1824}if(Actor.s_football.m_posZ<=200&&java.lang.Math.abs(Actor.s_football.m_vX)<=200&&java.lang.Math.abs(Actor.s_football.m_vY)<=200){CTeam.setTrainStep(5);break Label_1824}break Label_1824;case 1:case 4:var j=false;if(cGame.s_aiMode!=20){CTeam.setTrainStep(5);break Label_1824}if(CTeam.m_train_train_count+1==cGame.s_currect_training_mode_train_count){for(var g=0;g<CTeam.m_train_train_count;++g){if(cGame.s_miniGameHirBarScore[g]>0){j=true;break}}}if(j){cGame.s_isHitBar=false;cGame.s_needShowHirBarDeduction=true;CTeam.setTrainStep(6);break Label_1824}CTeam.setTrainStep(5);break Label_1824;case 7:if(CTeam.s_period==6){cGame.pos3DTo2D(CTeam.s_placementX+20480,CTeam.s_placementY,0);cGame.setSpecialCamera_dup_ZIIII(true,cGame.s_pos2Dx,cGame.s_pos2Dy,1,-1);break Label_1824}break Label_1824}break}}return false};CTeam.s_sceneGame=gloft.ArrayCreation([11],gloft.casttoint(null));CTeam.s_sceneStep=1;CTeam.MAX_5v5_FK=3;CTeam.MAX_5v5_TR=2;CTeam.MAX_5v5_CK=3;CTeam.s_homeTeamID=0;CTeam.s_awayTeamID=1;CTeam.m_punishment=gloft.ArrayCreation([30],gloft.casttoint(null));CTeam.m_tempSuspension=gloft.ArrayCreation([2,30],gloft.casttoint(null));CTeam.m_playerID_in_default_order=gloft.ArrayCreation([30],gloft.casttoint(null));CTeam.ATTACK_DEFEND_LINE=[-8,0,6,10,-10,0,6,12,-10,0,4,10,-6,0,2,6,-8,0,6,10];CTeam.ATTACK_DEFEND_OFFSET=[-14,-7,-9,-12,-14,-4,-2,-8,-8,-2,0,-2,-6,0,6,2,-2,2,9,3];CTeam.ATTACK_DEFEND_FREEKICK_OFFSET=[-8,-7,-6,-12,-6,-4,-2,-8,-4,-2,2,-2,0,4,8,2,4,9,10,3];CTeam.DIR_TRANSFORM=[-1,-1,0,1,1,1,0,-1,-1,-1];CTeam.s_lineOfGrid=gloft.ArrayCreation([21],gloft.casttobyte(null));CTeam.s_bHasDefInDir=gloft.ArrayCreation([9],gloft.casttoboolean(null));CTeam.s_SkipedNearstPlayerId=-1;CTeam.PRESS_TO_CLOSE_TIME=10;CTeam.s_throughReceiverID=-1;CTeam.time_cool_home=180;CTeam.time_cool_away=175;CTeam.s_ballOwenerDir=0;CTeam.s_ticksAfterballOwenerChangeDir=0;CTeam.s_standbyPoints=gloft.ArrayCreation([5,5],gloft.casttoint(null));CTeam.s_nAvoidPlayer=0;CTeam.dribblePoint=gloft.ArrayCreation([10,4],gloft.casttoint(null));CTeam.shortPassPoint=gloft.ArrayCreation([8,4],gloft.casttoint(null));CTeam.longPassPoint=gloft.ArrayCreation([5,4],gloft.casttoint(null));CTeam.s_DecideCounter=0;CTeam.s_DecideResult=gloft.ArrayCreation([5],gloft.casttoint(null));CTeam.s_dcdSeqIndex=0;CTeam.s_decideSequence=gloft.ArrayCreation([32],gloft.casttoint(null));CTeam.s_directPass=0;CTeam.s_fastRun=0;CTeam.s_decideTurn=gloft.ArrayCreation([5],gloft.casttoint(null));CTeam.s_standbyPointX=0;CTeam.s_standbyPointY=0;CTeam.s_standbyPlayer=0;CTeam.score=gloft.ArrayCreation([10],gloft.casttoint(null));CTeam.s_lengendPlayer=6;CTeam.s_ballOwnerstate=2;CTeam.s_ballOwnerLaststate=CTeam.s_ballOwnerstate;CTeam.s_offsideLine=gloft.ArrayCreation([2],gloft.casttoint(null));CTeam.s_isGoalFormationChange=false;CTeam.DIS_BETWEEN_DEFEND_AND_ATTACK=[40,40,35,30,30,20];CTeam.DIS_REDUCE_PER_TICK=[3,3,5,6,6,6];CTeam.DEFEND_GRID_X=[-3,1,10,-8,-2,6,-9,-6,4,-12,-9,2,-14,-12,0];CTeam.DEFEND_FREEKICK_GRID_X=[-3,1,10,-8,-2,6,-9,-6,4,-12,-9,2,-14,-12,0];CTeam.DEFEND_BALL_GRID_X=[17,8,7,1,0,-5,-6,-11,-12,-16];CTeam.DEFEND_GRID_OFFSET=[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]];CTeam.m_zonePress=1;CTeam.ZONE_PRESS_OFFSET=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[2,2,2],[0,0,0],[-2,-2,-2],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]];CTeam.DEFEND_ZONE=[[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,1,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,1,2,2,2,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,2,1,2,2,1,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,1,2,2,1,2,2,2,2,1,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,2,2,2,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,1,2,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2],[0,0,0,0,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,1,1,2,2,1,1,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,1,2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,1,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,2,1,2,2,1,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,1,1,2,2],[0,0,0,0,1,1,2,2,1,1,2,2,1,1,2,2,2,2,2,2,1,2,2,2,2,1,2,2,2,1,2,2,1,2,2,2,2,2,2,2,1,1,2,2]];CTeam.s_teamTactics=[0,0];CTeam.s_bDebugSupport=false;CTeam.SHOOT_DANGER_DISTANCE=25600;CTeam.s_SaveFrame=-1;CTeam.s_matchState=-1;CTeam.s_matchLastState=CTeam.s_matchState;CTeam.s_mathePreState=-1;CTeam.s_kickOffPlayerID=-1;CTeam.s_Lastperiod=CTeam.s_period;CTeam.s_Nextperiod=CTeam.s_period;CTeam.s_shootoutResult=gloft.ArrayCreation([10],gloft.casttoboolean(null));CTeam.s_sideCelebration=false;CTeam.s_sideCelePlayer=null;CTeam.s_jumpToStart=-1;CTeam.s_handshakeWait=15;CTeam.s_periodSwitching=false;CTeam.s_ctrPeriodSwitching=0;CTeam.s_isFoulCounterEnable=false;CTeam.s_isFoulCounter=0;CTeam.CORNER_MATCH_LOCATION_GRID_X=[14,11,11,15,15,15,14,14,13,2,1,-2,-2,-2,-5,-5];CTeam.CORNER_MATCH_LOCATION_GRID_Y=[8,1,-2,2,-2,0,-2,1,-1,-4,2,0,-6,6,-4,4];CTeam.CORNER_TRAIN_PREFERENTIAL_ATT=[1,0,0,2,0,0,3,0,0,3,1,0,3,1,1,4,1,1,4,2,1];CTeam.CORNER_MATCH_PREFERENTIAL_ATT=[1,0,0,2,0,0,3,0,0,2,1,1,3,1,1,4,1,1,4,2,1];CTeam.CORNER__TRAIN_MATCH_PREFERENTIAL_DEF=[1,0,0,2,0,0,3,0,0,3,1,0,3,1,1,4,1,1,5,1,1,6,1,1,6,2,1];CTeam.s_corner_match_location_mark_att=gloft.ArrayCreation([16],gloft.casttoint(null));CTeam.s_corner_match_location_mark_def=gloft.ArrayCreation([16],gloft.casttoint(null));CTeam.s_hasSetPlayerPos=false;CTeam.GET_FORWARDPLAYER_MAX=3;CTeam.s_ForwardPlayerList=gloft.ArrayCreation([CTeam.GET_FORWARDPLAYER_MAX],gloft.casttoint(null));CTeam.CORNER_TRAINING_DESIGN=[[1,1,0,3,0],[1,0,0,3,2],[1,1,1,4,3],[1,0,1,5,4],[1,1,1,6,6],[0,0,0,3,1],[0,1,1,3,3],[0,0,1,4,5],[0,1,1,5,7],[0,0,1,6,8]];CTeam.have_defender_in_training=true;CTeam.ONE_TWO_TRAINING_DESIGN=[[8,1,8,-1],gloft.ArrayCreation([0],gloft.casttobyte(null)),[8,1,8,-1],[12,0],[8,1,8,-1],[12,0,13,1],[8,1,8,-1],[12,0,13,1,13,-1],[8,1,8,-1,7,0],[12,0],[8,1,8,-1,7,0],[12,0,13,1,13,-1],[8,1,8,-1,7,0],[12,0,13,1,13,-1,12,2],[8,1,8,-1,7,0,7,-2],[12,0,13,1,13,-1],[8,1,8,-1,7,0,7,-2],[12,0,13,1,13,-1,12,2],[8,1,8,-1,7,0,7,-2],[12,0,13,1,13,-1,12,2,12,-2]];CTeam.s_hasCaculatedFKCR=false;CTeam.s_has_humanwall_builded=false;CTeam.s_bHasFreeKickAssit=false;CTeam.FREE_KICK_MISS_OFFSET_X=16;CTeam.s_FKReceiverNumber=-1;CTeam.FORBIDDEN_ZONE_TOP_GRID=0;CTeam.FORBIDDEN_ZONE_BOTTOM_GRID=0;CTeam.FORBIDDEN_ZONE_LEFT_GRID=0;CTeam.FORBIDDEN_ZONE_RIGHT_GRID=0;CTeam.s_foulPlayer=null;CTeam.s_offsidePlayer=null;CTeam.s_injuredPlayer=null;CTeam.s_bInjured=false;CTeam.s_upsetPlayer=null;CTeam.s_isFlying=false;CTeam.s_celebrate_emotions=[2,24,3,4,12,16,13];CTeam.s_newTutorialCounter=0;CTeam.s_TutoCounterSet=false;CTeam.s_part=1;CTeam.s_isShootTaskOver=false;CTeam.s_needDrawRetry=true;CTeam.s_canThroughInTutorial=false;CTeam.s_isTutorialHeadShoot=false;CTeam.s_isTutorialShoot=false;CTeam.s_isTutorialLongPassBySharp=false;CTeam.TRAIN_DIFFICULTY_DEFIENS=[1,1,2,2,3,4,4,4,4,5,1,1,2,2,3,3,4,4,5,5,1,1,2,2,3,3,3,4,4,5,1,2,2,3,3,3,4,4,5,5,1,2,2,3,3,3,4,4,5,5];CTeam.ONE_TWO_MACHINE_DATA=[[-1,-1,-1,-1,-1,-1,1,-1],[-1,-1,-1,-1,-1,-1,2,-1],[-1,-1,0,-1,-1,-1,4,-1],[-256],[4],[-1,-1,-1,-1,25,-1,8,-1],[-1,-1,-1,-1,90,-1,7,-1],[-1,26,-1,-1,-1,-1,8,-1],[2,20],[-256],[3,50],[-1,-1,-1,-1,15,-1,12,-1],[-256]];CTeam.DT_RANK_GRADE_TIMES=[152,169,172,100,115,130,122,135,150,189,205,230,161,182,193,275,292,301,324,340,357,229,245,253,219,241,269,337,351,412];CTeam.isDribbleOutArea=false;CTeam.s_startDribbleIndex=-1;CTeam.s_curDribbleIndex=0;CTeam.s_curDribbleElementID=-1;CTeam.s_curCrossBarLinkID=-1;CTeam.s_isNewRotateBar=false;CTeam.s_rotateCurDirIndex=0;CTeam.s_rotateGuideOff=0;CTeam.s_rotateLastDir=0;CTeam.s_rotateWrongDirNum=0;CTeam.s_comboPassCount=0;CTeam.s_passAndHitFlag=0;CTeam.s_hitElementPlayerTeamID=0;CTeam.s_hitElementPlayerID=0;CTeam.DRIBBLE_MACHINE_DATA=[[-1,-1,-1,-1,2,-1,1,-1],[-1,-1,-1,-1,-1,-1,2,-1],[5],[-256],[6],[-1,-1,-1,-1,25,-1,8,-1],[-1,-1,-1,-1,0,-1,8,-1],[-256],[2,0],[-256],[3,20],[-1,-1,-1,-1,15,-1,12,-1],[-256]];CTeam.FREEKICK_MACHINE_DATA=[[-1,-1,-1,-1,2,-1,1,-1],[-1,-1,-1,-1,-1,-1,4,-1],[-256],[-256],[9],[-1,-1,-1,-1,25,-1,8,-1],[-1,-1,-1,-1,50,-1,8,-1],[-1,26,-1,-1,-1,-1,8,-1],[2,20],[-256],[3,50],[-1,-1,-1,-1,15,-1,12,-1],[-256]];CTeam.HITBAR_MACHINE_DATA=[[-1,-1,-1,-1,2,-1,1,-1],[-1,-1,-1,-1,-1,-1,4,-1],[-256],[-256],[10],[-1,-1,-1,-1,25,-1,8,-1],[-1,-1,-1,-1,50,-1,8,-1],[-1,26,-1,-1,-1,-1,8,-1],[2,20],[-256],[3,50],[-1,-1,-1,-1,15,-1,12,-1],[-256]];CTeam.s_training_lock=gloft.ArrayCreation([6],gloft.casttobyte(null));CTeam.s_TrainStep=0;CTeam.isTrainFailViaOffsde=false;CTeam.s_miniGameHitBarTargetYArray=[-42,-25,-8,8,25,42];CTeam.s_canHitBarPower=0;CTeam.s_windDirection=-1;CTeam.s_windForce=-1;CTeam.WIND_FORCE=[1,2,4];CTeam.s_isStartTime=true;