gloft.$=function(a){var c=(this===gloft)?document:this;var b=(a instanceof HTMLElement)?a:c.querySelector(a);if(b){b.find=b.find||gloft.$;b.hasClass=b.hasClass||function(d){return this.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))};b.addClass=b.addClass||function(d){if(!this.hasClass(d)){if(this.className){this.className+=" "}this.className+=d}return this};b.removeClass=b.removeClass||function(d){if(this.hasClass(d)){this.className=this.className.replace(d,"")}return this};b.remove=b.remove||function(){if(this.parentNode){this.parentNode.removeChild(this)}return this};b.appendTo=b.appendTo||function(d){d.appendChild(this);return this};b.prependTo=b.prependTo||function(d){(d.childNodes[0])?d.insertBefore(this,d.childNodes[0]):d.appendChild(this);return this};b.transforms=b.transforms||function(){this.style[gloft.$.trans]=gloft.$.translate(this.position)+gloft.$.rotate(this.rotation)+gloft.$.scale(this.scale)+gloft.$.skew(this.skew);return this};b.position=b.position||{x:0,y:0};b.rotation=b.rotation||0;b.scale=b.scale||{x:1,y:1};b.skew=b.skew||{x:0,y:0};b.translates=function(d,e){this.position.x=d;this.position.y=e;this.transforms();return this};b.rotate=function(d){this.rotation=d;this.transforms();return this};b.resize=function(d,e){this.scale.x=d;this.scale.y=e;this.transforms();return this};b.setSkew=function(d,e){this.skew.x=d;this.skew.y=e;this.transforms();return this}}return b};switch(gloft.sys.browserType){case gloft.sys.BROWSER_TYPE_FIREFOX:gloft.$.pfx="Moz";gloft.$.hd=true;break;case gloft.sys.BROWSER_TYPE_CHROME:case gloft.sys.BROWSER_TYPE_SAFARI:gloft.$.pfx="webkit";gloft.$.hd=true;break;case gloft.sys.BROWSER_TYPE_OPERA:gloft.$.pfx="O";gloft.$.hd=false;break;case gloft.sys.BROWSER_TYPE_IE:gloft.$.pfx="ms";gloft.$.hd=false;break;default:gloft.$.pfx="webkit";gloft.$.hd=true}gloft.$.trans=gloft.$.pfx+"Transform";gloft.$.translate=(gloft.$.hd)?function(b){return"translate3d("+b.x+"px, "+b.y+"px, 0) "}:function(b){return"translate("+b.x+"px, "+b.y+"px) "};gloft.$.rotate=(gloft.$.hd)?function(b){return"rotateZ("+b+"deg) "}:function(b){return"rotate("+b+"deg) "};gloft.$.scale=function(b){return"scale("+b.x+", "+b.y+") "};gloft.$.skew=function(b){return"skewX("+-b.x+"deg) skewY("+b.y+"deg)"};gloft.$new=function(a){return gloft.$(document.createElement(a))};gloft.$.findpos=function(b){var c=0;var a=0;do{c+=b.offsetLeft;a+=b.offsetTop}while(b=b.offsetParent);return{x:c,y:a}};